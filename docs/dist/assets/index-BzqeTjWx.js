(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function cT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var nm={exports:{}},Dl={};var gv;function P1(){if(gv)return Dl;gv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Dl.Fragment=e,Dl.jsx=n,Dl.jsxs=n,Dl}var yv;function k1(){return yv||(yv=1,nm.exports=P1()),nm.exports}var D=k1(),im={exports:{}},be={};var _v;function L1(){if(_v)return be;_v=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),I=Symbol.iterator;function M(k){return k===null||typeof k!="object"?null:(k=I&&k[I]||k["@@iterator"],typeof k=="function"?k:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,z={};function X(k,$,re){this.props=k,this.context=$,this.refs=z,this.updater=re||U}X.prototype.isReactComponent={},X.prototype.setState=function(k,$){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,$,"setState")},X.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function W(){}W.prototype=X.prototype;function ie(k,$,re){this.props=k,this.context=$,this.refs=z,this.updater=re||U}var Ee=ie.prototype=new W;Ee.constructor=ie,B(Ee,X.prototype),Ee.isPureReactComponent=!0;var ce=Array.isArray;function pe(){}var b={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(k,$,re){var oe=re.ref;return{$$typeof:r,type:k,key:$,ref:oe!==void 0?oe:null,props:re}}function C(k,$){return R(k.type,$,k.props)}function x(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function V(k){var $={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(re){return $[re]})}var N=/\/+/g;function Ie(k,$){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):$.toString(36)}function nt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(pe,pe):(k.status="pending",k.then(function($){k.status==="pending"&&(k.status="fulfilled",k.value=$)},function($){k.status==="pending"&&(k.status="rejected",k.reason=$)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Q(k,$,re,oe,_e){var Ae=typeof k;(Ae==="undefined"||Ae==="boolean")&&(k=null);var je=!1;if(k===null)je=!0;else switch(Ae){case"bigint":case"string":case"number":je=!0;break;case"object":switch(k.$$typeof){case r:case e:je=!0;break;case E:return je=k._init,Q(je(k._payload),$,re,oe,_e)}}if(je)return _e=_e(k),je=oe===""?"."+Ie(k,0):oe,ce(_e)?(re="",je!=null&&(re=je.replace(N,"$&/")+"/"),Q(_e,$,re,"",function(ls){return ls})):_e!=null&&(x(_e)&&(_e=C(_e,re+(_e.key==null||k&&k.key===_e.key?"":(""+_e.key).replace(N,"$&/")+"/")+je)),$.push(_e)),1;je=0;var ft=oe===""?".":oe+":";if(ce(k))for(var ot=0;ot<k.length;ot++)oe=k[ot],Ae=ft+Ie(oe,ot),je+=Q(oe,$,re,Ae,_e);else if(ot=M(k),typeof ot=="function")for(k=ot.call(k),ot=0;!(oe=k.next()).done;)oe=oe.value,Ae=ft+Ie(oe,ot++),je+=Q(oe,$,re,Ae,_e);else if(Ae==="object"){if(typeof k.then=="function")return Q(nt(k),$,re,oe,_e);throw $=String(k),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return je}function ae(k,$,re){if(k==null)return k;var oe=[],_e=0;return Q(k,oe,"","",function(Ae){return $.call(re,Ae,_e++)}),oe}function me(k){if(k._status===-1){var $=k._result;$=$(),$.then(function(re){(k._status===0||k._status===-1)&&(k._status=1,k._result=re)},function(re){(k._status===0||k._status===-1)&&(k._status=2,k._result=re)}),k._status===-1&&(k._status=0,k._result=$)}if(k._status===1)return k._result.default;throw k._result}var xe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Ve={map:ae,forEach:function(k,$,re){ae(k,function(){$.apply(this,arguments)},re)},count:function(k){var $=0;return ae(k,function(){$++}),$},toArray:function(k){return ae(k,function($){return $})||[]},only:function(k){if(!x(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return be.Activity=T,be.Children=Ve,be.Component=X,be.Fragment=n,be.Profiler=o,be.PureComponent=ie,be.StrictMode=s,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,be.__COMPILER_RUNTIME={__proto__:null,c:function(k){return b.H.useMemoCache(k)}},be.cache=function(k){return function(){return k.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(k,$,re){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var oe=B({},k.props),_e=k.key;if($!=null)for(Ae in $.key!==void 0&&(_e=""+$.key),$)!w.call($,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&$.ref===void 0||(oe[Ae]=$[Ae]);var Ae=arguments.length-2;if(Ae===1)oe.children=re;else if(1<Ae){for(var je=Array(Ae),ft=0;ft<Ae;ft++)je[ft]=arguments[ft+2];oe.children=je}return R(k.type,_e,oe)},be.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},be.createElement=function(k,$,re){var oe,_e={},Ae=null;if($!=null)for(oe in $.key!==void 0&&(Ae=""+$.key),$)w.call($,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(_e[oe]=$[oe]);var je=arguments.length-2;if(je===1)_e.children=re;else if(1<je){for(var ft=Array(je),ot=0;ot<je;ot++)ft[ot]=arguments[ot+2];_e.children=ft}if(k&&k.defaultProps)for(oe in je=k.defaultProps,je)_e[oe]===void 0&&(_e[oe]=je[oe]);return R(k,Ae,_e)},be.createRef=function(){return{current:null}},be.forwardRef=function(k){return{$$typeof:m,render:k}},be.isValidElement=x,be.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:me}},be.memo=function(k,$){return{$$typeof:y,type:k,compare:$===void 0?null:$}},be.startTransition=function(k){var $=b.T,re={};b.T=re;try{var oe=k(),_e=b.S;_e!==null&&_e(re,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(pe,xe)}catch(Ae){xe(Ae)}finally{$!==null&&re.types!==null&&($.types=re.types),b.T=$}},be.unstable_useCacheRefresh=function(){return b.H.useCacheRefresh()},be.use=function(k){return b.H.use(k)},be.useActionState=function(k,$,re){return b.H.useActionState(k,$,re)},be.useCallback=function(k,$){return b.H.useCallback(k,$)},be.useContext=function(k){return b.H.useContext(k)},be.useDebugValue=function(){},be.useDeferredValue=function(k,$){return b.H.useDeferredValue(k,$)},be.useEffect=function(k,$){return b.H.useEffect(k,$)},be.useEffectEvent=function(k){return b.H.useEffectEvent(k)},be.useId=function(){return b.H.useId()},be.useImperativeHandle=function(k,$,re){return b.H.useImperativeHandle(k,$,re)},be.useInsertionEffect=function(k,$){return b.H.useInsertionEffect(k,$)},be.useLayoutEffect=function(k,$){return b.H.useLayoutEffect(k,$)},be.useMemo=function(k,$){return b.H.useMemo(k,$)},be.useOptimistic=function(k,$){return b.H.useOptimistic(k,$)},be.useReducer=function(k,$,re){return b.H.useReducer(k,$,re)},be.useRef=function(k){return b.H.useRef(k)},be.useState=function(k){return b.H.useState(k)},be.useSyncExternalStore=function(k,$,re){return b.H.useSyncExternalStore(k,$,re)},be.useTransition=function(){return b.H.useTransition()},be.version="19.2.0",be}var vv;function Wm(){return vv||(vv=1,im.exports=L1()),im.exports}var ee=Wm();const de=cT(ee);var rm={exports:{}},xl={},sm={exports:{}},am={};var Ev;function U1(){return Ev||(Ev=1,(function(r){function e(Q,ae){var me=Q.length;Q.push(ae);e:for(;0<me;){var xe=me-1>>>1,Ve=Q[xe];if(0<o(Ve,ae))Q[xe]=ae,Q[me]=Ve,me=xe;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ae=Q[0],me=Q.pop();if(me!==ae){Q[0]=me;e:for(var xe=0,Ve=Q.length,k=Ve>>>1;xe<k;){var $=2*(xe+1)-1,re=Q[$],oe=$+1,_e=Q[oe];if(0>o(re,me))oe<Ve&&0>o(_e,re)?(Q[xe]=_e,Q[oe]=me,xe=oe):(Q[xe]=re,Q[$]=me,xe=$);else if(oe<Ve&&0>o(_e,me))Q[xe]=_e,Q[oe]=me,xe=oe;else break e}}return ae}function o(Q,ae){var me=Q.sortIndex-ae.sortIndex;return me!==0?me:Q.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,I=3,M=!1,U=!1,B=!1,z=!1,X=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function Ee(Q){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=Q)s(y),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(y)}}function ce(Q){if(B=!1,Ee(Q),!U)if(n(p)!==null)U=!0,pe||(pe=!0,V());else{var ae=n(y);ae!==null&&nt(ce,ae.startTime-Q)}}var pe=!1,b=-1,w=5,R=-1;function C(){return z?!0:!(r.unstable_now()-R<w)}function x(){if(z=!1,pe){var Q=r.unstable_now();R=Q;var ae=!0;try{e:{U=!1,B&&(B=!1,W(b),b=-1),M=!0;var me=I;try{t:{for(Ee(Q),T=n(p);T!==null&&!(T.expirationTime>Q&&C());){var xe=T.callback;if(typeof xe=="function"){T.callback=null,I=T.priorityLevel;var Ve=xe(T.expirationTime<=Q);if(Q=r.unstable_now(),typeof Ve=="function"){T.callback=Ve,Ee(Q),ae=!0;break t}T===n(p)&&s(p),Ee(Q)}else s(p);T=n(p)}if(T!==null)ae=!0;else{var k=n(y);k!==null&&nt(ce,k.startTime-Q),ae=!1}}break e}finally{T=null,I=me,M=!1}ae=void 0}}finally{ae?V():pe=!1}}}var V;if(typeof ie=="function")V=function(){ie(x)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ie=N.port2;N.port1.onmessage=x,V=function(){Ie.postMessage(null)}}else V=function(){X(x,0)};function nt(Q,ae){b=X(function(){Q(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(Q){switch(I){case 1:case 2:case 3:var ae=3;break;default:ae=I}var me=I;I=ae;try{return Q()}finally{I=me}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var me=I;I=Q;try{return ae()}finally{I=me}},r.unstable_scheduleCallback=function(Q,ae,me){var xe=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?xe+me:xe):me=xe,Q){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=me+Ve,Q={id:E++,callback:ae,priorityLevel:Q,startTime:me,expirationTime:Ve,sortIndex:-1},me>xe?(Q.sortIndex=me,e(y,Q),n(p)===null&&Q===n(y)&&(B?(W(b),b=-1):B=!0,nt(ce,me-xe))):(Q.sortIndex=Ve,e(p,Q),U||M||(U=!0,pe||(pe=!0,V()))),Q},r.unstable_shouldYield=C,r.unstable_wrapCallback=function(Q){var ae=I;return function(){var me=I;I=ae;try{return Q.apply(this,arguments)}finally{I=me}}}})(am)),am}var Tv;function z1(){return Tv||(Tv=1,sm.exports=U1()),sm.exports}var om={exports:{}},$t={};var Sv;function j1(){if(Sv)return $t;Sv=1;var r=Wm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},$t.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},$t.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:I,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:I,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},$t.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,y){return p(y)},$t.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var Av;function B1(){if(Av)return om.exports;Av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),om.exports=j1(),om.exports}var wv;function q1(){if(wv)return xl;wv=1;var r=z1(),e=Wm(),n=B1();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,I=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case X:return"Profiler";case z:return"StrictMode";case ce:return"Suspense";case pe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case ie:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case Ee:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case b:return i=t.displayName||null,i!==null?i:Ie(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return Ie(t(i))}catch{}}return null}var nt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},xe=[],Ve=-1;function k(t){return{current:t}}function $(t){0>Ve||(t.current=xe[Ve],xe[Ve]=null,Ve--)}function re(t,i){Ve++,xe[Ve]=t.current,t.current=i}var oe=k(null),_e=k(null),Ae=k(null),je=k(null);function ft(t,i){switch(re(Ae,i),re(_e,t),re(oe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?z_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=z_(i),t=j_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(oe),re(oe,t)}function ot(){$(oe),$(_e),$(Ae)}function ls(t){t.memoizedState!==null&&re(je,t);var i=oe.current,a=j_(i,t.type);i!==a&&(re(_e,t),re(oe,a))}function ta(t){_e.current===t&&($(oe),$(_e)),je.current===t&&($(je),Rl._currentValue=me)}var na,ia;function ni(t){if(na===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);na=i&&i[1]||"",ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+t+ia}var Ro=!1;function us(t,i){if(!t||Ro)return"";Ro=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(K){var F=K}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(K){F=K}t.call(Z.prototype)}}else{try{throw Error()}catch(K){F=K}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var O=_.split(`
`),H=S.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===H.length)for(l=O.length-1,h=H.length-1;1<=l&&0<=h&&O[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==H[h]){var Y=`
`+O[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Ro=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ni(a):""}function Io(t,i){switch(t.tag){case 26:case 27:case 5:return ni(t.type);case 16:return ni("Lazy");case 13:return t.child!==i&&i!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return us(t.type,!1);case 11:return us(t.type.render,!1);case 1:return us(t.type,!0);case 31:return ni("Activity");default:return""}}function Co(t){try{var i="",a=null;do i+=Io(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,cr=r.unstable_cancelCallback,rf=r.unstable_shouldYield,gu=r.unstable_requestPaint,tn=r.unstable_now,cs=r.unstable_getCurrentPriorityLevel,No=r.unstable_ImmediatePriority,Do=r.unstable_UserBlockingPriority,hr=r.unstable_NormalPriority,sf=r.unstable_LowPriority,yu=r.unstable_IdlePriority,_u=r.log,vu=r.unstable_setDisableYieldValue,Un=null,jt=null;function Sn(t){if(typeof _u=="function"&&vu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Un,t)}catch{}}var pt=Math.clz32?Math.clz32:Tu,Eu=Math.log,ra=Math.LN2;function Tu(t){return t>>>=0,t===0?32:31-(Eu(t)/ra|0)|0}var ii=256,hs=262144,Tt=4194304;function ri(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function si(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=ri(l):(_&=S,_!==0?h=ri(_):a||(a=S&~t,a!==0&&(h=ri(a))))):(S=l&~d,S!==0?h=ri(S):_!==0?h=ri(_):a||(a=l&~t,a!==0&&(h=ri(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function zn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function af(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Su(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function ai(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function fs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function of(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,O=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-pt(a),Z=1<<Y;S[Y]=0,O[Y]=-1;var F=H[Y];if(F!==null)for(H[Y]=null,Y=0;Y<F.length;Y++){var K=F[Y];K!==null&&(K.lane&=-536870913)}a&=~Z}l!==0&&ds(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ds(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function xo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Oo(t,i){var a=i&-i;return a=(a&42)!==0?1:ms(a),(a&(t.suspendedLanes|i))!==0?0:a}function ms(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Mi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Au(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:uv(t.type))}function jn(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var Bn=Math.random().toString(36).slice(2),St="__reactFiber$"+Bn,kt="__reactProps$"+Bn,oi="__reactContainer$"+Bn,sa="__reactEvents$"+Bn,lf="__reactListeners$"+Bn,wu="__reactHandles$"+Bn,bu="__reactResources$"+Bn,li="__reactMarker$"+Bn;function aa(t){delete t[St],delete t[kt],delete t[sa],delete t[lf],delete t[wu]}function ui(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[oi]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Q_(t);t!==null;){if(a=t[St])return a;t=Q_(t)}return i}t=a,a=t.parentNode}return null}function An(t){if(t=t[St]||t[oi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function dn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ci(t){var i=t[bu];return i||(i=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[li]=!0}var Mo=new Set,Vo={};function hi(t,i){fi(t,i),fi(t+"Capture",i)}function fi(t,i){for(Vo[t]=i,t=0;t<i.length;t++)Mo.add(i[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},Lo={};function Ru(t){return Et.call(Lo,t)?!0:Et.call(ko,t)?!1:Po.test(t)?Lo[t]=!0:(ko[t]=!0,!1)}function oa(t,i,a){if(Ru(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function mn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Uo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=fr(t)?"checked":"value";t._valueTracker=Uo(t,i,""+t[i])}}function ps(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=fr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gs=/[\n"\\]/g;function sn(t){return t.replace(gs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function la(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?zo(t,_,Lt(i)):a!=null?zo(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Lt(S):t.removeAttribute("name")}function Iu(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function zo(t,i,a){i==="number"&&di(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function dr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Cu(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function mr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(nt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Nu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Bo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&jo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&jo(t,d,i[d])}function ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(t){return pr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var qo=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gr=null,mi=null;function ys(t){var i=An(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(la(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(s(90));la(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ps(l)}break e;case"textarea":Cu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&dr(t,!!a.multiple,i,!1)}}}var ha=!1;function yr(t,i,a){if(ha)return t(i,a);ha=!0;try{var l=t(i);return l}finally{if(ha=!1,(gr!==null||mi!==null)&&(Ac(),gr&&(i=gr,t=mi,mi=gr=null,ys(i),t)))for(i=0;i<t.length;i++)ys(t[i])}}function Hn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=!1;if(bn)try{var We={};Object.defineProperty(We,"passive",{get:function(){_s=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{_s=!1}var pi=null,Ho=null,vs=null;function Fo(){if(vs)return vs;var t,i=Ho,a=i.length,l,h="value"in pi?pi.value:pi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return vs=h.slice(t,1<l?1-l:void 0)}function Es(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Vi(){return!0}function Fn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Vi:Fn,this.isPropagationStopped=Fn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Bt(Pi),_r=T({},Pi,{view:0,detail:0}),Go=Bt(_r),vr,fa,yi,da=T({},_r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yi&&(yi&&t.type==="mousemove"?(vr=t.screenX-yi.screenX,fa=t.screenY-yi.screenY):fa=vr=0,yi=t),vr)},movementY:function(t){return"movementY"in t?t.movementY:fa}}),Ko=Bt(da),Ts=T({},da,{dataTransfer:0}),xu=Bt(Ts),Ou=T({},_r,{relatedTarget:0}),Ss=Bt(Ou),Qo=T({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Mu=Bt(Qo),ma=T({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vu=Bt(ma),Pu=T({},Pi,{data:0}),_i=Bt(Pu),ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Uu[t])?!!i[t]:!1}function Er(){return zu}var nn=T({},_r,{key:function(t){if(t.key){var i=ku[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(t){return t.type==="keypress"?Es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ju=Bt(nn),Bu=T({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=Bt(Bu),c=T({},_r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),g=Bt(c),v=T({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),j=T({},da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Bt(j),se=T({},Pi,{newState:0,oldState:0}),Ce=Bt(se),gt=[9,13,27,32],Ge=bn&&"CompositionEvent"in window,lt=null;bn&&"documentMode"in document&&(lt=document.documentMode);var Rn=bn&&"TextEvent"in window&&!lt,vi=bn&&(!Ge||lt&&8<lt&&11>=lt),Gn=" ",Kn=!1;function As(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ga=!1;function sA(t,i){switch(t){case"compositionend":return pa(i);case"keypress":return i.which!==32?null:(Kn=!0,Gn);case"textInput":return t=i.data,t===Gn&&Kn?null:t;default:return null}}function aA(t,i){if(ga)return t==="compositionend"||!Ge&&As(t,i)?(t=Fo(),vs=Ho=pi=null,ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vi&&i.locale!=="ko"?null:i.data;default:return null}}var oA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $p(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!oA[t.type]:i==="textarea"}function Wp(t,i,a,l){gr?mi?mi.push(l):mi=[l]:gr=l,i=Dc(i,"onChange"),0<i.length&&(a=new gi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Yo=null,Xo=null;function lA(t){M_(t,0)}function qu(t){var i=dn(t);if(ps(i))return t}function Jp(t,i){if(t==="change")return i}var Zp=!1;if(bn){var uf;if(bn){var cf="oninput"in document;if(!cf){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),cf=typeof eg.oninput=="function"}uf=cf}else uf=!1;Zp=uf&&(!document.documentMode||9<document.documentMode)}function tg(){Yo&&(Yo.detachEvent("onpropertychange",ng),Xo=Yo=null)}function ng(t){if(t.propertyName==="value"&&qu(Xo)){var i=[];Wp(i,Xo,t,wn(t)),yr(lA,i)}}function uA(t,i,a){t==="focusin"?(tg(),Yo=i,Xo=a,Yo.attachEvent("onpropertychange",ng)):t==="focusout"&&tg()}function cA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qu(Xo)}function hA(t,i){if(t==="click")return qu(i)}function fA(t,i){if(t==="input"||t==="change")return qu(i)}function dA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var pn=typeof Object.is=="function"?Object.is:dA;function $o(t,i){if(pn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(i,h)||!pn(t[h],i[h]))return!1}return!0}function ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rg(t,i){var a=ig(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ig(a)}}function sg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?sg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=di(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=di(t.document)}return i}function hf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var mA=bn&&"documentMode"in document&&11>=document.documentMode,ya=null,ff=null,Wo=null,df=!1;function og(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;df||ya==null||ya!==di(l)||(l=ya,"selectionStart"in l&&hf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&$o(Wo,l)||(Wo=l,l=Dc(ff,"onSelect"),0<l.length&&(i=new gi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ya)))}function ws(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var _a={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},mf={},lg={};bn&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function bs(t){if(mf[t])return mf[t];if(!_a[t])return t;var i=_a[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in lg)return mf[t]=i[a];return t}var ug=bs("animationend"),cg=bs("animationiteration"),hg=bs("animationstart"),pA=bs("transitionrun"),gA=bs("transitionstart"),yA=bs("transitioncancel"),fg=bs("transitionend"),dg=new Map,pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pf.push("scrollEnd");function Qn(t,i){dg.set(t,i),hi(i,[t])}var Hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},In=[],va=0,gf=0;function Fu(){for(var t=va,i=gf=va=0;i<t;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&mg(a,h,d)}}function Gu(t,i,a,l){In[va++]=t,In[va++]=i,In[va++]=a,In[va++]=l,gf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function yf(t,i,a,l){return Gu(t,i,a,l),Ku(t)}function Rs(t,i){return Gu(t,null,null,i),Ku(t)}function mg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ku(t){if(50<vl)throw vl=0,Rd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ea={};function _A(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,i,a,l){return new _A(t,i,a,l)}function _f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Li(t,i){var a=t.alternate;return a===null?(a=gn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function pg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Qu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")_f(t)&&(_=1);else if(typeof t=="string")_=A1(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=gn(31,a,i,h),t.elementType=R,t.lanes=d,t;case B:return Is(a.children,h,d,i);case z:_=8,h|=24;break;case X:return t=gn(12,a,i,h|2),t.elementType=X,t.lanes=d,t;case ce:return t=gn(13,a,i,h),t.elementType=ce,t.lanes=d,t;case pe:return t=gn(19,a,i,h),t.elementType=pe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case W:_=9;break e;case Ee:_=11;break e;case b:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=gn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Is(t,i,a,l){return t=gn(7,t,l,i),t.lanes=a,t}function vf(t,i,a){return t=gn(6,t,null,i),t.lanes=a,t}function gg(t){var i=gn(18,null,null,0);return i.stateNode=t,i}function Ef(t,i,a){return i=gn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var yg=new WeakMap;function Cn(t,i){if(typeof t=="object"&&t!==null){var a=yg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Co(i)},yg.set(t,i),i)}return{value:t,source:i,stack:Co(i)}}var Ta=[],Sa=0,Yu=null,Jo=0,Nn=[],Dn=0,Tr=null,Ei=1,Ti="";function Ui(t,i){Ta[Sa++]=Jo,Ta[Sa++]=Yu,Yu=t,Jo=i}function _g(t,i,a){Nn[Dn++]=Ei,Nn[Dn++]=Ti,Nn[Dn++]=Tr,Tr=t;var l=Ei;t=Ti;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ei=1<<32-pt(i)+h|a<<h|l,Ti=d+t}else Ei=1<<d|a<<h|l,Ti=t}function Tf(t){t.return!==null&&(Ui(t,1),_g(t,1,0))}function Sf(t){for(;t===Yu;)Yu=Ta[--Sa],Ta[Sa]=null,Jo=Ta[--Sa],Ta[Sa]=null;for(;t===Tr;)Tr=Nn[--Dn],Nn[Dn]=null,Ti=Nn[--Dn],Nn[Dn]=null,Ei=Nn[--Dn],Nn[Dn]=null}function vg(t,i){Nn[Dn++]=Ei,Nn[Dn++]=Ti,Nn[Dn++]=Tr,Ei=i.id,Ti=i.overflow,Tr=t}var qt=null,rt=null,Be=!1,Sr=null,xn=!1,Af=Error(s(519));function Ar(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(Cn(i,t)),Af}function Eg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[kt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Me(Tl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Iu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),mr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||L_(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=qn),i=!0):i=!1,i||Ar(t,!0)}function Tg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:qt=qt.return}}function Aa(t){if(t!==qt)return!1;if(!Be)return Tg(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bd(t.type,t.memoizedProps)),a=!a),a&&rt&&Ar(t),Tg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=K_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=K_(t)}else i===27?(i=rt,Lr(t.type)?(t=Kd,Kd=null,rt=t):rt=i):rt=qt?Mn(t.stateNode.nextSibling):null;return!0}function Cs(){rt=qt=null,Be=!1}function wf(){var t=Sr;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Sr=null),t}function Zo(t){Sr===null?Sr=[t]:Sr.push(t)}var bf=k(null),Ns=null,zi=null;function wr(t,i,a){re(bf,i._currentValue),i._currentValue=a}function ji(t){t._currentValue=bf.current,$(bf)}function Rf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function If(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var O=0;O<i.length;O++)if(S.context===i[O]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Rf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Rf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function wa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;pn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===je.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&If(i,t,a,l),i.flags|=262144}function Xu(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ds(t){Ns=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Sg(Ns,t)}function $u(t,i){return Ns===null&&Ds(t),Sg(t,i)}function Sg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zi===null){if(t===null)throw Error(s(308));zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else zi=zi.next=i;return a}var vA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},EA=r.unstable_scheduleCallback,TA=r.unstable_NormalPriority,bt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new vA,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&EA(TA,function(){t.controller.abort()})}var tl=null,Nf=0,ba=0,Ra=null;function SA(t,i){if(tl===null){var a=tl=[];Nf=0,ba=Od(),Ra={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nf++,i.then(Ag,Ag),i}function Ag(){if(--Nf===0&&tl!==null){Ra!==null&&(Ra.status="fulfilled");var t=tl;tl=null,ba=0,Ra=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function AA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var wg=Q.S;Q.S=function(t,i){o_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&SA(t,i),wg!==null&&wg(t,i)};var xs=k(null);function Df(){var t=xs.current;return t!==null?t:tt.pooledCache}function Wu(t,i){i===null?re(xs,xs.current):re(xs,i.pool)}function bg(){var t=Df();return t===null?null:{parent:bt._currentValue,pool:t}}var Ia=Error(s(460)),xf=Error(s(474)),Ju=Error(s(542)),Zu={then:function(){}};function Rg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ig(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(qn,qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ng(t),t;default:if(typeof i.status=="string")i.then(qn,qn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ng(t),t}throw Ms=i,Ia}}function Os(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ms=a,Ia):a}}var Ms=null;function Cg(){if(Ms===null)throw Error(s(459));var t=Ms;return Ms=null,t}function Ng(t){if(t===Ia||t===Ju)throw Error(s(483))}var Ca=null,nl=0;function ec(t){var i=nl;return nl+=1,Ca===null&&(Ca=[]),Ig(Ca,t,i)}function il(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function tc(t,i){throw i.$$typeof===I?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Dg(t){function i(L,P){if(t){var q=L.deletions;q===null?(L.deletions=[P],L.flags|=16):q.push(P)}}function a(L,P){if(!t)return null;for(;P!==null;)i(L,P),P=P.sibling;return null}function l(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function h(L,P){return L=Li(L,P),L.index=0,L.sibling=null,L}function d(L,P,q){return L.index=q,t?(q=L.alternate,q!==null?(q=q.index,q<P?(L.flags|=67108866,P):q):(L.flags|=67108866,P)):(L.flags|=1048576,P)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,P,q,J){return P===null||P.tag!==6?(P=vf(q,L.mode,J),P.return=L,P):(P=h(P,q),P.return=L,P)}function O(L,P,q,J){var ge=q.type;return ge===B?Y(L,P,q.props.children,J,q.key):P!==null&&(P.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Os(ge)===P.type)?(P=h(P,q.props),il(P,q),P.return=L,P):(P=Qu(q.type,q.key,q.props,null,L.mode,J),il(P,q),P.return=L,P)}function H(L,P,q,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=Ef(q,L.mode,J),P.return=L,P):(P=h(P,q.children||[]),P.return=L,P)}function Y(L,P,q,J,ge){return P===null||P.tag!==7?(P=Is(q,L.mode,J,ge),P.return=L,P):(P=h(P,q),P.return=L,P)}function Z(L,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=vf(""+P,L.mode,q),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case M:return q=Qu(P.type,P.key,P.props,null,L.mode,q),il(q,P),q.return=L,q;case U:return P=Ef(P,L.mode,q),P.return=L,P;case w:return P=Os(P),Z(L,P,q)}if(nt(P)||V(P))return P=Is(P,L.mode,q,null),P.return=L,P;if(typeof P.then=="function")return Z(L,ec(P),q);if(P.$$typeof===ie)return Z(L,$u(L,P),q);tc(L,P)}return null}function F(L,P,q,J){var ge=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:S(L,P,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case M:return q.key===ge?O(L,P,q,J):null;case U:return q.key===ge?H(L,P,q,J):null;case w:return q=Os(q),F(L,P,q,J)}if(nt(q)||V(q))return ge!==null?null:Y(L,P,q,J,null);if(typeof q.then=="function")return F(L,P,ec(q),J);if(q.$$typeof===ie)return F(L,P,$u(L,q),J);tc(L,q)}return null}function K(L,P,q,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(q)||null,S(P,L,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case M:return L=L.get(J.key===null?q:J.key)||null,O(P,L,J,ge);case U:return L=L.get(J.key===null?q:J.key)||null,H(P,L,J,ge);case w:return J=Os(J),K(L,P,q,J,ge)}if(nt(J)||V(J))return L=L.get(q)||null,Y(P,L,J,ge,null);if(typeof J.then=="function")return K(L,P,q,ec(J),ge);if(J.$$typeof===ie)return K(L,P,q,$u(P,J),ge);tc(P,J)}return null}function he(L,P,q,J){for(var ge=null,He=null,fe=P,De=P=0,ke=null;fe!==null&&De<q.length;De++){fe.index>De?(ke=fe,fe=null):ke=fe.sibling;var Fe=F(L,fe,q[De],J);if(Fe===null){fe===null&&(fe=ke);break}t&&fe&&Fe.alternate===null&&i(L,fe),P=d(Fe,P,De),He===null?ge=Fe:He.sibling=Fe,He=Fe,fe=ke}if(De===q.length)return a(L,fe),Be&&Ui(L,De),ge;if(fe===null){for(;De<q.length;De++)fe=Z(L,q[De],J),fe!==null&&(P=d(fe,P,De),He===null?ge=fe:He.sibling=fe,He=fe);return Be&&Ui(L,De),ge}for(fe=l(fe);De<q.length;De++)ke=K(fe,L,De,q[De],J),ke!==null&&(t&&ke.alternate!==null&&fe.delete(ke.key===null?De:ke.key),P=d(ke,P,De),He===null?ge=ke:He.sibling=ke,He=ke);return t&&fe.forEach(function(qr){return i(L,qr)}),Be&&Ui(L,De),ge}function ve(L,P,q,J){if(q==null)throw Error(s(151));for(var ge=null,He=null,fe=P,De=P=0,ke=null,Fe=q.next();fe!==null&&!Fe.done;De++,Fe=q.next()){fe.index>De?(ke=fe,fe=null):ke=fe.sibling;var qr=F(L,fe,Fe.value,J);if(qr===null){fe===null&&(fe=ke);break}t&&fe&&qr.alternate===null&&i(L,fe),P=d(qr,P,De),He===null?ge=qr:He.sibling=qr,He=qr,fe=ke}if(Fe.done)return a(L,fe),Be&&Ui(L,De),ge;if(fe===null){for(;!Fe.done;De++,Fe=q.next())Fe=Z(L,Fe.value,J),Fe!==null&&(P=d(Fe,P,De),He===null?ge=Fe:He.sibling=Fe,He=Fe);return Be&&Ui(L,De),ge}for(fe=l(fe);!Fe.done;De++,Fe=q.next())Fe=K(fe,L,De,Fe.value,J),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?De:Fe.key),P=d(Fe,P,De),He===null?ge=Fe:He.sibling=Fe,He=Fe);return t&&fe.forEach(function(V1){return i(L,V1)}),Be&&Ui(L,De),ge}function et(L,P,q,J){if(typeof q=="object"&&q!==null&&q.type===B&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case M:e:{for(var ge=q.key;P!==null;){if(P.key===ge){if(ge=q.type,ge===B){if(P.tag===7){a(L,P.sibling),J=h(P,q.props.children),J.return=L,L=J;break e}}else if(P.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Os(ge)===P.type){a(L,P.sibling),J=h(P,q.props),il(J,q),J.return=L,L=J;break e}a(L,P);break}else i(L,P);P=P.sibling}q.type===B?(J=Is(q.props.children,L.mode,J,q.key),J.return=L,L=J):(J=Qu(q.type,q.key,q.props,null,L.mode,J),il(J,q),J.return=L,L=J)}return _(L);case U:e:{for(ge=q.key;P!==null;){if(P.key===ge)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(L,P.sibling),J=h(P,q.children||[]),J.return=L,L=J;break e}else{a(L,P);break}else i(L,P);P=P.sibling}J=Ef(q,L.mode,J),J.return=L,L=J}return _(L);case w:return q=Os(q),et(L,P,q,J)}if(nt(q))return he(L,P,q,J);if(V(q)){if(ge=V(q),typeof ge!="function")throw Error(s(150));return q=ge.call(q),ve(L,P,q,J)}if(typeof q.then=="function")return et(L,P,ec(q),J);if(q.$$typeof===ie)return et(L,P,$u(L,q),J);tc(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(L,P.sibling),J=h(P,q),J.return=L,L=J):(a(L,P),J=vf(q,L.mode,J),J.return=L,L=J),_(L)):a(L,P)}return function(L,P,q,J){try{nl=0;var ge=et(L,P,q,J);return Ca=null,ge}catch(fe){if(fe===Ia||fe===Ju)throw fe;var He=gn(29,fe,null,L.mode);return He.lanes=J,He.return=L,He}finally{}}}var Vs=Dg(!0),xg=Dg(!1),br=!1;function Of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Rr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ku(t),mg(t,null,a),i}return Gu(t,l,i,a),Ku(t)}function rl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,xo(t,a)}}function Vf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Pf=!1;function sl(){if(Pf){var t=Ra;if(t!==null)throw t}}function al(t,i,a,l){Pf=!1;var h=t.updateQueue;br=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var O=S,H=O.next;O.next=null,_===null?d=H:_.next=H,_=O;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==_&&(S===null?Y.firstBaseUpdate=H:S.next=H,Y.lastBaseUpdate=O))}if(d!==null){var Z=h.baseState;_=0,Y=H=O=null,S=d;do{var F=S.lane&-536870913,K=F!==S.lane;if(K?(Pe&F)===F:(l&F)===F){F!==0&&F===ba&&(Pf=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=t,ve=S;F=i;var et=a;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){Z=he.call(et,Z,F);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,F=typeof he=="function"?he.call(et,Z,F):he,F==null)break e;Z=T({},Z,F);break e;case 2:br=!0}}F=S.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(H=Y=K,O=Z):Y=Y.next=K,_|=F;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Y===null&&(O=Z),h.baseState=O,h.firstBaseUpdate=H,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Or|=_,t.lanes=_,t.memoizedState=Z}}function Og(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Mg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Og(a[t],i)}var Na=k(null),nc=k(0);function Vg(t,i){t=Xi,re(nc,t),re(Na,i),Xi=t|i.baseLanes}function kf(){re(nc,Xi),re(Na,Na.current)}function Lf(){Xi=nc.current,$(Na),$(nc)}var yn=k(null),On=null;function Cr(t){var i=t.alternate;re(yt,yt.current&1),re(yn,t),On===null&&(i===null||Na.current!==null||i.memoizedState!==null)&&(On=t)}function Uf(t){re(yt,yt.current),re(yn,t),On===null&&(On=t)}function Pg(t){t.tag===22?(re(yt,yt.current),re(yn,t),On===null&&(On=t)):Nr()}function Nr(){re(yt,yt.current),re(yn,yn.current)}function _n(t){$(yn),On===t&&(On=null),$(yt)}var yt=k(0);function ic(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Fd(a)||Gd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Bi=0,Ne=null,Je=null,Rt=null,rc=!1,Da=!1,Ps=!1,sc=0,ol=0,xa=null,wA=0;function dt(){throw Error(s(321))}function zf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!pn(t[a],i[a]))return!1;return!0}function jf(t,i,a,l,h,d){return Bi=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?_y:td,Ps=!1,d=a(l,h),Ps=!1,Da&&(d=Lg(i,a,l,h)),kg(t),d}function kg(t){Q.H=cl;var i=Je!==null&&Je.next!==null;if(Bi=0,Rt=Je=Ne=null,rc=!1,ol=0,xa=null,i)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&Xu(t)&&(It=!0))}function Lg(t,i,a,l){Ne=t;var h=0;do{if(Da&&(xa=null),ol=0,Da=!1,25<=h)throw Error(s(301));if(h+=1,Rt=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=vy,d=i(a,l)}while(Da);return d}function bA(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?ll(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ne.flags|=1024),i}function Bf(){var t=sc!==0;return sc=0,t}function qf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Hf(t){if(rc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}rc=!1}Bi=0,Rt=Je=Ne=null,Da=!1,ol=sc=0,xa=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ne.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(Je===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=Rt===null?Ne.memoizedState:Rt.next;if(i!==null)Rt=i,Je=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Rt===null?Ne.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var i=ol;return ol+=1,xa===null&&(xa=[]),t=Ig(xa,t,i),i=Ne,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?_y:td),t}function oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===ie)return Ht(t)}throw Error(s(438,String(t)))}function Ff(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ac(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=C;return i.index++,a}function qi(t,i){return typeof i=="function"?i(t):i}function lc(t){var i=_t();return Gf(i,Je,t)}function Gf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,O=null,H=i,Y=!1;do{var Z=H.lane&-536870913;if(Z!==H.lane?(Pe&Z)===Z:(Bi&Z)===Z){var F=H.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Z===ba&&(Y=!0);else if((Bi&F)===F){H=H.next,F===ba&&(Y=!0);continue}else Z={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(S=O=Z,_=d):O=O.next=Z,Ne.lanes|=F,Or|=F;Z=H.action,Ps&&a(d,Z),d=H.hasEagerState?H.eagerState:a(d,Z)}else F={lane:Z,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(S=O=F,_=d):O=O.next=F,Ne.lanes|=Z,Or|=Z;H=H.next}while(H!==null&&H!==i);if(O===null?_=d:O.next=S,!pn(d,t.memoizedState)&&(It=!0,Y&&(a=Ra,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Kf(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);pn(d,i.memoizedState)||(It=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ug(t,i,a){var l=Ne,h=_t(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!pn((Je||h).memoizedState,a);if(_&&(h.memoizedState=a,It=!0),h=h.queue,Xf(Bg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Oa(9,{destroy:void 0},jg.bind(null,l,h,a,i),null),tt===null)throw Error(s(349));d||(Bi&127)!==0||zg(l,i,a)}return a}function zg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=ac(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function jg(t,i,a,l){i.value=a,i.getSnapshot=l,qg(i)&&Hg(t)}function Bg(t,i,a){return a(function(){qg(i)&&Hg(t)})}function qg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!pn(t,a)}catch{return!0}}function Hg(t){var i=Rs(t,2);i!==null&&hn(i,t,2)}function Qf(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Ps){Sn(!0);try{a()}finally{Sn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:t},i}function Fg(t,i,a,l){return t.baseState=a,Gf(t,Je,typeof l=="function"?l:qi)}function RA(t,i,a,l,h){if(hc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Gg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Gg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var S=a(h,l),O=Q.S;O!==null&&O(_,S),Kg(t,i,S)}catch(H){Yf(t,i,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(h,l),Kg(t,i,d)}catch(H){Yf(t,i,H)}}function Kg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qg(t,i,l)},function(l){return Yf(t,i,l)}):Qg(t,i,a)}function Qg(t,i,a){i.status="fulfilled",i.value=a,Yg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Gg(t,a)))}function Yf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Yg(i),i=i.next;while(i!==l)}t.action=null}function Yg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Xg(t,i){return i}function $g(t,i){if(Be){var a=tt.formState;if(a!==null){e:{var l=Ne;if(Be){if(rt){t:{for(var h=rt,d=xn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Mn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){rt=Mn(h.nextSibling),l=h.data==="F!";break e}}Ar(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xg,lastRenderedState:i},a.queue=l,a=py.bind(null,Ne,l),l.dispatch=a,l=Qf(!1),d=ed.bind(null,Ne,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=RA.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Wg(t){var i=_t();return Jg(i,Je,t)}function Jg(t,i,a){if(i=Gf(t,i,Xg)[0],t=lc(qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ll(i)}catch(_){throw _===Ia?Ju:_}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,Oa(9,{destroy:void 0},IA.bind(null,h,a),null)),[l,d,t]}function IA(t,i){t.action=i}function Zg(t){var i=_t(),a=Je;if(a!==null)return Jg(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Oa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=ac(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function ey(){return _t().memoizedState}function uc(t,i,a,l){var h=rn();Ne.flags|=t,h.memoizedState=Oa(1|i,{destroy:void 0},a,l===void 0?null:l)}function cc(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Je!==null&&l!==null&&zf(l,Je.memoizedState.deps)?h.memoizedState=Oa(i,d,a,l):(Ne.flags|=t,h.memoizedState=Oa(1|i,d,a,l))}function ty(t,i){uc(8390656,8,t,i)}function Xf(t,i){cc(2048,8,t,i)}function CA(t){Ne.flags|=4;var i=Ne.updateQueue;if(i===null)i=ac(),Ne.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function ny(t){var i=_t().memoizedState;return CA({ref:i,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function iy(t,i){return cc(4,2,t,i)}function ry(t,i){return cc(4,4,t,i)}function sy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ay(t,i,a){a=a!=null?a.concat([t]):null,cc(4,4,sy.bind(null,i,t),a)}function $f(){}function oy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&zf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ly(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&zf(i,l[1]))return l[0];if(l=t(),Ps){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,i],l}function Wf(t,i,a){return a===void 0||(Bi&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=u_(),Ne.lanes|=t,Or|=t,a)}function uy(t,i,a,l){return pn(a,i)?a:Na.current!==null?(t=Wf(t,a,l),pn(t,i)||(It=!0),t):(Bi&42)===0||(Bi&1073741824)!==0&&(Pe&261930)===0?(It=!0,t.memoizedState=a):(t=u_(),Ne.lanes|=t,Or|=t,i)}function cy(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=Q.T,S={};Q.T=S,ed(t,!1,i,a);try{var O=h(),H=Q.S;if(H!==null&&H(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Y=AA(O,l);ul(t,i,Y,Tn(t))}else ul(t,i,l,Tn(t))}catch(Z){ul(t,i,{then:function(){},status:"rejected",reason:Z},Tn())}finally{ae.p=d,_!==null&&S.types!==null&&(_.types=S.types),Q.T=_}}function NA(){}function Jf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=hy(t).queue;cy(t,h,i,me,a===null?NA:function(){return fy(t),a(l)})}function hy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function fy(t){var i=hy(t);i.next===null&&(i=t.alternate.memoizedState),ul(t,i.next.queue,{},Tn())}function Zf(){return Ht(Rl)}function dy(){return _t().memoizedState}function my(){return _t().memoizedState}function DA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();t=Rr(a);var l=Ir(i,t,a);l!==null&&(hn(l,i,a),rl(l,i,a)),i={cache:Cf()},t.payload=i;return}i=i.return}}function xA(t,i,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hc(t)?gy(i,a):(a=yf(t,i,a,l),a!==null&&(hn(a,t,l),yy(a,i,l)))}function py(t,i,a){var l=Tn();ul(t,i,a,l)}function ul(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(hc(t))gy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,pn(S,_))return Gu(t,i,h,0),tt===null&&Fu(),!1}catch{}finally{}if(a=yf(t,i,h,l),a!==null)return hn(a,t,l),yy(a,i,l),!0}return!1}function ed(t,i,a,l){if(l={lane:2,revertLane:Od(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hc(t)){if(i)throw Error(s(479))}else i=yf(t,a,l,2),i!==null&&hn(i,t,2)}function hc(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function gy(t,i){Da=rc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function yy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,xo(t,a)}}var cl={readContext:Ht,use:oc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};cl.useEffectEvent=dt;var _y={readContext:Ht,use:oc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:ty,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,uc(4194308,4,sy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return uc(4194308,4,t,i)},useInsertionEffect:function(t,i){uc(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Ps){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Ps){Sn(!0);try{a(i)}finally{Sn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=xA.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Qf(t);var i=t.queue,a=py.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:$f,useDeferredValue:function(t,i){var a=rn();return Wf(a,t,i)},useTransition:function(){var t=Qf(!1);return t=cy.bind(null,Ne,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=rn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Pe&127)!==0||zg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ty(Bg.bind(null,l,d,t),[t]),l.flags|=2048,Oa(9,{destroy:void 0},jg.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=tt.identifierPrefix;if(Be){var a=Ti,l=Ei;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=sc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=wA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Zf,useFormState:$g,useActionState:$g,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ed.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:Ff,useCacheRefresh:function(){return rn().memoizedState=DA.bind(null,Ne)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((Ke&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},td={readContext:Ht,use:oc,useCallback:oy,useContext:Ht,useEffect:Xf,useImperativeHandle:ay,useInsertionEffect:iy,useLayoutEffect:ry,useMemo:ly,useReducer:lc,useRef:ey,useState:function(){return lc(qi)},useDebugValue:$f,useDeferredValue:function(t,i){var a=_t();return uy(a,Je.memoizedState,t,i)},useTransition:function(){var t=lc(qi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:Ug,useId:dy,useHostTransitionStatus:Zf,useFormState:Wg,useActionState:Wg,useOptimistic:function(t,i){var a=_t();return Fg(a,Je,t,i)},useMemoCache:Ff,useCacheRefresh:my};td.useEffectEvent=ny;var vy={readContext:Ht,use:oc,useCallback:oy,useContext:Ht,useEffect:Xf,useImperativeHandle:ay,useInsertionEffect:iy,useLayoutEffect:ry,useMemo:ly,useReducer:Kf,useRef:ey,useState:function(){return Kf(qi)},useDebugValue:$f,useDeferredValue:function(t,i){var a=_t();return Je===null?Wf(a,t,i):uy(a,Je.memoizedState,t,i)},useTransition:function(){var t=Kf(qi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:Ug,useId:dy,useHostTransitionStatus:Zf,useFormState:Zg,useActionState:Zg,useOptimistic:function(t,i){var a=_t();return Je!==null?Fg(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ff,useCacheRefresh:my};vy.useEffectEvent=ny;function nd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var id={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Tn(),h=Rr(l);h.payload=i,a!=null&&(h.callback=a),i=Ir(t,h,l),i!==null&&(hn(i,t,l),rl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Tn(),h=Rr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ir(t,h,l),i!==null&&(hn(i,t,l),rl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Tn(),l=Rr(a);l.tag=2,i!=null&&(l.callback=i),i=Ir(t,l,a),i!==null&&(hn(i,t,a),rl(i,t,a))}};function Ey(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!$o(a,l)||!$o(h,d):!0}function Ty(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&id.enqueueReplaceState(i,i.state,null)}function ks(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Sy(t){Hu(t)}function Ay(t){console.error(t)}function wy(t){Hu(t)}function fc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function by(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rd(t,i,a){return a=Rr(a),a.tag=3,a.payload={element:null},a.callback=function(){fc(t,i)},a}function Ry(t){return t=Rr(t),t.tag=3,t}function Iy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){by(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){by(i,a,l),typeof h!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function OA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&wa(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?wc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Zu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Nd(t,l,h)),!1;case 22:return a.flags|=65536,l===Zu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Nd(t,l,h)),!1}throw Error(s(435,a.tag))}return Nd(t,l,h),wc(),!1}if(Be)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Af&&(t=Error(s(422),{cause:l}),Zo(Cn(t,a)))):(l!==Af&&(i=Error(s(423),{cause:l}),Zo(Cn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Cn(l,a),h=rd(t.stateNode,l,h),Vf(t,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),_l===null?_l=[d]:_l.push(d),mt!==4&&(mt=2),i===null)return!0;l=Cn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=rd(a.stateNode,l,t),Vf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Mr===null||!Mr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ry(h),Iy(h,t,a,l),Vf(a,h),!1}a=a.return}while(a!==null);return!1}var sd=Error(s(461)),It=!1;function Ft(t,i,a,l){i.child=t===null?xg(i,null,a,l):Vs(i,t.child,a,l)}function Cy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Ds(i),l=jf(t,i,a,_,d,h),S=Bf(),t!==null&&!It?(qf(t,i,h),Hi(t,i,h)):(Be&&S&&Tf(i),i.flags|=1,Ft(t,i,l,h),i.child)}function Ny(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!_f(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Dy(t,i,d,l,h)):(t=Qu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!dd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(_,l)&&t.ref===i.ref)return Hi(t,i,h)}return i.flags|=1,t=Li(d,l),t.ref=i.ref,t.return=i,i.child=t}function Dy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if($o(d,l)&&t.ref===i.ref)if(It=!1,i.pendingProps=l=d,dd(t,h))(t.flags&131072)!==0&&(It=!0);else return i.lanes=t.lanes,Hi(t,i,h)}return ad(t,i,a,l,h)}function xy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Oy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wu(i,d!==null?d.cachePool:null),d!==null?Vg(i,d):kf(),Pg(i);else return l=i.lanes=536870912,Oy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Wu(i,d.cachePool),Vg(i,d),Nr(),i.memoizedState=null):(t!==null&&Wu(i,null),kf(),Nr());return Ft(t,i,h,a),i.child}function hl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Oy(t,i,a,l,h){var d=Df();return d=d===null?null:{parent:bt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Wu(i,null),kf(),Pg(i),t!==null&&wa(t,i,l,!0),i.childLanes=h,null}function dc(t,i){return i=pc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function My(t,i,a){return Vs(i,t.child,null,a),t=dc(i,i.pendingProps),t.flags|=2,_n(i),i.memoizedState=null,t}function MA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=dc(i,l),i.lanes=536870912,hl(null,t);if(Uf(i),(t=rt)?(t=G_(t,xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Tr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=gg(t),a.return=i,i.child=a,qt=i,rt=null)):t=null,t===null)throw Ar(i);return i.lanes=536870912,null}return dc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Uf(i),h)if(i.flags&256)i.flags&=-257,i=My(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(It||wa(t,i,a,!1),h=(a&t.childLanes)!==0,It||h){if(l=tt,l!==null&&(_=Oo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Rs(t,_),hn(l,t,_),sd;wc(),i=My(t,i,a)}else t=d.treeContext,rt=Mn(_.nextSibling),qt=i,Be=!0,Sr=null,xn=!1,t!==null&&vg(i,t),i=dc(i,l),i.flags|=4096;return i}return t=Li(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function mc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ad(t,i,a,l,h){return Ds(i),a=jf(t,i,a,l,void 0,h),l=Bf(),t!==null&&!It?(qf(t,i,h),Hi(t,i,h)):(Be&&l&&Tf(i),i.flags|=1,Ft(t,i,a,h),i.child)}function Vy(t,i,a,l,h,d){return Ds(i),i.updateQueue=null,a=Lg(i,l,a,h),kg(t),l=Bf(),t!==null&&!It?(qf(t,i,d),Hi(t,i,d)):(Be&&l&&Tf(i),i.flags|=1,Ft(t,i,a,d),i.child)}function Py(t,i,a,l,h){if(Ds(i),i.stateNode===null){var d=Ea,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=id,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Of(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Ea,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(nd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&id.enqueueReplaceState(d,d.state,null),al(i,l,d,h),sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,O=ks(a,S);d.props=O;var H=d.context,Y=a.contextType;_=Ea,typeof Y=="object"&&Y!==null&&(_=Ht(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==_)&&Ty(i,d,l,_),br=!1;var F=i.memoizedState;d.state=F,al(i,l,d,h),sl(),H=i.memoizedState,S||F!==H||br?(typeof Z=="function"&&(nd(i,a,Z,l),H=i.memoizedState),(O=br||Ey(i,a,O,l,F,H,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Mf(t,i),_=i.memoizedProps,Y=ks(a,_),d.props=Y,Z=i.pendingProps,F=d.context,H=a.contextType,O=Ea,typeof H=="object"&&H!==null&&(O=Ht(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||F!==O)&&Ty(i,d,l,O),br=!1,F=i.memoizedState,d.state=F,al(i,l,d,h),sl();var K=i.memoizedState;_!==Z||F!==K||br||t!==null&&t.dependencies!==null&&Xu(t.dependencies)?(typeof S=="function"&&(nd(i,a,S,l),K=i.memoizedState),(Y=br||Ey(i,a,Y,l,F,K,O)||t!==null&&t.dependencies!==null&&Xu(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=O,l=Y):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,mc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Vs(i,t.child,null,h),i.child=Vs(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Hi(t,i,h),t}function ky(t,i,a,l){return Cs(),i.flags|=256,Ft(t,i,a,l),i.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(t){return{baseLanes:t,cachePool:bg()}}function ud(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=En),t}function Ly(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?Cr(i):Nr(),(t=rt)?(t=G_(t,xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Tr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=gg(t),a.return=i,i.child=a,qt=i,rt=null)):t=null,t===null)throw Ar(i);return Gd(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Nr(),h=i.mode,S=pc({mode:"hidden",children:S},h),l=Is(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=ld(a),l.childLanes=ud(t,_,a),i.memoizedState=od,hl(null,l)):(Cr(i),cd(i,S))}var O=t.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(d)i.flags&256?(Cr(i),i.flags&=-257,i=hd(t,i,a)):i.memoizedState!==null?(Nr(),i.child=t.child,i.flags|=128,i=null):(Nr(),S=l.fallback,h=i.mode,l=pc({mode:"visible",children:l.children},h),S=Is(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Vs(i,t.child,null,a),l=i.child,l.memoizedState=ld(a),l.childLanes=ud(t,_,a),i.memoizedState=od,i=hl(null,l));else if(Cr(i),Gd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,Zo({value:l,source:null,stack:null}),i=hd(t,i,a)}else if(It||wa(t,i,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=tt,_!==null&&(l=Oo(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Rs(t,l),hn(_,t,l),sd;Fd(S)||wc(),i=hd(t,i,a)}else Fd(S)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,rt=Mn(S.nextSibling),qt=i,Be=!0,Sr=null,xn=!1,t!==null&&vg(i,t),i=cd(i,l.children),i.flags|=4096);return i}return h?(Nr(),S=l.fallback,h=i.mode,O=t.child,H=O.sibling,l=Li(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,H!==null?S=Li(H,S):(S=Is(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,hl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=ld(a):(h=S.cachePool,h!==null?(O=bt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=bg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=ud(t,_,a),i.memoizedState=od,hl(t.child,l)):(Cr(i),a=t.child,t=a.sibling,a=Li(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function cd(t,i){return i=pc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function pc(t,i){return t=gn(22,t,null,i),t.lanes=0,t}function hd(t,i,a){return Vs(i,t.child,null,a),t=cd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Uy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Rf(t.return,i,a)}function fd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function zy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,re(yt,_),Ft(t,i,l,a),l=Be?Jo:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uy(t,a,i);else if(t.tag===19)Uy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ic(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),fd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ic(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}fd(i,!0,a,null,d,l);break;case"together":fd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Hi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Or|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(wa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Li(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Li(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function dd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Xu(t)))}function VA(t,i,a){switch(i.tag){case 3:ft(i,i.stateNode.containerInfo),wr(i,bt,t.memoizedState.cache),Cs();break;case 27:case 5:ls(i);break;case 4:ft(i,i.stateNode.containerInfo);break;case 10:wr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Uf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Cr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ly(t,i,a):(Cr(i),t=Hi(t,i,a),t!==null?t.sibling:null);Cr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(wa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return zy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(yt,yt.current),l)break;return null;case 22:return i.lanes=0,xy(t,i,a,i.pendingProps);case 24:wr(i,bt,t.memoizedState.cache)}return Hi(t,i,a)}function jy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)It=!0;else{if(!dd(t,a)&&(i.flags&128)===0)return It=!1,VA(t,i,a);It=(t.flags&131072)!==0}else It=!1,Be&&(i.flags&1048576)!==0&&_g(i,Jo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Os(i.elementType),i.type=t,typeof t=="function")_f(t)?(l=ks(t,l),i.tag=1,i=Py(null,i,t,l,a)):(i.tag=0,i=ad(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Ee){i.tag=11,i=Cy(null,i,t,l,a);break e}else if(h===b){i.tag=14,i=Ny(null,i,t,l,a);break e}}throw i=Ie(t)||t,Error(s(306,i,""))}}return i;case 0:return ad(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ks(l,i.pendingProps),Py(t,i,l,h,a);case 3:e:{if(ft(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Mf(t,i),al(i,l,null,a);var _=i.memoizedState;if(l=_.cache,wr(i,bt,l),l!==d.cache&&If(i,[bt],a,!0),sl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ky(t,i,l,a);break e}else if(l!==h){h=Cn(Error(s(424)),i),Zo(h),i=ky(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=Mn(t.firstChild),qt=i,Be=!0,Sr=null,xn=!0,a=xg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Cs(),l===h){i=Hi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return mc(t,i),t===null?(a=W_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=xc(Ae.current).createElement(a),l[St]=i,l[kt]=t,Gt(l,a,t),At(l),i.stateNode=l):i.memoizedState=W_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ls(i),t===null&&Be&&(l=i.stateNode=Y_(i.type,i.pendingProps,Ae.current),qt=i,xn=!0,h=rt,Lr(i.type)?(Kd=h,rt=Mn(l.firstChild)):rt=h),Ft(t,i,i.pendingProps.children,a),mc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=rt)&&(l=c1(l,i.type,i.pendingProps,xn),l!==null?(i.stateNode=l,qt=i,rt=Mn(l.firstChild),xn=!1,h=!0):h=!1),h||Ar(i)),ls(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Bd(h,d)?l=null:_!==null&&Bd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=jf(t,i,bA,null,null,a),Rl._currentValue=h),mc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=rt)&&(a=h1(a,i.pendingProps,xn),a!==null?(i.stateNode=a,qt=i,rt=null,t=!0):t=!1),t||Ar(i)),null;case 13:return Ly(t,i,a);case 4:return ft(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Vs(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return Cy(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,wr(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ds(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return Ny(t,i,i.type,i.pendingProps,a);case 15:return Dy(t,i,i.type,i.pendingProps,a);case 19:return zy(t,i,a);case 31:return MA(t,i,a);case 22:return xy(t,i,a,i.pendingProps);case 24:return Ds(i),l=Ht(bt),t===null?(h=Df(),h===null&&(h=tt,d=Cf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Of(i),wr(i,bt,h)):((t.lanes&a)!==0&&(Mf(t,i),al(i,null,null,a),sl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),wr(i,bt,l)):(l=d.cache,wr(i,bt,l),l!==h.cache&&If(i,[bt],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Fi(t){t.flags|=4}function md(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(d_())t.flags|=8192;else throw Ms=Zu,xf}else t.flags&=-16777217}function By(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!nv(i))if(d_())t.flags|=8192;else throw Ms=Zu,xf}function gc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Su():536870912,t.lanes|=i,ka|=i)}function fl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function PA(t,i,a){var l=i.pendingProps;switch(Sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ji(bt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Aa(i)?Fi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wf())),st(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Fi(i),d!==null?(st(i),By(i,d)):(st(i),md(i,h,null,l,a))):d?d!==t.memoizedState?(Fi(i),st(i),By(i,d)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Fi(i),st(i),md(i,h,t,l,a)),null;case 27:if(ta(i),a=Ae.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=oe.current,Aa(i)?Eg(i):(t=Y_(h,l,a),i.stateNode=t,Fi(i))}return st(i),null;case 5:if(ta(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(d=oe.current,Aa(i))Eg(i);else{var _=xc(Ae.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[St]=i,d[kt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Fi(i)}}return st(i),md(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ae.current,Aa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||L_(t.nodeValue,a)),t||Ar(i,!0)}else t=xc(t).createTextNode(l),t[St]=i,i.stateNode=t}return st(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Aa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else a=wf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(s(558))}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Aa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=wf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),gc(i,i.updateQueue),st(i),null);case 4:return ot(),t===null&&kd(i.stateNode.containerInfo),st(i),null;case 10:return ji(i.type),st(i),null;case 19:if($(yt),l=i.memoizedState,l===null)return st(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)fl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ic(t),d!==null){for(i.flags|=128,fl(l,!1),t=d.updateQueue,i.updateQueue=t,gc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)pg(a,t),a=a.sibling;return re(yt,yt.current&1|2),Be&&Ui(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>Tc&&(i.flags|=128,h=!0,fl(l,!1),i.lanes=4194304)}else{if(!h)if(t=ic(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,gc(i,t),fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Be)return st(i),null}else 2*tn()-l.renderingStartTime>Tc&&a!==536870912&&(i.flags|=128,h=!0,fl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=yt.current,re(yt,h?a&1|2:a&1),Be&&Ui(i,l.treeForkCount),t):(st(i),null);case 22:case 23:return _n(i),Lf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&gc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&$(xs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ji(bt),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function kA(t,i){switch(Sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ji(bt),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ta(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(s(340));Cs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(_n(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Cs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(yt),null;case 4:return ot(),null;case 10:return ji(i.type),null;case 22:case 23:return _n(i),Lf(),t!==null&&$(xs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ji(bt),null;case 25:return null;default:return null}}function qy(t,i){switch(Sf(i),i.tag){case 3:ji(bt),ot();break;case 26:case 27:case 5:ta(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:$(yt);break;case 10:ji(i.type);break;case 22:case 23:_n(i),Lf(),t!==null&&$(xs);break;case 24:ji(bt)}}function dl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){$e(i,i.return,S)}}function Dr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var O=a,H=S;try{H()}catch(Y){$e(h,O,Y)}}}l=l.next}while(l!==d)}}catch(Y){$e(i,i.return,Y)}}function Hy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Mg(i,a)}catch(l){$e(t,t.return,l)}}}function Fy(t,i,a){a.props=ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,i,l)}}function ml(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){$e(t,i,h)}}function Si(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function Gy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function pd(t,i,a){try{var l=t.stateNode;r1(l,t.type,a,i),l[kt]=i}catch(h){$e(t,t.return,h)}}function Ky(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Lr(t.type)||t.tag===4}function gd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ky(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=qn));else if(l!==4&&(l===27&&Lr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(yd(t,i,a),t=t.sibling;t!==null;)yd(t,i,a),t=t.sibling}function yc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Lr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yc(t,i,a),t=t.sibling;t!==null;)yc(t,i,a),t=t.sibling}function Qy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[St]=t,i[kt]=a}catch(d){$e(t,t.return,d)}}var Gi=!1,Ct=!1,_d=!1,Yy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function LA(t,i){if(t=t.containerInfo,zd=Uc,t=ag(t),hf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,O=-1,H=0,Y=0,Z=t,F=null;t:for(;;){for(var K;Z!==a||h!==0&&Z.nodeType!==3||(S=_+h),Z!==d||l!==0&&Z.nodeType!==3||(O=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(K=Z.firstChild)!==null;)F=Z,Z=K;for(;;){if(Z===t)break t;if(F===a&&++H===h&&(S=_),F===d&&++Y===l&&(O=_),(K=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=K}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(jd={focusedElem:t,selectionRange:a},Uc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=ks(a.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){$e(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Hd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function Xy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(t,a),l&4&&dl(5,a);break;case 1:if(Qi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var h=ks(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}l&64&&Hy(a),l&512&&ml(a,a.return);break;case 3:if(Qi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Mg(t,i)}catch(_){$e(a,a.return,_)}}break;case 27:i===null&&l&4&&Qy(a);case 26:case 5:Qi(t,a),i===null&&l&4&&Gy(a),l&512&&ml(a,a.return);break;case 12:Qi(t,a);break;case 31:Qi(t,a),l&4&&Jy(t,a);break;case 13:Qi(t,a),l&4&&Zy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=KA.bind(null,a),f1(t,a))));break;case 22:if(l=a.memoizedState!==null||Gi,!l){i=i!==null&&i.memoizedState!==null||Ct,h=Gi;var d=Ct;Gi=l,(Ct=i)&&!d?Yi(t,a,(a.subtreeFlags&8772)!==0):Qi(t,a),Gi=h,Ct=d}break;case 30:break;default:Qi(t,a)}}function $y(t){var i=t.alternate;i!==null&&(t.alternate=null,$y(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&aa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,on=!1;function Ki(t,i,a){for(a=a.child;a!==null;)Wy(t,i,a),a=a.sibling}function Wy(t,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Un,a)}catch{}switch(a.tag){case 26:Ct||Si(a,i),Ki(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Si(a,i);var l=ut,h=on;Lr(a.type)&&(ut=a.stateNode,on=!1),Ki(t,i,a),Al(a.stateNode),ut=l,on=h;break;case 5:Ct||Si(a,i);case 6:if(l=ut,h=on,ut=null,Ki(t,i,a),ut=l,on=h,ut!==null)if(on)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:ut!==null&&(on?(t=ut,H_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fa(t)):H_(ut,a.stateNode));break;case 4:l=ut,h=on,ut=a.stateNode.containerInfo,on=!0,Ki(t,i,a),ut=l,on=h;break;case 0:case 11:case 14:case 15:Dr(2,a,i),Ct||Dr(4,a,i),Ki(t,i,a);break;case 1:Ct||(Si(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Fy(a,i,l)),Ki(t,i,a);break;case 21:Ki(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,Ki(t,i,a),Ct=l;break;default:Ki(t,i,a)}}function Jy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Fa(t)}catch(a){$e(i,i.return,a)}}}function Zy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fa(t)}catch(a){$e(i,i.return,a)}}function UA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Yy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Yy),i;default:throw Error(s(435,t.tag))}}function _c(t,i){var a=UA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=QA.bind(null,t,l);l.then(h,h)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Lr(S.type)){ut=S.stateNode,on=!1;break e}break;case 5:ut=S.stateNode,on=!1;break e;case 3:case 4:ut=S.stateNode.containerInfo,on=!0;break e}S=S.return}if(ut===null)throw Error(s(160));Wy(d,_,h),ut=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)e_(i,t),i=i.sibling}var Yn=null;function e_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),l&4&&(Dr(3,t,t.return),dl(3,t),Dr(5,t,t.return));break;case 1:ln(i,t),un(t),l&512&&(Ct||a===null||Si(a,a.return)),l&64&&Gi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Yn;if(ln(i,t),un(t),l&512&&(Ct||a===null||Si(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[li]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[St]=t,At(d),l=d;break e;case"link":var _=ev("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=ev("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,At(d),l=d}t.stateNode=l}else tv(h,t.type,t.stateNode);else t.stateNode=Z_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?tv(h,t.type,t.stateNode):Z_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&pd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),un(t),l&512&&(Ct||a===null||Si(a,a.return)),a!==null&&l&4&&pd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),un(t),l&512&&(Ct||a===null||Si(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(he){$e(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,pd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(_d=!0);break;case 6:if(ln(i,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){$e(t,t.return,he)}}break;case 3:if(Vc=null,h=Yn,Yn=Oc(i.containerInfo),ln(i,t),Yn=h,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Fa(i.containerInfo)}catch(he){$e(t,t.return,he)}_d&&(_d=!1,t_(t));break;case 4:l=Yn,Yn=Oc(t.stateNode.containerInfo),ln(i,t),un(t),Yn=l;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ec=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,H=Gi,Y=Ct;if(Gi=H||h,Ct=Y||O,ln(i,t),Ct=Y,Gi=H,un(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||Gi||Ct||Ls(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=O.stateNode;var Z=O.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(he){$e(O,O.return,he)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(he){$e(O,O.return,he)}}}else if(i.tag===18){if(a===null){O=i;try{var K=O.stateNode;h?F_(K,!0):F_(O.stateNode,!1)}catch(he){$e(O,O.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,_c(t,a))));break;case 19:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Ky(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=gd(t);yc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var S=gd(t);yc(t,S,_);break;case 3:case 4:var O=a.stateNode.containerInfo,H=gd(t);yd(t,H,O);break;default:throw Error(s(161))}}catch(Y){$e(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function t_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;t_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Qi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Xy(t,i.alternate,i),i=i.sibling}function Ls(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Dr(4,i,i.return),Ls(i);break;case 1:Si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Fy(i,i.return,a),Ls(i);break;case 27:Al(i.stateNode);case 26:case 5:Si(i,i.return),Ls(i);break;case 22:i.memoizedState===null&&Ls(i);break;case 30:Ls(i);break;default:Ls(i)}t=t.sibling}}function Yi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Yi(h,d,a),dl(4,d);break;case 1:if(Yi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){$e(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)Og(O[h],S)}catch(H){$e(l,l.return,H)}}a&&_&64&&Hy(d),ml(d,d.return);break;case 27:Qy(d);case 26:case 5:Yi(h,d,a),a&&l===null&&_&4&&Gy(d),ml(d,d.return);break;case 12:Yi(h,d,a);break;case 31:Yi(h,d,a),a&&_&4&&Jy(h,d);break;case 13:Yi(h,d,a),a&&_&4&&Zy(h,d);break;case 22:d.memoizedState===null&&Yi(h,d,a),ml(d,d.return);break;case 30:break;default:Yi(h,d,a)}i=i.sibling}}function vd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function Ed(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t))}function Xn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)n_(t,i,a,l),i=i.sibling}function n_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Xn(t,i,a,l),h&2048&&dl(9,i);break;case 1:Xn(t,i,a,l);break;case 3:Xn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){Xn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){$e(i,i.return,O)}}else Xn(t,i,a,l);break;case 31:Xn(t,i,a,l);break;case 13:Xn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Xn(t,i,a,l):pl(t,i):d._visibility&2?Xn(t,i,a,l):(d._visibility|=2,Ma(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&vd(_,i);break;case 24:Xn(t,i,a,l),h&2048&&Ed(i.alternate,i);break;default:Xn(t,i,a,l)}}function Ma(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,O=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Ma(d,_,S,O,h),dl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?Ma(d,_,S,O,h):pl(d,_):(Y._visibility|=2,Ma(d,_,S,O,h)),h&&H&2048&&vd(_.alternate,_);break;case 24:Ma(d,_,S,O,h),h&&H&2048&&Ed(_.alternate,_);break;default:Ma(d,_,S,O,h)}i=i.sibling}}function pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:pl(a,l),h&2048&&vd(l.alternate,l);break;case 24:pl(a,l),h&2048&&Ed(l.alternate,l);break;default:pl(a,l)}i=i.sibling}}var gl=8192;function Va(t,i,a){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)i_(t,i,a),t=t.sibling}function i_(t,i,a){switch(t.tag){case 26:Va(t,i,a),t.flags&gl&&t.memoizedState!==null&&w1(a,Yn,t.memoizedState,t.memoizedProps);break;case 5:Va(t,i,a);break;case 3:case 4:var l=Yn;Yn=Oc(t.stateNode.containerInfo),Va(t,i,a),Yn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=gl,gl=16777216,Va(t,i,a),gl=l):Va(t,i,a));break;default:Va(t,i,a)}}function r_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function yl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,a_(l,t)}r_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)s_(t),t=t.sibling}function s_(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&Dr(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,vc(t)):yl(t);break;default:yl(t)}}function vc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,a_(l,t)}r_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Dr(8,i,i.return),vc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,vc(i));break;default:vc(i)}t=t.sibling}}function a_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Dr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if($y(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var zA={getCacheForType:function(t){var i=Ht(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(bt).controller.signal}},jA=typeof WeakMap=="function"?WeakMap:Map,Ke=0,tt=null,Oe=null,Pe=0,Xe=0,vn=null,xr=!1,Pa=!1,Td=!1,Xi=0,mt=0,Or=0,Us=0,Sd=0,En=0,ka=0,_l=null,cn=null,Ad=!1,Ec=0,o_=0,Tc=1/0,Sc=null,Mr=null,Vt=0,Vr=null,La=null,$i=0,wd=0,bd=null,l_=null,vl=0,Rd=null;function Tn(){return(Ke&2)!==0&&Pe!==0?Pe&-Pe:Q.T!==null?Od():Au()}function u_(){if(En===0)if((Pe&536870912)===0||Be){var t=hs;hs<<=1,(hs&3932160)===0&&(hs=262144),En=t}else En=536870912;return t=yn.current,t!==null&&(t.flags|=32),En}function hn(t,i,a){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Ua(t,0),Pr(t,Pe,En,!1)),fs(t,a),((Ke&2)===0||t!==tt)&&(t===tt&&((Ke&2)===0&&(Us|=a),mt===4&&Pr(t,Pe,En,!1)),Ai(t))}function c_(t,i,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||zn(t,i),h=l?HA(t,i):Cd(t,i,!0),d=l;do{if(h===0){Pa&&!l&&Pr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!BA(a)){h=Cd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=_l;var O=S.current.memoizedState.isDehydrated;if(O&&(Ua(S,_).flags|=256),_=Cd(S,_,!1),_!==2){if(Td&&!O){S.errorRecoveryDisabledLanes|=d,Us|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ua(t,0),Pr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Pr(l,i,En,!xr);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ec+300-tn(),10<h)){if(Pr(l,i,En,!xr),si(l,0,!0)!==0)break e;$i=i,l.timeoutHandle=B_(h_.bind(null,l,a,cn,Sc,Ad,i,En,Us,ka,xr,d,"Throttled",-0,0),h);break e}h_(l,a,cn,Sc,Ad,i,En,Us,ka,xr,d,null,-0,0)}}break}while(!0);Ai(t)}function h_(t,i,a,l,h,d,_,S,O,H,Y,Z,F,K){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},i_(i,d,Z);var he=(d&62914560)===d?Ec-tn():(d&4194048)===d?o_-tn():0;if(he=b1(Z,he),he!==null){$i=d,t.cancelPendingCommit=he(v_.bind(null,t,i,d,a,l,h,_,S,O,Y,Z,null,F,K)),Pr(t,d,_,!H);return}}v_(t,i,d,a,l,h,_,S,O)}function BA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Pr(t,i,a,l){i&=~Sd,i&=~Us,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ds(t,a,i)}function Ac(){return(Ke&6)===0?(El(0),!1):!0}function Id(){if(Oe!==null){if(Xe===0)var t=Oe.return;else t=Oe,zi=Ns=null,Hf(t),Ca=null,nl=0,t=Oe;for(;t!==null;)qy(t.alternate,t),t=t.return;Oe=null}}function Ua(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,o1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),$i=0,Id(),tt=t,Oe=a=Li(t.current,null),Pe=i,Xe=0,vn=null,xr=!1,Pa=zn(t,i),Td=!1,ka=En=Sd=Us=Or=mt=0,cn=_l=null,Ad=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return Xi=i,Fu(),a}function f_(t,i){Ne=null,Q.H=cl,i===Ia||i===Ju?(i=Cg(),Xe=3):i===xf?(i=Cg(),Xe=4):Xe=i===sd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Oe===null&&(mt=1,fc(t,Cn(i,t.current)))}function d_(){var t=yn.current;return t===null?!0:(Pe&4194048)===Pe?On===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===On:!1}function m_(){var t=Q.H;return Q.H=cl,t===null?cl:t}function p_(){var t=Q.A;return Q.A=zA,t}function wc(){mt=4,xr||(Pe&4194048)!==Pe&&yn.current!==null||(Pa=!0),(Or&134217727)===0&&(Us&134217727)===0||tt===null||Pr(tt,Pe,En,!1)}function Cd(t,i,a){var l=Ke;Ke|=2;var h=m_(),d=p_();(tt!==t||Pe!==i)&&(Sc=null,Ua(t,i)),i=!1;var _=mt;e:do try{if(Xe!==0&&Oe!==null){var S=Oe,O=vn;switch(Xe){case 8:Id(),_=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var H=Xe;if(Xe=0,vn=null,za(t,S,O,H),a&&Pa){_=0;break e}break;default:H=Xe,Xe=0,vn=null,za(t,S,O,H)}}qA(),_=mt;break}catch(Y){f_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,zi=Ns=null,Ke=l,Q.H=h,Q.A=d,Oe===null&&(tt=null,Pe=0,Fu()),_}function qA(){for(;Oe!==null;)g_(Oe)}function HA(t,i){var a=Ke;Ke|=2;var l=m_(),h=p_();tt!==t||Pe!==i?(Sc=null,Tc=tn()+500,Ua(t,i)):Pa=zn(t,i);e:do try{if(Xe!==0&&Oe!==null){i=Oe;var d=vn;t:switch(Xe){case 1:Xe=0,vn=null,za(t,i,d,1);break;case 2:case 9:if(Rg(d)){Xe=0,vn=null,y_(i);break}i=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),Ai(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Rg(d)?(Xe=0,vn=null,y_(i)):(Xe=0,vn=null,za(t,i,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var S=Oe;if(_?nv(_):S.stateNode.complete){Xe=0,vn=null;var O=S.sibling;if(O!==null)Oe=O;else{var H=S.return;H!==null?(Oe=H,bc(H)):Oe=null}break t}}Xe=0,vn=null,za(t,i,d,5);break;case 6:Xe=0,vn=null,za(t,i,d,6);break;case 8:Id(),mt=6;break e;default:throw Error(s(462))}}FA();break}catch(Y){f_(t,Y)}while(!0);return zi=Ns=null,Q.H=l,Q.A=h,Ke=a,Oe!==null?0:(tt=null,Pe=0,Fu(),mt)}function FA(){for(;Oe!==null&&!rf();)g_(Oe)}function g_(t){var i=jy(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,i===null?bc(t):Oe=i}function y_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Vy(a,i,i.pendingProps,i.type,void 0,Pe);break;case 11:i=Vy(a,i,i.pendingProps,i.type.render,i.ref,Pe);break;case 5:Hf(i);default:qy(a,i),i=Oe=pg(i,Xi),i=jy(a,i,Xi)}t.memoizedProps=t.pendingProps,i===null?bc(t):Oe=i}function za(t,i,a,l){zi=Ns=null,Hf(i),Ca=null,nl=0;var h=i.return;try{if(OA(t,h,i,a,Pe)){mt=1,fc(t,Cn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;mt=1,fc(t,Cn(a,t.current)),Oe=null;return}i.flags&32768?(Be||l===1?t=!0:Pa||(Pe&536870912)!==0?t=!1:(xr=t=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),__(i,t)):bc(i)}function bc(t){var i=t;do{if((i.flags&32768)!==0){__(i,xr);return}t=i.return;var a=PA(i.alternate,i,Xi);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);mt===0&&(mt=5)}function __(t,i){do{var a=kA(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);mt=6,Oe=null}function v_(t,i,a,l,h,d,_,S,O){t.cancelPendingCommit=null;do Rc();while(Vt!==0);if((Ke&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=gf,of(t,a,d,_,S,O),t===tt&&(Oe=tt=null,Pe=0),La=i,Vr=t,$i=a,wd=d,bd=h,l_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,YA(hr,function(){return w_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=ae.p,ae.p=2,_=Ke,Ke|=4;try{LA(t,i,a)}finally{Ke=_,ae.p=h,Q.T=l}}Vt=1,E_(),T_(),S_()}}function E_(){if(Vt===1){Vt=0;var t=Vr,i=La,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ae.p;ae.p=2;var h=Ke;Ke|=4;try{e_(i,t);var d=jd,_=ag(t.containerInfo),S=d.focusedElem,O=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&sg(S.ownerDocument.documentElement,S)){if(O!==null&&hf(S)){var H=O.start,Y=O.end;if(Y===void 0&&(Y=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(Y,S.value.length);else{var Z=S.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var K=F.getSelection(),he=S.textContent.length,ve=Math.min(O.start,he),et=O.end===void 0?ve:Math.min(O.end,he);!K.extend&&ve>et&&(_=et,et=ve,ve=_);var L=rg(S,ve),P=rg(S,et);if(L&&P&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var q=Z.createRange();q.setStart(L.node,L.offset),K.removeAllRanges(),ve>et?(K.addRange(q),K.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),K.addRange(q))}}}}for(Z=[],K=S;K=K.parentNode;)K.nodeType===1&&Z.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var J=Z[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Uc=!!zd,jd=zd=null}finally{Ke=h,ae.p=l,Q.T=a}}t.current=i,Vt=2}}function T_(){if(Vt===2){Vt=0;var t=Vr,i=La,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ae.p;ae.p=2;var h=Ke;Ke|=4;try{Xy(t,i.alternate,i)}finally{Ke=h,ae.p=l,Q.T=a}}Vt=3}}function S_(){if(Vt===4||Vt===3){Vt=0,gu();var t=Vr,i=La,a=$i,l=l_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,La=Vr=null,A_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Mr=null),Mi(a),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Un,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=ae.p,ae.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{Q.T=i,ae.p=h}}($i&3)!==0&&Rc(),Ai(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Rd?vl++:(vl=0,Rd=t):vl=0,El(0)}}function A_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,el(i)))}function Rc(){return E_(),T_(),S_(),w_()}function w_(){if(Vt!==5)return!1;var t=Vr,i=wd;wd=0;var a=Mi($i),l=Q.T,h=ae.p;try{ae.p=32>a?32:a,Q.T=null,a=bd,bd=null;var d=Vr,_=$i;if(Vt=0,La=Vr=null,$i=0,(Ke&6)!==0)throw Error(s(331));var S=Ke;if(Ke|=4,s_(d.current),n_(d,d.current,_,a),Ke=S,El(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Un,d)}catch{}return!0}finally{ae.p=h,Q.T=l,A_(t,i)}}function b_(t,i,a){i=Cn(a,i),i=rd(t.stateNode,i,2),t=Ir(t,i,2),t!==null&&(fs(t,2),Ai(t))}function $e(t,i,a){if(t.tag===3)b_(t,t,a);else for(;i!==null;){if(i.tag===3){b_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mr===null||!Mr.has(l))){t=Cn(a,t),a=Ry(2),l=Ir(i,a,2),l!==null&&(Iy(a,l,i,t),fs(l,2),Ai(l));break}}i=i.return}}function Nd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new jA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Td=!0,h.add(a),t=GA.bind(null,t,i,a),i.then(t,t))}function GA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Pe&a)===a&&(mt===4||mt===3&&(Pe&62914560)===Pe&&300>tn()-Ec?(Ke&2)===0&&Ua(t,0):Sd|=a,ka===Pe&&(ka=0)),Ai(t)}function R_(t,i){i===0&&(i=Su()),t=Rs(t,i),t!==null&&(fs(t,i),Ai(t))}function KA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),R_(t,a)}function QA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),R_(t,a)}function YA(t,i){return Mt(t,i)}var Ic=null,ja=null,Dd=!1,Cc=!1,xd=!1,kr=0;function Ai(t){t!==ja&&t.next===null&&(ja===null?Ic=ja=t:ja=ja.next=t),Cc=!0,Dd||(Dd=!0,$A())}function El(t,i){if(!xd&&Cc){xd=!0;do for(var a=!1,l=Ic;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,D_(l,d))}else d=Pe,d=si(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||zn(l,d)||(a=!0,D_(l,d));l=l.next}while(a);xd=!1}}function XA(){I_()}function I_(){Cc=Dd=!1;var t=0;kr!==0&&a1()&&(t=kr);for(var i=tn(),a=null,l=Ic;l!==null;){var h=l.next,d=C_(l,i);d===0?(l.next=null,a===null?Ic=h:a.next=h,h===null&&(ja=a)):(a=l,(t!==0||(d&3)!==0)&&(Cc=!0)),l=h}Vt!==0&&Vt!==5||El(t),kr!==0&&(kr=0)}function C_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),S=1<<_,O=h[_];O===-1?((S&a)===0||(S&l)!==0)&&(h[_]=af(S,i)):O<=i&&(t.expiredLanes|=S),d&=~S}if(i=tt,a=Pe,a=si(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&cr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&cr(l),Mi(a)){case 2:case 8:a=Do;break;case 32:a=hr;break;case 268435456:a=yu;break;default:a=hr}return l=N_.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&cr(l),t.callbackPriority=2,t.callbackNode=null,2}function N_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Rc()&&t.callbackNode!==a)return null;var l=Pe;return l=si(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(c_(t,l,i),C_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?N_.bind(null,t):null)}function D_(t,i){if(Rc())return null;c_(t,i,!0)}function $A(){l1(function(){(Ke&6)!==0?Mt(No,XA):I_()})}function Od(){if(kr===0){var t=ba;t===0&&(t=ii,ii<<=1,(ii&261888)===0&&(ii=256)),kr=t}return kr}function x_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ca(""+t)}function O_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function WA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=x_((h[kt]||null).action),_=l.submitter;_&&(i=(i=_[kt]||null)?x_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new gi("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(kr!==0){var O=_?O_(h,_):new FormData(h);Jf(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(S.preventDefault(),O=_?O_(h,_):new FormData(h),Jf(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Md=0;Md<pf.length;Md++){var Vd=pf[Md],JA=Vd.toLowerCase(),ZA=Vd[0].toUpperCase()+Vd.slice(1);Qn(JA,"on"+ZA)}Qn(ug,"onAnimationEnd"),Qn(cg,"onAnimationIteration"),Qn(hg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(pA,"onTransitionRun"),Qn(gA,"onTransitionStart"),Qn(yA,"onTransitionCancel"),Qn(fg,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function M_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],O=S.instance,H=S.currentTarget;if(S=S.listener,O!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=H;try{d(h)}catch(Y){Hu(Y)}h.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(S=l[_],O=S.instance,H=S.currentTarget,S=S.listener,O!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=H;try{d(h)}catch(Y){Hu(Y)}h.currentTarget=null,d=O}}}}function Me(t,i){var a=i[sa];a===void 0&&(a=i[sa]=new Set);var l=t+"__bubble";a.has(l)||(V_(i,t,2,!1),a.add(l))}function Pd(t,i,a){var l=0;i&&(l|=4),V_(a,t,l,i)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function kd(t){if(!t[Nc]){t[Nc]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(e1.has(a)||Pd(a,!1,t),Pd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Nc]||(i[Nc]=!0,Pd("selectionchange",!1,i))}}function V_(t,i,a,l){switch(uv(i)){case 2:var h=C1;break;case 8:h=N1;break;default:h=Wd}a=h.bind(null,i,a,t),h=void 0,!_s||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Ld(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=ui(S),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue e}S=S.parentNode}}l=l.return}yr(function(){var H=d,Y=wn(a),Z=[];e:{var F=dg.get(t);if(F!==void 0){var K=gi,he=t;switch(t){case"keypress":if(Es(a)===0)break e;case"keydown":case"keyup":K=ju;break;case"focusin":he="focus",K=Ss;break;case"focusout":he="blur",K=Ss;break;case"beforeblur":case"afterblur":K=Ss;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=g;break;case ug:case cg:case hg:K=Mu;break;case fg:K=A;break;case"scroll":case"scrollend":K=Go;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=Vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ki;break;case"toggle":case"beforetoggle":K=Ce}var ve=(i&4)!==0,et=!ve&&(t==="scroll"||t==="scrollend"),L=ve?F!==null?F+"Capture":null:F;ve=[];for(var P=H,q;P!==null;){var J=P;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||L===null||(J=Hn(P,L),J!=null&&ve.push(Sl(P,J,q))),et)break;P=P.return}0<ve.length&&(F=new K(F,he,null,a,Y),Z.push({event:F,listeners:ve}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==qo&&(he=a.relatedTarget||a.fromElement)&&(ui(he)||he[oi]))break e;if((K||F)&&(F=Y.window===Y?Y:(F=Y.ownerDocument)?F.defaultView||F.parentWindow:window,K?(he=a.relatedTarget||a.toElement,K=H,he=he?ui(he):null,he!==null&&(et=u(he),ve=he.tag,he!==et||ve!==5&&ve!==27&&ve!==6)&&(he=null)):(K=null,he=H),K!==he)){if(ve=Ko,J="onMouseLeave",L="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(ve=ki,J="onPointerLeave",L="onPointerEnter",P="pointer"),et=K==null?F:dn(K),q=he==null?F:dn(he),F=new ve(J,P+"leave",K,a,Y),F.target=et,F.relatedTarget=q,J=null,ui(Y)===H&&(ve=new ve(L,P+"enter",he,a,Y),ve.target=q,ve.relatedTarget=et,J=ve),et=J,K&&he)t:{for(ve=t1,L=K,P=he,q=0,J=L;J;J=ve(J))q++;J=0;for(var ge=P;ge;ge=ve(ge))J++;for(;0<q-J;)L=ve(L),q--;for(;0<J-q;)P=ve(P),J--;for(;q--;){if(L===P||P!==null&&L===P.alternate){ve=L;break t}L=ve(L),P=ve(P)}ve=null}else ve=null;K!==null&&P_(Z,F,K,ve,!1),he!==null&&et!==null&&P_(Z,et,he,ve,!0)}}e:{if(F=H?dn(H):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var He=Jp;else if($p(F))if(Zp)He=fA;else{He=cA;var fe=uA}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&ua(H.elementType)&&(He=Jp):He=hA;if(He&&(He=He(t,H))){Wp(Z,He,a,Y);break e}fe&&fe(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&zo(F,"number",F.value)}switch(fe=H?dn(H):window,t){case"focusin":($p(fe)||fe.contentEditable==="true")&&(ya=fe,ff=H,Wo=null);break;case"focusout":Wo=ff=ya=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,og(Z,a,Y);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":og(Z,a,Y)}var De;if(Ge)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ga?As(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(vi&&a.locale!=="ko"&&(ga||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ga&&(De=Fo()):(pi=Y,Ho="value"in pi?pi.value:pi.textContent,ga=!0)),fe=Dc(H,ke),0<fe.length&&(ke=new _i(ke,t,null,a,Y),Z.push({event:ke,listeners:fe}),De?ke.data=De:(De=pa(a),De!==null&&(ke.data=De)))),(De=Rn?sA(t,a):aA(t,a))&&(ke=Dc(H,"onBeforeInput"),0<ke.length&&(fe=new _i("onBeforeInput","beforeinput",null,a,Y),Z.push({event:fe,listeners:ke}),fe.data=De)),WA(Z,t,H,a,Y)}M_(Z,i)})}function Sl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Dc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Hn(t,a),h!=null&&l.unshift(Sl(t,h,d)),h=Hn(t,i),h!=null&&l.push(Sl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function t1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function P_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,O=S.alternate,H=S.stateNode;if(S=S.tag,O!==null&&O===l)break;S!==5&&S!==26&&S!==27||H===null||(O=H,h?(H=Hn(a,d),H!=null&&_.unshift(Sl(a,H,O))):h||(H=Hn(a,d),H!=null&&_.push(Sl(a,H,O)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var n1=/\r\n?/g,i1=/\u0000|\uFFFD/g;function k_(t){return(typeof t=="string"?t:""+t).replace(n1,`
`).replace(i1,"")}function L_(t,i){return i=k_(i),k_(t)===i}function Ze(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(t,""+l);break;case"className":mn(t,"class",l);break;case"tabIndex":mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(t,a,l);break;case"style":Bo(t,l,d);break;case"data":if(i!=="object"){mn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ca(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",h.name,h,null),Ze(t,i,"formEncType",h.formEncType,h,null),Ze(t,i,"formMethod",h.formMethod,h,null),Ze(t,i,"formTarget",h.formTarget,h,null)):(Ze(t,i,"encType",h.encType,h,null),Ze(t,i,"method",h.method,h,null),Ze(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ca(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=qn);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ca(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),oa(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":oa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Du.get(a)||a,oa(t,a,l))}}function Ud(t,i,a,l,h,d){switch(a){case"style":Bo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):oa(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,_,a,null)}}h&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var S=d=_=h=null,O=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":_=Y;break;case"checked":O=Y;break;case"defaultChecked":H=Y;break;case"value":d=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Ze(t,i,l,Y,a,null)}}Iu(t,d,S,O,H,_,h,!1);return;case"select":Me("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Ze(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?dr(t,!!l,i,!1):a!=null&&dr(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ze(t,i,_,S,a,null)}mr(t,l,h,d);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,O,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Me(Tl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,H,l,a,null)}return;default:if(ua(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Ud(t,i,Y,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ze(t,i,S,l,a,null))}function r1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,O=null,H=null,Y=null;for(K in a){var Z=a[K];if(a.hasOwnProperty(K)&&Z!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=Z;default:l.hasOwnProperty(K)||Ze(t,i,K,null,l,Z)}}for(var F in l){var K=l[F];if(Z=a[F],l.hasOwnProperty(F)&&(K!=null||Z!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":Y=K;break;case"value":_=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==Z&&Ze(t,i,F,K,l,Z)}}la(t,_,S,O,H,Y,d,h);return;case"select":K=_=S=F=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":K=O;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==O&&Ze(t,i,h,d,l,O)}i=S,a=_,l=K,F!=null?dr(t,!!a,F,!1):!!l!=!!a&&(i!=null?dr(t,!!a,i,!0):dr(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ze(t,i,_,h,l,d)}Cu(t,F,K);return;case"option":for(var he in a)if(F=a[he],a.hasOwnProperty(he)&&F!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Ze(t,i,he,null,l,F)}for(O in l)if(F=l[O],K=a[O],l.hasOwnProperty(O)&&F!==K&&(F!=null||K!=null))switch(O){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Ze(t,i,O,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)F=a[ve],a.hasOwnProperty(ve)&&F!=null&&!l.hasOwnProperty(ve)&&Ze(t,i,ve,null,l,F);for(H in l)if(F=l[H],K=a[H],l.hasOwnProperty(H)&&F!==K&&(F!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Ze(t,i,H,F,l,K)}return;default:if(ua(i)){for(var et in a)F=a[et],a.hasOwnProperty(et)&&F!==void 0&&!l.hasOwnProperty(et)&&Ud(t,i,et,void 0,l,F);for(Y in l)F=l[Y],K=a[Y],!l.hasOwnProperty(Y)||F===K||F===void 0&&K===void 0||Ud(t,i,Y,F,l,K);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&Ze(t,i,L,null,l,F);for(Z in l)F=l[Z],K=a[Z],!l.hasOwnProperty(Z)||F===K||F==null&&K==null||Ze(t,i,Z,F,l,K)}function U_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function s1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&U_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],H=O.startTime;if(H>S)break;var Y=O.transferSize,Z=O.initiatorType;Y&&U_(Z)&&(O=O.responseEnd,_+=Y*(O<S?1:(S-H)/(O-H)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var zd=null,jd=null;function xc(t){return t.nodeType===9?t:t.ownerDocument}function z_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Bd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qd=null;function a1(){var t=window.event;return t&&t.type==="popstate"?t===qd?!1:(qd=t,!0):(qd=null,!1)}var B_=typeof setTimeout=="function"?setTimeout:void 0,o1=typeof clearTimeout=="function"?clearTimeout:void 0,q_=typeof Promise=="function"?Promise:void 0,l1=typeof queueMicrotask=="function"?queueMicrotask:typeof q_<"u"?function(t){return q_.resolve(null).then(t).catch(u1)}:B_;function u1(t){setTimeout(function(){throw t})}function Lr(t){return t==="head"}function H_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Fa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Al(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Al(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[li]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Al(t.ownerDocument.body);a=h}while(a);Fa(i)}function F_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Hd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hd(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function c1(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[li])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function h1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mn(t.nextSibling),t===null))return null;return t}function G_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Mn(t.nextSibling),t===null))return null;return t}function Fd(t){return t.data==="$?"||t.data==="$~"}function Gd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function f1(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Kd=null;function K_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Mn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Q_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Y_(t,i,a){switch(i=xc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Al(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);aa(t)}var Vn=new Map,X_=new Set;function Oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Wi=ae.d;ae.d={f:d1,r:m1,D:p1,C:g1,L:y1,m:_1,X:E1,S:v1,M:T1};function d1(){var t=Wi.f(),i=Ac();return t||i}function m1(t){var i=An(t);i!==null&&i.tag===5&&i.type==="form"?fy(i):Wi.r(t)}var Ba=typeof document>"u"?null:document;function $_(t,i,a){var l=Ba;if(l&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),X_.has(h)||(X_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),At(i),l.head.appendChild(i)))}}function p1(t){Wi.D(t),$_("dns-prefetch",t,null)}function g1(t,i){Wi.C(t,i),$_("preconnect",t,i)}function y1(t,i,a){Wi.L(t,i,a);var l=Ba;if(l&&t&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var d=h;switch(i){case"style":d=qa(t);break;case"script":d=Ha(t)}Vn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Vn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(wl(d))||i==="script"&&l.querySelector(bl(d))||(i=l.createElement("link"),Gt(i,"link",t),At(i),l.head.appendChild(i)))}}function _1(t,i){Wi.m(t,i);var a=Ba;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ha(t)}if(!Vn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Vn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}l=a.createElement("link"),Gt(l,"link",t),At(l),a.head.appendChild(l)}}}function v1(t,i,a){Wi.S(t,i,a);var l=Ba;if(l&&t){var h=ci(l).hoistableStyles,d=qa(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(wl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Vn.get(d))&&Qd(t,a);var O=_=l.createElement("link");At(O),Gt(O,"link",t),O._p=new Promise(function(H,Y){O.onload=H,O.onerror=Y}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Mc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function E1(t,i){Wi.X(t,i);var a=Ba;if(a&&t){var l=ci(a).hoistableScripts,h=Ha(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=T({src:t,async:!0},i),(i=Vn.get(h))&&Yd(t,i),d=a.createElement("script"),At(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function T1(t,i){Wi.M(t,i);var a=Ba;if(a&&t){var l=ci(a).hoistableScripts,h=Ha(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Vn.get(h))&&Yd(t,i),d=a.createElement("script"),At(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function W_(t,i,a,l){var h=(h=Ae.current)?Oc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=qa(a.href),a=ci(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qa(a.href);var d=ci(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(wl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),d||S1(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ha(a),a=ci(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function qa(t){return'href="'+sn(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function J_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function S1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),At(i),t.head.appendChild(i))}function Ha(t){return'[src="'+sn(t)+'"]'}function bl(t){return"script[async]"+t}function Z_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return i.instance=l,At(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Gt(l,"style",h),Mc(l,a.precedence,t),i.instance=l;case"stylesheet":h=qa(a.href);var d=t.querySelector(wl(h));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=J_(a),(h=Vn.get(h))&&Qd(l,h),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),Gt(d,"link",l),i.state.loading|=4,Mc(d,a.precedence,t),i.instance=d;case"script":return d=Ha(a.src),(h=t.querySelector(bl(d)))?(i.instance=h,At(h),h):(l=a,(h=Vn.get(d))&&(l=T({},a),Yd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Mc(l,a.precedence,t));return i.instance}function Mc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Yd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Vc=null;function ev(t,i,a){if(Vc===null){var l=new Map,h=Vc=new Map;h.set(a,l)}else h=Vc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[li]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function tv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function A1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function nv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function w1(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=qa(l.href),d=i.querySelector(wl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Pc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,l=J_(l),(h=Vn.get(h))&&Qd(l,h),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Pc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Xd=0;function b1(t,i){return t.stylesheets&&t.count===0&&Lc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Lc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Xd===0&&(Xd=62500*s1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Lc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Xd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kc=null;function Lc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kc=new Map,i.forEach(R1,t),kc=null,Pc.call(t))}function R1(t,i){if(!(i.state.loading&4)){var a=kc.get(t);if(a)var l=a.get(null);else{a=new Map,kc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Rl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function I1(t,i,a,l,h,d,_,S,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function iv(t,i,a,l,h,d,_,S,O,H,Y,Z){return t=new I1(t,i,a,_,O,H,Y,Z,S),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),t.current=d,d.stateNode=t,i=Cf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Of(d),t}function rv(t){return t?(t=Ea,t):Ea}function sv(t,i,a,l,h,d){h=rv(h),l.context===null?l.context=h:l.pendingContext=h,l=Rr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ir(t,l,i),a!==null&&(hn(a,t,i),rl(a,t,i))}function av(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function $d(t,i){av(t,i),(t=t.alternate)&&av(t,i)}function ov(t){if(t.tag===13||t.tag===31){var i=Rs(t,67108864);i!==null&&hn(i,t,67108864),$d(t,67108864)}}function lv(t){if(t.tag===13||t.tag===31){var i=Tn();i=ms(i);var a=Rs(t,i);a!==null&&hn(a,t,i),$d(t,i)}}var Uc=!0;function C1(t,i,a,l){var h=Q.T;Q.T=null;var d=ae.p;try{ae.p=2,Wd(t,i,a,l)}finally{ae.p=d,Q.T=h}}function N1(t,i,a,l){var h=Q.T;Q.T=null;var d=ae.p;try{ae.p=8,Wd(t,i,a,l)}finally{ae.p=d,Q.T=h}}function Wd(t,i,a,l){if(Uc){var h=Jd(l);if(h===null)Ld(t,i,l,zc,a),cv(t,l);else if(x1(h,t,i,a,l))l.stopPropagation();else if(cv(t,l),i&4&&-1<D1.indexOf(t)){for(;h!==null;){var d=An(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ri(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var O=1<<31-pt(_);S.entanglements[1]|=O,_&=~O}Ai(d),(Ke&6)===0&&(Tc=tn()+500,El(0))}}break;case 31:case 13:S=Rs(d,2),S!==null&&hn(S,d,2),Ac(),$d(d,2)}if(d=Jd(l),d===null&&Ld(t,i,l,zc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ld(t,i,l,null,a)}}function Jd(t){return t=wn(t),Zd(t)}var zc=null;function Zd(t){if(zc=null,t=ui(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return zc=t,null}function uv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case No:return 2;case Do:return 8;case hr:case sf:return 32;case yu:return 268435456;default:return 32}default:return 32}}var em=!1,Ur=null,zr=null,jr=null,Il=new Map,Cl=new Map,Br=[],D1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cv(t,i){switch(t){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Il.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(i.pointerId)}}function Nl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=An(i),i!==null&&ov(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function x1(t,i,a,l,h){switch(i){case"focusin":return Ur=Nl(Ur,t,i,a,l,h),!0;case"dragenter":return zr=Nl(zr,t,i,a,l,h),!0;case"mouseover":return jr=Nl(jr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Il.set(d,Nl(Il.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Cl.set(d,Nl(Cl.get(d)||null,t,i,a,l,h)),!0}return!1}function hv(t){var i=ui(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,jn(t.priority,function(){lv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,jn(t.priority,function(){lv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Jd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);qo=l,a.target.dispatchEvent(l),qo=null}else return i=An(a),i!==null&&ov(i),t.blockedOn=a,!1;i.shift()}return!0}function fv(t,i,a){jc(t)&&a.delete(i)}function O1(){em=!1,Ur!==null&&jc(Ur)&&(Ur=null),zr!==null&&jc(zr)&&(zr=null),jr!==null&&jc(jr)&&(jr=null),Il.forEach(fv),Cl.forEach(fv)}function Bc(t,i){t.blockedOn===i&&(t.blockedOn=null,em||(em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,O1)))}var qc=null;function dv(t){qc!==t&&(qc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qc===t&&(qc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Zd(l||a)===null)continue;break}var d=An(a);d!==null&&(t.splice(i,3),i-=3,Jf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Fa(t){function i(O){return Bc(O,t)}Ur!==null&&Bc(Ur,t),zr!==null&&Bc(zr,t),jr!==null&&Bc(jr,t),Il.forEach(i),Cl.forEach(i);for(var a=0;a<Br.length;a++){var l=Br[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Br.length&&(a=Br[0],a.blockedOn===null);)hv(a),a.blockedOn===null&&Br.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[kt]||null;if(typeof d=="function")_||dv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[kt]||null)S=_.formAction;else if(Zd(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),dv(a)}}}function mv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function tm(t){this._internalRoot=t}Hc.prototype.render=tm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Tn();sv(a,l,t,i,null,null)},Hc.prototype.unmount=tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;sv(t.current,2,null,t,null,null),Ac(),i[oi]=null}};function Hc(t){this._internalRoot=t}Hc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Au();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Br.length&&i!==0&&i<Br[a].priority;a++);Br.splice(a,0,t),a===0&&hv(t)}};var pv=e.version;if(pv!=="19.2.0")throw Error(s(527,pv,"19.2.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var M1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{Un=Fc.inject(M1),jt=Fc}catch{}}return xl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Sy,d=Ay,_=wy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=iv(t,1,!1,null,null,a,l,null,h,d,_,mv),t[oi]=i.current,kd(t),new tm(i)},xl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Sy,_=Ay,S=wy,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=iv(t,1,!0,i,a??null,l,h,O,d,_,S,mv),i.context=rv(null),a=i.current,l=Tn(),l=ms(l),h=Rr(l),h.callback=null,Ir(a,h,l),a=l,i.current.lanes=a,fs(i,a),Ai(i),t[oi]=i.current,kd(t),new Hc(i)},xl.version="19.2.0",xl}var bv;function H1(){if(bv)return rm.exports;bv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rm.exports=q1(),rm.exports}var F1=H1();const G1=cT(F1);var Rv="popstate";function K1(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Sm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Kl(o)}return Y1(e,n,null,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Jn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Q1(){return Math.random().toString(36).substring(2,10)}function Iv(r,e){return{usr:r.state,key:r.key,idx:e}}function Sm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?po(e):e,state:n,key:e&&e.key||s||Q1()}}function Kl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function po(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Y1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let z=E(),X=z==null?null:z-y;y=z,p&&p({action:m,location:B.location,delta:X})}function I(z,X){m="PUSH";let W=Sm(B.location,z,X);y=E()+1;let ie=Iv(W,y),Ee=B.createHref(W);try{f.pushState(ie,"",Ee)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(Ee)}u&&p&&p({action:m,location:B.location,delta:1})}function M(z,X){m="REPLACE";let W=Sm(B.location,z,X);y=E();let ie=Iv(W,y),Ee=B.createHref(W);f.replaceState(ie,"",Ee),u&&p&&p({action:m,location:B.location,delta:0})}function U(z){return X1(z)}let B={get action(){return m},get location(){return r(o,f)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Rv,T),p=z,()=>{o.removeEventListener(Rv,T),p=null}},createHref(z){return e(o,z)},createURL:U,encodeLocation(z){let X=U(z);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:I,replace:M,go(z){return f.go(z)}};return B}function X1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Kl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function hT(r,e,n="/"){return $1(r,e,n,!1)}function $1(r,e,n,s){let o=typeof e=="string"?po(e):e,u=ir(o.pathname||"/",n);if(u==null)return null;let f=fT(r);W1(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=lw(u);m=aw(f[p],y,s)}return m}function fT(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ct(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=er([s,E.relativePath]),I=n.concat(E);f.children&&f.children.length>0&&(ct(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),fT(f.children,e,I,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:rw(T,f.index),routesMeta:I})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of dT(f.path))u(f,m,!0,p)}),e}function dT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=dT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function W1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:sw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var J1=/^:[\w-]+$/,Z1=3,ew=2,tw=1,nw=10,iw=-2,Cv=r=>r==="*";function rw(r,e){let n=r.split("/"),s=n.length;return n.some(Cv)&&(s+=iw),e&&(s+=ew),n.filter(o=>!Cv(o)).reduce((o,u)=>o+(J1.test(u)?Z1:u===""?tw:nw),s)}function sw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function aw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),I=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:er([u,T.pathname]),pathnameBase:fw(er([u,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(u=er([u,T.pathnameBase]))}return f}function fh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=ow(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},I)=>{if(E==="*"){let U=m[I]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const M=m[I];return T&&!M?y[E]=void 0:y[E]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function ow(r,e=!1,n=!0){Jn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function lw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ir(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function uw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?po(r):r;return{pathname:n?n.startsWith("/")?n:cw(n,e):e,search:dw(s),hash:mw(o)}}function cw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function lm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jm(r){let e=hw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Zm(r,e,n,s=!1){let o;typeof r=="string"?o=po(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),lm("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),lm("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),lm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),T-=1;o.pathname=I.join("/")}m=T>=0?e[T]:"/"}let p=uw(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var er=r=>r.join("/").replace(/\/\/+/g,"/"),fw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),dw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,mw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function pw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mT=["POST","PUT","PATCH","DELETE"];new Set(mT);var gw=["GET",...mT];new Set(gw);var go=ee.createContext(null);go.displayName="DataRouter";var Ph=ee.createContext(null);Ph.displayName="DataRouterState";ee.createContext(!1);var pT=ee.createContext({isTransitioning:!1});pT.displayName="ViewTransition";var yw=ee.createContext(new Map);yw.displayName="Fetchers";var _w=ee.createContext(null);_w.displayName="Await";var ti=ee.createContext(null);ti.displayName="Navigation";var nu=ee.createContext(null);nu.displayName="Location";var Oi=ee.createContext({outlet:null,matches:[],isDataRoute:!1});Oi.displayName="Route";var ep=ee.createContext(null);ep.displayName="RouteError";function vw(r,{relative:e}={}){ct(yo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=ee.useContext(ti),{hash:o,pathname:u,search:f}=iu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:er([n,u])),s.createHref({pathname:m,search:f,hash:o})}function yo(){return ee.useContext(nu)!=null}function as(){return ct(yo(),"useLocation() may be used only in the context of a <Router> component."),ee.useContext(nu).location}var gT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yT(r){ee.useContext(ti).static||ee.useLayoutEffect(r)}function _T(){let{isDataRoute:r}=ee.useContext(Oi);return r?Ow():Ew()}function Ew(){ct(yo(),"useNavigate() may be used only in the context of a <Router> component.");let r=ee.useContext(go),{basename:e,navigator:n}=ee.useContext(ti),{matches:s}=ee.useContext(Oi),{pathname:o}=as(),u=JSON.stringify(Jm(s)),f=ee.useRef(!1);return yT(()=>{f.current=!0}),ee.useCallback((p,y={})=>{if(Jn(f.current,gT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Zm(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:er([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}ee.createContext(null);function iu(r,{relative:e}={}){let{matches:n}=ee.useContext(Oi),{pathname:s}=as(),o=JSON.stringify(Jm(n));return ee.useMemo(()=>Zm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Tw(r,e){return vT(r,e)}function vT(r,e,n,s,o){ct(yo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=ee.useContext(ti),{matches:f}=ee.useContext(Oi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let W=T&&T.path||"";ET(y,!T||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let I=as(),M;if(e){let W=typeof e=="string"?po(e):e;ct(E==="/"||W.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${W.pathname}" was given in the \`location\` prop.`),M=W}else M=I;let U=M.pathname||"/",B=U;if(E!=="/"){let W=E.replace(/^\//,"").split("/");B="/"+U.replace(/^\//,"").split("/").slice(W.length).join("/")}let z=hT(r,{pathname:B});Jn(T||z!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Jn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=Rw(z&&z.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:er([E,u.encodeLocation?u.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?E:er([E,u.encodeLocation?u.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),f,n,s,o);return e&&X?ee.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},X):X}function Sw(){let r=xw(),e=pw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=ee.createElement(ee.Fragment,null,ee.createElement("p",null," Hey developer "),ee.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ee.createElement("code",{style:u},"ErrorBoundary")," or"," ",ee.createElement("code",{style:u},"errorElement")," prop on your route.")),ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),n?ee.createElement("pre",{style:o},n):null,f)}var Aw=ee.createElement(Sw,null),ww=class extends ee.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?ee.createElement(Oi.Provider,{value:this.props.routeContext},ee.createElement(ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bw({routeContext:r,match:e,children:n}){let s=ee.useContext(go);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),ee.createElement(Oi.Provider,{value:r},n)}function Rw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let y=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);ct(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,p=-1;if(n)for(let y=0;y<u.length;y++){let E=u[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=y),E.route.id){let{loaderData:T,errors:I}=n,M=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!I||I[E.route.id]===void 0);if(E.route.lazy||M){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,E,T)=>{let I,M=!1,U=null,B=null;n&&(I=f&&E.route.id?f[E.route.id]:void 0,U=E.route.errorElement||Aw,m&&(p<0&&T===0?(ET("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,B=null):p===T&&(M=!0,B=E.route.hydrateFallbackElement||null)));let z=e.concat(u.slice(0,T+1)),X=()=>{let W;return I?W=U:M?W=B:E.route.Component?W=ee.createElement(E.route.Component,null):E.route.element?W=E.route.element:W=y,ee.createElement(bw,{match:E,routeContext:{outlet:y,matches:z,isDataRoute:n!=null},children:W})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?ee.createElement(ww,{location:n.location,revalidation:n.revalidation,component:U,error:I,children:X(),routeContext:{outlet:null,matches:z,isDataRoute:!0},unstable_onError:s}):X()},null)}function tp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iw(r){let e=ee.useContext(go);return ct(e,tp(r)),e}function Cw(r){let e=ee.useContext(Ph);return ct(e,tp(r)),e}function Nw(r){let e=ee.useContext(Oi);return ct(e,tp(r)),e}function np(r){let e=Nw(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Dw(){return np("useRouteId")}function xw(){let r=ee.useContext(ep),e=Cw("useRouteError"),n=np("useRouteError");return r!==void 0?r:e.errors?.[n]}function Ow(){let{router:r}=Iw("useNavigate"),e=np("useNavigate"),n=ee.useRef(!1);return yT(()=>{n.current=!0}),ee.useCallback(async(o,u={})=>{Jn(n.current,gT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Nv={};function ET(r,e,n){!e&&!Nv[r]&&(Nv[r]=!0,Jn(!1,n))}ee.memo(Mw);function Mw({routes:r,future:e,state:n,unstable_onError:s}){return vT(r,void 0,n,s,e)}function Vw({to:r,replace:e,state:n,relative:s}){ct(yo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=ee.useContext(ti);Jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=ee.useContext(Oi),{pathname:f}=as(),m=_T(),p=Zm(r,Jm(u),f,s==="path"),y=JSON.stringify(p);return ee.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function zs(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ct(!yo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=ee.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=po(n));let{pathname:p="/",search:y="",hash:E="",state:T=null,key:I="default"}=n,M=ee.useMemo(()=>{let U=ir(p,f);return U==null?null:{location:{pathname:U,search:y,hash:E,state:T,key:I},navigationType:s}},[f,p,y,E,T,I,s]);return Jn(M!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:ee.createElement(ti.Provider,{value:m},ee.createElement(nu.Provider,{children:e,value:M}))}function Dv({children:r,location:e}){return Tw(Am(r),e)}function Am(r,e=[]){let n=[];return ee.Children.forEach(r,(s,o)=>{if(!ee.isValidElement(s))return;let u=[...e,o];if(s.type===ee.Fragment){n.push.apply(n,Am(s.props.children,u));return}ct(s.type===zs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Am(s.props.children,u)),n.push(f)}),n}var Zc="get",eh="application/x-www-form-urlencoded";function kh(r){return r!=null&&typeof r.tagName=="string"}function kw(r){return kh(r)&&r.tagName.toLowerCase()==="button"}function Lw(r){return kh(r)&&r.tagName.toLowerCase()==="form"}function Uw(r){return kh(r)&&r.tagName.toLowerCase()==="input"}function zw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function jw(r,e){return r.button===0&&(!e||e==="_self")&&!zw(r)}var Gc=null;function Bw(){if(Gc===null)try{new FormData(document.createElement("form"),0),Gc=!1}catch{Gc=!0}return Gc}var qw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function um(r){return r!=null&&!qw.has(r)?(Jn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eh}"`),null):r}function Hw(r,e){let n,s,o,u,f;if(Lw(r)){let m=r.getAttribute("action");s=m?ir(m,e):null,n=r.getAttribute("method")||Zc,o=um(r.getAttribute("enctype"))||eh,u=new FormData(r)}else if(kw(r)||Uw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ir(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Zc,o=um(r.getAttribute("formenctype"))||um(m.getAttribute("enctype"))||eh,u=new FormData(m,r),!Bw()){let{name:y,type:E,value:T}=r;if(E==="image"){let I=y?`${y}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else y&&u.append(y,T)}}else{if(kh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zc,s=null,o=eh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ip(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Fw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ir(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Gw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Kw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Qw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Gw(u,n);return f.links?f.links():[]}return[]}));return Ww(s.flat(1).filter(Kw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function xv(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Yw(r,e,{includeHydrateFallback:n}={}){return Xw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Xw(r){return[...new Set(r)]}function $w(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Ww(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify($w(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function TT(){let r=ee.useContext(go);return ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Jw(){let r=ee.useContext(Ph);return ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rp=ee.createContext(void 0);rp.displayName="FrameworkContext";function ST(){let r=ee.useContext(rp);return ip(r,"You must render this element inside a <HydratedRouter> element"),r}function Zw(r,e){let n=ee.useContext(rp),[s,o]=ee.useState(!1),[u,f]=ee.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,I=ee.useRef(null);ee.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let B=X=>{X.forEach(W=>{f(W.isIntersecting)})},z=new IntersectionObserver(B,{threshold:.5});return I.current&&z.observe(I.current),()=>{z.disconnect()}}},[r]),ee.useEffect(()=>{if(s){let B=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(B)}}},[s]);let M=()=>{o(!0)},U=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,I,{}]:[u,I,{onFocus:Ol(m,M),onBlur:Ol(p,U),onMouseEnter:Ol(y,M),onMouseLeave:Ol(E,U),onTouchStart:Ol(T,M)}]:[!1,I,{}]}function Ol(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function eb({page:r,...e}){let{router:n}=TT(),s=ee.useMemo(()=>hT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?ee.createElement(nb,{page:r,matches:s,...e}):null}function tb(r){let{manifest:e,routeModules:n}=ST(),[s,o]=ee.useState([]);return ee.useEffect(()=>{let u=!1;return Qw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function nb({page:r,matches:e,...n}){let s=as(),{manifest:o,routeModules:u}=ST(),{basename:f}=TT(),{loaderData:m,matches:p}=Jw(),y=ee.useMemo(()=>xv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=ee.useMemo(()=>xv(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=ee.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,B=!1;if(e.forEach(X=>{let W=o.routes[X.route.id];!W||!W.hasLoader||(!y.some(ie=>ie.route.id===X.route.id)&&X.route.id in m&&u[X.route.id]?.shouldRevalidate||W.hasClientLoader?B=!0:U.add(X.route.id))}),U.size===0)return[];let z=Fw(r,f,"data");return B&&U.size>0&&z.searchParams.set("_routes",e.filter(X=>U.has(X.route.id)).map(X=>X.route.id).join(",")),[z.pathname+z.search]},[f,m,s,o,y,e,r,u]),I=ee.useMemo(()=>Yw(E,o),[E,o]),M=tb(E);return ee.createElement(ee.Fragment,null,T.map(U=>ee.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),I.map(U=>ee.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),M.map(({key:U,link:B})=>ee.createElement("link",{key:U,nonce:n.nonce,...B})))}function ib(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AT&&(window.__reactRouterVersion="7.9.5")}catch{}function rb({basename:r,children:e,window:n}){let s=ee.useRef();s.current==null&&(s.current=K1({window:n,v5Compat:!0}));let o=s.current,[u,f]=ee.useState({action:o.action,location:o.location}),m=ee.useCallback(p=>{ee.startTransition(()=>f(p))},[f]);return ee.useLayoutEffect(()=>o.listen(m),[o,m]),ee.createElement(Pw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var wT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bT=ee.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,...I},M){let{basename:U}=ee.useContext(ti),B=typeof y=="string"&&wT.test(y),z,X=!1;if(typeof y=="string"&&B&&(z=y,AT))try{let R=new URL(window.location.href),C=y.startsWith("//")?new URL(R.protocol+y):new URL(y),x=ir(C.pathname,U);C.origin===R.origin&&x!=null?y=x+C.search+C.hash:X=!0}catch{Jn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=vw(y,{relative:o}),[ie,Ee,ce]=Zw(s,I),pe=ob(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function b(R){e&&e(R),R.defaultPrevented||pe(R)}let w=ee.createElement("a",{...I,...ce,href:z||W,onClick:X||u?e:b,ref:ib(M,Ee),target:p,"data-discover":!B&&n==="render"?"true":void 0});return ie&&!B?ee.createElement(ee.Fragment,null,w,ee.createElement(eb,{page:W})):w});bT.displayName="Link";var Ml=ee.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=iu(f,{relative:y.relative}),I=as(),M=ee.useContext(Ph),{navigator:U,basename:B}=ee.useContext(ti),z=M!=null&&fb(T)&&m===!0,X=U.encodeLocation?U.encodeLocation(T).pathname:T.pathname,W=I.pathname,ie=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(W=W.toLowerCase(),ie=ie?ie.toLowerCase():null,X=X.toLowerCase()),ie&&B&&(ie=ir(ie,B)||ie);const Ee=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ce=W===X||!o&&W.startsWith(X)&&W.charAt(Ee)==="/",pe=ie!=null&&(ie===X||!o&&ie.startsWith(X)&&ie.charAt(X.length)==="/"),b={isActive:ce,isPending:pe,isTransitioning:z},w=ce?e:void 0,R;typeof s=="function"?R=s(b):R=[s,ce?"active":null,pe?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let C=typeof u=="function"?u(b):u;return ee.createElement(bT,{...y,"aria-current":w,className:R,ref:E,style:C,to:f,viewTransition:m},typeof p=="function"?p(b):p)});Ml.displayName="NavLink";var sb=ee.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Zc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,...I},M)=>{let U=cb(),B=hb(m,{relative:y}),z=f.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&wT.test(m),W=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let Ee=ie.nativeEvent.submitter,ce=Ee?.getAttribute("formmethod")||f;U(Ee||ie.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T})};return ee.createElement("form",{ref:M,method:z,action:B,onSubmit:s?p:W,...I,"data-discover":!X&&r==="render"?"true":void 0})});sb.displayName="Form";function ab(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RT(r){let e=ee.useContext(go);return ct(e,ab(r)),e}function ob(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=_T(),p=as(),y=iu(r,{relative:u});return ee.useCallback(E=>{if(jw(E,e)){E.preventDefault();let T=n!==void 0?n:Kl(p)===Kl(y);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var lb=0,ub=()=>`__${String(++lb)}__`;function cb(){let{router:r}=RT("useSubmit"),{basename:e}=ee.useContext(ti),n=Dw();return ee.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=Hw(s,e);if(o.navigate===!1){let E=o.fetcherKey||ub();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function hb(r,{relative:e}={}){let{basename:n}=ee.useContext(ti),s=ee.useContext(Oi);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...iu(r||".",{relative:e})},f=as();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:er([n,u.pathname])),Kl(u)}function fb(r,{relative:e}={}){let n=ee.useContext(pT);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=RT("useViewTransitionState"),o=iu(r,{relative:e});if(!n.isTransitioning)return!1;let u=ir(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ir(n.nextLocation.pathname,s)||n.nextLocation.pathname;return fh(o.pathname,f)!=null||fh(o.pathname,u)!=null}const db=()=>{};var Ov={};const IT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},mb=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},CT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let I=(m&15)<<2|y>>6,M=y&63;p||(M=64,f||(I=64)),s.push(n[E],n[T],n[I],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(IT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):mb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new pb;const I=u<<2|m>>4;if(s.push(I),y!==64){const M=m<<4&240|y>>2;if(s.push(M),T!==64){const U=y<<6&192|T;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class pb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gb=function(r){const e=IT(r);return CT.encodeByteArray(e,!0)},dh=function(r){return gb(r).replace(/\./g,"")},NT=function(r){try{return CT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _b=()=>yb().__FIREBASE_DEFAULTS__,vb=()=>{if(typeof process>"u"||typeof Ov>"u")return;const r=Ov.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Eb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&NT(r[1]);return e&&JSON.parse(e)},Lh=()=>{try{return db()||_b()||vb()||Eb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},DT=r=>Lh()?.emulatorHosts?.[r],Tb=r=>{const e=DT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},xT=()=>Lh()?.config,OT=r=>Lh()?.[`_${r}`];class Sb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function _o(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function MT(r){return(await fetch(r,{credentials:"include"})).ok}function Ab(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[dh(JSON.stringify(n)),dh(JSON.stringify(f)),""].join(".")}const jl={};function wb(){const r={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?r.emulator.push(e):r.prod.push(e);return r}function bb(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Mv=!1;function VT(r,e){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||jl[r]===e||jl[r]||Mv)return;jl[r]=e;function n(I){return`__firebase__banner__${I}`}const s="__firebase__banner",u=wb().prod.length>0;function f(){const I=document.getElementById(s);I&&I.remove()}function m(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,M){I.setAttribute("width","24"),I.setAttribute("id",M),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Mv=!0,f()},I}function E(I,M){I.setAttribute("id",M),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function T(){const I=bb(s),M=n("text"),U=document.getElementById(M)||document.createElement("span"),B=n("learnmore"),z=document.getElementById(B)||document.createElement("a"),X=n("preprendIcon"),W=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ie=I.element;m(ie),E(z,B);const Ee=y();p(W,X),ie.append(W,U,z,Ee),document.body.appendChild(ie)}u?(U.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function Ib(){const r=Lh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Cb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Nb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Db(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xb(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Ob(){return!Ib()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mb(){try{return typeof indexedDB=="object"}catch{return!1}}function Vb(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Pb="FirebaseError";class lr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Pb,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?kb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new lr(o,m,s)}}function kb(r,e){return r.replace(Lb,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Lb=/\{\$([^}]+)}/g;function Ub(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Fs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Vv(u)&&Vv(f)){if(!Fs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Vv(r){return r!==null&&typeof r=="object"}function su(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Vl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Pl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function zb(r,e){const n=new jb(r,e);return n.subscribe.bind(n)}class jb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Bb(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=cm),o.error===void 0&&(o.error=cm),o.complete===void 0&&(o.complete=cm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bb(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function cm(){}function Yt(r){return r&&r._delegate?r._delegate:r}class Gs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const js="[DEFAULT]";class qb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Sb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fb(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Hb(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hb(r){return r===js?void 0:r}function Fb(r){return r.instantiationMode==="EAGER"}class Gb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const Kb={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},Qb=Le.INFO,Yb={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},Xb=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Yb[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sp{constructor(e){this.name=e,this._logLevel=Qb,this._logHandler=Xb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Kb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const $b=(r,e)=>e.some(n=>r instanceof n);let Pv,kv;function Wb(){return Pv||(Pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jb(){return kv||(kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PT=new WeakMap,wm=new WeakMap,kT=new WeakMap,hm=new WeakMap,ap=new WeakMap;function Zb(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Xr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&PT.set(n,r)}).catch(()=>{}),ap.set(e,r),e}function eR(r){if(wm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});wm.set(r,e)}let bm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return wm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||kT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function tR(r){bm=r(bm)}function nR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(fm(this),e,...n);return kT.set(s,e.sort?e.sort():[e]),Xr(s)}:Jb().includes(r)?function(...e){return r.apply(fm(this),e),Xr(PT.get(this))}:function(...e){return Xr(r.apply(fm(this),e))}}function iR(r){return typeof r=="function"?nR(r):(r instanceof IDBTransaction&&eR(r),$b(r,Wb())?new Proxy(r,bm):r)}function Xr(r){if(r instanceof IDBRequest)return Zb(r);if(hm.has(r))return hm.get(r);const e=iR(r);return e!==r&&(hm.set(r,e),ap.set(e,r)),e}const fm=r=>ap.get(r);function rR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Xr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Xr(f.result),p.oldVersion,p.newVersion,Xr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const sR=["get","getKey","getAll","getAllKeys","count"],aR=["put","add","delete","clear"],dm=new Map;function Lv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(dm.get(e))return dm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=aR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||sR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return dm.set(e,u),u}tR(r=>({...r,get:(e,n,s)=>Lv(e,n)||r.get(e,n,s),has:(e,n)=>!!Lv(e,n)||r.has(e,n)}));class oR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function lR(r){return r.getComponent()?.type==="VERSION"}const Rm="@firebase/app",Uv="0.14.5";const rr=new sp("@firebase/app"),uR="@firebase/app-compat",cR="@firebase/analytics-compat",hR="@firebase/analytics",fR="@firebase/app-check-compat",dR="@firebase/app-check",mR="@firebase/auth",pR="@firebase/auth-compat",gR="@firebase/database",yR="@firebase/data-connect",_R="@firebase/database-compat",vR="@firebase/functions",ER="@firebase/functions-compat",TR="@firebase/installations",SR="@firebase/installations-compat",AR="@firebase/messaging",wR="@firebase/messaging-compat",bR="@firebase/performance",RR="@firebase/performance-compat",IR="@firebase/remote-config",CR="@firebase/remote-config-compat",NR="@firebase/storage",DR="@firebase/storage-compat",xR="@firebase/firestore",OR="@firebase/ai",MR="@firebase/firestore-compat",VR="firebase",PR="12.5.0";const Im="[DEFAULT]",kR={[Rm]:"fire-core",[uR]:"fire-core-compat",[hR]:"fire-analytics",[cR]:"fire-analytics-compat",[dR]:"fire-app-check",[fR]:"fire-app-check-compat",[mR]:"fire-auth",[pR]:"fire-auth-compat",[gR]:"fire-rtdb",[yR]:"fire-data-connect",[_R]:"fire-rtdb-compat",[vR]:"fire-fn",[ER]:"fire-fn-compat",[TR]:"fire-iid",[SR]:"fire-iid-compat",[AR]:"fire-fcm",[wR]:"fire-fcm-compat",[bR]:"fire-perf",[RR]:"fire-perf-compat",[IR]:"fire-rc",[CR]:"fire-rc-compat",[NR]:"fire-gcs",[DR]:"fire-gcs-compat",[xR]:"fire-fst",[MR]:"fire-fst-compat",[OR]:"fire-vertex","fire-js":"fire-js",[VR]:"fire-js-all"};const mh=new Map,LR=new Map,Cm=new Map;function zv(r,e){try{r.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ro(r){const e=r.name;if(Cm.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;Cm.set(e,r);for(const n of mh.values())zv(n,r);for(const n of LR.values())zv(n,r);return!0}function op(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Pn(r){return r==null?!1:r.settings!==void 0}const UR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new ru("app","Firebase",UR);class zR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}const vo=PR;function LT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Im,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw $r.create("bad-app-name",{appName:String(o)});if(n||(n=xT()),!n)throw $r.create("no-options");const u=mh.get(o);if(u){if(Fs(n,u.options)&&Fs(s,u.config))return u;throw $r.create("duplicate-app",{appName:o})}const f=new Gb(o);for(const p of Cm.values())f.addComponent(p);const m=new zR(n,s,f);return mh.set(o,m),m}function UT(r=Im){const e=mh.get(r);if(!e&&r===Im&&xT())return LT();if(!e)throw $r.create("no-app",{appName:r});return e}function Wr(r,e,n){let s=kR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(f.join(" "));return}ro(new Gs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const jR="firebase-heartbeat-database",BR=1,Ql="firebase-heartbeat-store";let mm=null;function zT(){return mm||(mm=rR(jR,BR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(r=>{throw $r.create("idb-open",{originalErrorMessage:r.message})})),mm}async function qR(r){try{const n=(await zT()).transaction(Ql),s=await n.objectStore(Ql).get(jT(r));return await n.done,s}catch(e){if(e instanceof lr)rr.warn(e.message);else{const n=$r.create("idb-get",{originalErrorMessage:e?.message});rr.warn(n.message)}}}async function jv(r,e){try{const s=(await zT()).transaction(Ql,"readwrite");await s.objectStore(Ql).put(e,jT(r)),await s.done}catch(n){if(n instanceof lr)rr.warn(n.message);else{const s=$r.create("idb-set",{originalErrorMessage:n?.message});rr.warn(s.message)}}}function jT(r){return`${r.name}!${r.options.appId}`}const HR=1024,FR=30;class GR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Bv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>FR){const o=YR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){rr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Bv(),{heartbeatsToSend:n,unsentEntries:s}=KR(this._heartbeatsCache.heartbeats),o=dh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return rr.warn(e),""}}}function Bv(){return new Date().toISOString().substring(0,10)}function KR(r,e=HR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),qv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),qv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class QR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mb()?Vb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function qv(r){return dh(JSON.stringify({version:2,heartbeats:r})).length}function YR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function XR(r){ro(new Gs("platform-logger",e=>new oR(e),"PRIVATE")),ro(new Gs("heartbeat",e=>new GR(e),"PRIVATE")),Wr(Rm,Uv,r),Wr(Rm,Uv,"esm2020"),Wr("fire-js","")}XR("");function BT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $R=BT,qT=new ru("auth","Firebase",BT());const ph=new sp("@firebase/auth");function WR(r,...e){ph.logLevel<=Le.WARN&&ph.warn(`Auth (${vo}): ${r}`,...e)}function th(r,...e){ph.logLevel<=Le.ERROR&&ph.error(`Auth (${vo}): ${r}`,...e)}function Zn(r,...e){throw lp(r,...e)}function bi(r,...e){return lp(r,...e)}function HT(r,e,n){const s={...$R(),[e]:n};return new ru("auth","Firebase",s).create(e,{appName:r.name})}function tr(r){return HT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return qT.create(r,...e)}function Te(r,e,...n){if(!r)throw lp(e,...n)}function Ji(r){const e="INTERNAL ASSERTION FAILED: "+r;throw th(e),new Error(e)}function sr(r,e){r||Ji(e)}function Nm(){return typeof self<"u"&&self.location?.href||""}function JR(){return Hv()==="http:"||Hv()==="https:"}function Hv(){return typeof self<"u"&&self.location?.protocol||null}function ZR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JR()||Nb()||"connection"in navigator)?navigator.onLine:!0}function eI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class au{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=Rb()||Db()}get(){return ZR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function up(r,e){sr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class FT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const nI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iI=new au(3e4,6e4);function os(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ur(r,e,n,s,o={}){return GT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=su({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return Cb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&_o(r.emulatorConfig.host)&&(y.credentials="include"),FT.fetch()(await KT(r,r.config.apiHost,n,m),y)})}async function GT(r,e,n){r._canInitEmulator=!1;const s={...tI,...e};try{const o=new sI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Kc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Kc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Kc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw HT(r,E,y);Zn(r,E)}}catch(o){if(o instanceof lr)throw o;Zn(r,"network-request-failed",{message:String(o)})}}async function ou(r,e,n,s,o={}){const u=await ur(r,e,n,s,o);return"mfaPendingCredential"in u&&Zn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function KT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?up(r.config,o):`${r.config.apiScheme}://${o}`;return nI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function rI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(bi(this.auth,"network-request-failed")),iI.get())})}}function Kc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=bi(r,e,s);return o.customData._tokenResponse=n,o}function Fv(r){return r!==void 0&&r.enterprise!==void 0}class aI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oI(r,e){return ur(r,"GET","/v2/recaptchaConfig",os(r,e))}async function lI(r,e){return ur(r,"POST","/v1/accounts:delete",e)}async function gh(r,e){return ur(r,"POST","/v1/accounts:lookup",e)}function Bl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uI(r,e=!1){const n=Yt(r),s=await n.getIdToken(e),o=cp(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Bl(pm(o.auth_time)),issuedAtTime:Bl(pm(o.iat)),expirationTime:Bl(pm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function pm(r){return Number(r)*1e3}function cp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const o=NT(n);return o?JSON.parse(o):(th("Failed to decode base64 JWT payload"),null)}catch(o){return th("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Gv(r){const e=cp(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function so(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof lr&&cI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function cI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class hI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Dm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yh(r){const e=r.auth,n=await r.getIdToken(),s=await so(r,gh(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?QT(o.providerUserInfo):[],f=dI(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function fI(r){const e=Yt(r);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function QT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function mI(r,e){const n=await GT(r,{},async()=>{const s=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await KT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&_o(r.emulatorConfig.host)&&(p.credentials="include"),FT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pI(r,e){return ur(r,"POST","/v2/accounts:revokeToken",os(r,e))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Gv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await mI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ja;return s&&(Te(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function Hr(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new hI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await so(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uI(this,e)}reload(){return fI(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(tr(this.auth));const e=await this.getIdToken();return await so(this,lI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:I,isAnonymous:M,providerData:U,stsTokenManager:B}=n;Te(T&&B,e,"internal-error");const z=Ja.fromJSON(this.name,B);Te(typeof T=="string",e,"internal-error"),Hr(s,e.name),Hr(o,e.name),Te(typeof I=="boolean",e,"internal-error"),Te(typeof M=="boolean",e,"internal-error"),Hr(u,e.name),Hr(f,e.name),Hr(m,e.name),Hr(p,e.name),Hr(y,e.name),Hr(E,e.name);const X=new $n({uid:T,auth:e,email:o,emailVerified:I,displayName:s,isAnonymous:M,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:z,createdAt:y,lastLoginAt:E});return U&&Array.isArray(U)&&(X.providerData=U.map(W=>({...W}))),p&&(X._redirectEventId=p),X}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ja;o.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await yh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?QT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Ja;m.updateFromIdToken(s);const p=new $n({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const Kv=new Map;function Zi(r){sr(r instanceof Function,"Expected a class definition");let e=Kv.get(r);return e?(sr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Kv.set(r,e),e)}class YT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YT.type="NONE";const Qv=YT;function nh(r,e,n){return`firebase:${r}:${e}:${n}`}class Za{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=nh(this.userKey,o.apiKey,u),this.fullPersistenceKey=nh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gh(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Za(Zi(Qv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Zi(Qv);const f=nh(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const I=await gh(e,{idToken:E}).catch(()=>{});if(!I)break;T=await $n._fromGetAccountInfoResponse(e,I,E)}else T=$n._fromJSON(e,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Za(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Za(u,e,s))}}function Yv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e0(e))return"Blackberry";if(t0(e))return"Webos";if($T(e))return"Safari";if((e.includes("chrome/")||WT(e))&&!e.includes("edge/"))return"Chrome";if(ZT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function XT(r=en()){return/firefox\//i.test(r)}function $T(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WT(r=en()){return/crios\//i.test(r)}function JT(r=en()){return/iemobile/i.test(r)}function ZT(r=en()){return/android/i.test(r)}function e0(r=en()){return/blackberry/i.test(r)}function t0(r=en()){return/webos/i.test(r)}function hp(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function gI(r=en()){return hp(r)&&!!window.navigator?.standalone}function yI(){return xb()&&document.documentMode===10}function n0(r=en()){return hp(r)||ZT(r)||t0(r)||e0(r)||/windows phone/i.test(r)||JT(r)}function i0(r,e=[]){let n;switch(r){case"Browser":n=Yv(en());break;case"Worker":n=`${Yv(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vo}/${s}`}class _I{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function vI(r,e={}){return ur(r,"GET","/v2/passwordPolicy",os(r,e))}const EI=6;class TI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??EI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class SI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xv(this),this.idTokenSubscription=new Xv(this),this.beforeStateQueue=new _I(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gh(this,{idToken:e}),s=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(tr(this));const n=e?Yt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vI(this),n=new TI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await pI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zi(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&WR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $s(r){return Yt(r)}class Xv{constructor(e){this.auth=e,this.observer=null,this.addObserver=zb(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AI(r){Uh=r}function r0(r){return Uh.loadJS(r)}function wI(){return Uh.recaptchaEnterpriseScript}function bI(){return Uh.gapiScript}function RI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class II{constructor(){this.enterprise=new CI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class CI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const NI="recaptcha-enterprise",s0="NO_RECAPTCHA";class DI{constructor(e){this.type=NI,this.auth=$s(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{oI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new aI(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Fv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(s0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new II().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Fv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=wI();p.length!==0&&(p+=m),r0(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function $v(r,e,n,s=!1,o=!1){const u=new DI(r);let f;if(o)f=s0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function xm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await $v(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await $v(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function xI(r,e){const n=op(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Fs(u,e??{}))return o;Zn(o,"already-initialized")}return n.initialize({options:e})}function OI(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Zi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function MI(r,e,n){const s=$s(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=a0(e),{host:f,port:m}=VI(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Fs(y,s.config.emulator)&&Fs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,_o(f)?(MT(`${u}//${f}${p}`),VT("Auth",!0)):PI()}function a0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function VI(r){const e=a0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Wv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Wv(f)}}}function Wv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function PI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class fp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,n){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function kI(r,e){return ur(r,"POST","/v1/accounts:signUp",e)}async function LI(r,e){return ou(r,"POST","/v1/accounts:signInWithPassword",os(r,e))}async function UI(r,e){return ou(r,"POST","/v1/accounts:signInWithEmailLink",os(r,e))}async function zI(r,e){return ou(r,"POST","/v1/accounts:signInWithEmailLink",os(r,e))}class Yl extends fp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Yl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Yl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(e,n,"signInWithPassword",LI);case"emailLink":return UI(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(e,s,"signUpPassword",kI);case"emailLink":return zI(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function eo(r,e){return ou(r,"POST","/v1/accounts:signInWithIdp",os(r,e))}const jI="http://localhost";class Ks extends fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ks(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return eo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,eo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eo(e,n)}buildRequest(){const e={requestUri:jI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}function BI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qI(r){const e=Vl(Pl(r)).link,n=e?Vl(Pl(e)).deep_link_id:null,s=Vl(Pl(r)).deep_link_id;return(s?Vl(Pl(s)).link:null)||s||n||e||r}class dp{constructor(e){const n=Vl(Pl(e)),s=n.apiKey??null,o=n.oobCode??null,u=BI(n.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=qI(e);try{return new dp(n)}catch{return null}}}class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(e,n){return Yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=dp.parseLink(n);return Te(s,"argument-error"),Yl._fromEmailAndCode(e,s.code,s.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class o0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lu extends o0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fr extends lu{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";class Gr extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ks._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Gr.credential(n,s)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";class Kr extends lu{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";class Qr extends lu{constructor(){super("twitter.com")}static credential(e,n){return Ks._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Qr.credential(n,s)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";async function HI(r,e){return ou(r,"POST","/v1/accounts:signUp",os(r,e))}class Qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await $n._fromIdTokenResponse(e,s,o),f=Jv(s);return new Qs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Jv(s);return new Qs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Jv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class _h extends lr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new _h(e,n,s,o)}}function l0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(r,u,e,s):u})}async function FI(r,e,n=!1){const s=await so(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Qs._forOperation(r,"link",s)}async function GI(r,e,n=!1){const{auth:s}=r;if(Pn(s.app))return Promise.reject(tr(s));const o="reauthenticate";try{const u=await so(r,l0(s,o,e,r),n);Te(u.idToken,s,"internal-error");const f=cp(u.idToken);Te(f,s,"internal-error");const{sub:m}=f;return Te(r.uid===m,s,"user-mismatch"),Qs._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Zn(s,"user-mismatch"),u}}async function u0(r,e,n=!1){if(Pn(r.app))return Promise.reject(tr(r));const s="signIn",o=await l0(r,s,e),u=await Qs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function KI(r,e){return u0($s(r),e)}async function c0(r){const e=$s(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QI(r,e,n){if(Pn(r.app))return Promise.reject(tr(r));const s=$s(r),f=await xm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&c0(r),p}),m=await Qs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function YI(r,e,n){return Pn(r.app)?Promise.reject(tr(r)):KI(Yt(r),Eo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&c0(r),s})}async function XI(r,e){return ur(r,"POST","/v1/accounts:update",e)}async function $I(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Yt(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await so(s,XI(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function WI(r,e,n,s){return Yt(r).onIdTokenChanged(e,n,s)}function JI(r,e,n){return Yt(r).beforeAuthStateChanged(e,n)}function ZI(r,e,n,s){return Yt(r).onAuthStateChanged(e,n,s)}function eC(r){return Yt(r).signOut()}const vh="__sak";class h0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const tC=1e3,nC=10;class f0 extends h0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);yI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,nC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},tC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}f0.type="LOCAL";const iC=f0;class d0 extends h0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}d0.type="SESSION";const m0=d0;function rC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new zh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await rC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];function mp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class sC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=mp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const I=T;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(I.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ri(){return window}function aC(r){Ri().location.href=r}function p0(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function oC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lC(){return navigator?.serviceWorker?.controller||null}function uC(){return p0()?self:null}const g0="firebaseLocalStorageDb",cC=1,Eh="firebaseLocalStorage",y0="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jh(r,e){return r.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function hC(){const r=indexedDB.deleteDatabase(g0);return new uu(r).toPromise()}function Om(){const r=indexedDB.open(g0,cC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Eh,{keyPath:y0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Eh)?e(s):(s.close(),await hC(),e(await Om()))})})}async function Zv(r,e,n){const s=jh(r,!0).put({[y0]:e,value:n});return new uu(s).toPromise()}async function fC(r,e){const n=jh(r,!1).get(e),s=await new uu(n).toPromise();return s===void 0?null:s.value}function eE(r,e){const n=jh(r,!0).delete(e);return new uu(n).toPromise()}const dC=800,mC=3;class _0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>mC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance(uC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oC(),!this.activeServiceWorker)return;this.sender=new sC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Om();return await Zv(e,vh,"1"),await eE(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Zv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>fC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>eE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=jh(o,!1).getAll();return new uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_0.type="LOCAL";const pC=_0;new au(3e4,6e4);function gC(r,e){return e?Zi(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class pp extends fp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yC(r){return u0(r.auth,new pp(r),r.bypassAuthState)}function _C(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),GI(n,new pp(r),r.bypassAuthState)}async function vC(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),FI(n,new pp(r),r.bypassAuthState)}class v0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yC;case"linkViaPopup":case"linkViaRedirect":return vC;case"reauthViaPopup":case"reauthViaRedirect":return _C;default:Zn(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const EC=new au(2e3,1e4);class Wa extends v0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EC.get())};e()}}Wa.currentPopupAction=null;const TC="pendingRedirect",ih=new Map;class SC extends v0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const s=await AC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AC(r,e){const n=RC(e),s=bC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function wC(r,e){ih.set(r._key(),e)}function bC(r){return Zi(r._redirectPersistence)}function RC(r){return nh(TC,r.config.apiKey,r.name)}async function IC(r,e,n=!1){if(Pn(r.app))return Promise.reject(tr(r));const s=$s(r),o=gC(s,e),f=await new SC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const CC=600*1e3;class NC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!E0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(bi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CC&&this.cachedEventUids.clear(),this.cachedEventUids.has(tE(e))}saveEventToCache(e){this.cachedEventUids.add(tE(e)),this.lastProcessedEventTime=Date.now()}}function tE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function E0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function DC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return E0(r);default:return!1}}async function xC(r,e={}){return ur(r,"GET","/v1/projects",e)}const OC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MC=/^https?/;async function VC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await xC(r);for(const n of e)try{if(PC(n))return}catch{}Zn(r,"unauthorized-domain")}function PC(r){const e=Nm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!MC.test(n))return!1;if(OC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const kC=new au(3e4,6e4);function nE(){const r=Ri().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function LC(r){return new Promise((e,n)=>{function s(){nE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nE(),n(bi(r,"network-request-failed"))},timeout:kC.get()})}if(Ri().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ri().gapi?.load)s();else{const o=RI("iframefcb");return Ri()[o]=()=>{gapi.load?s():n(bi(r,"network-request-failed"))},r0(`${bI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw rh=null,e})}let rh=null;function UC(r){return rh=rh||LC(r),rh}const zC=new au(5e3,15e3),jC="__/auth/iframe",BC="emulator/auth/iframe",qC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FC(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?up(e,BC):`https://${r.config.authDomain}/${jC}`,s={apiKey:e.apiKey,appName:r.name,v:vo},o=HC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${su(s).slice(1)}`}async function GC(r){const e=await UC(r),n=Ri().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:FC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=bi(r,"network-request-failed"),m=Ri().setTimeout(()=>{u(f)},zC.get());function p(){Ri().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const KC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QC=500,YC=600,XC="_blank",$C="http://localhost";class iE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WC(r,e,n,s=QC,o=YC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...KC,width:s.toString(),height:o.toString(),top:u,left:f},y=en().toLowerCase();n&&(m=WT(y)?XC:n),XT(y)&&(e=e||$C,p.scrollbars="yes");const E=Object.entries(p).reduce((I,[M,U])=>`${I}${M}=${U},`,"");if(gI(y)&&m!=="_self")return JC(e||"",m),new iE(null);const T=window.open(e||"",m,E);Te(T,r,"popup-blocked");try{T.focus()}catch{}return new iE(T)}function JC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const ZC="__/auth/handler",e2="emulator/auth/handler",t2=encodeURIComponent("fac");async function rE(r,e,n,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:vo,eventId:o};if(e instanceof o0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Ub(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof lu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${t2}=${encodeURIComponent(p)}`:"";return`${n2(r)}?${su(m).slice(1)}${y}`}function n2({config:r}){return r.emulator?up(r,e2):`https://${r.authDomain}/${ZC}`}const gm="webStorageSupport";class i2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=m0,this._completeRedirectFn=IC,this._overrideRedirectResult=wC}async _openPopup(e,n,s,o){sr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await rE(e,n,s,Nm(),o);return WC(e,u,mp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await rE(e,n,s,Nm(),o);return aC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await GC(e),s=new NC(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gm,{type:gm},o=>{const u=o?.[0]?.[gm];u!==void 0&&n(!!u),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return n0()||$T()||hp()}}const r2=i2;var sE="@firebase/auth",aE="1.11.1";class s2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function a2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o2(r){ro(new Gs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i0(r)},y=new SI(s,o,u,p);return OI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ro(new Gs("auth-internal",e=>{const n=$s(e.getProvider("auth").getImmediate());return(s=>new s2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(sE,aE,a2(r)),Wr(sE,aE,"esm2020")}const l2=300,u2=OT("authIdTokenMaxAge")||l2;let oE=null;const c2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>u2)return;const o=n?.token;oE!==o&&(oE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function h2(r=UT()){const e=op(r,"auth");if(e.isInitialized())return e.getImmediate();const n=xI(r,{popupRedirectResolver:r2,persistence:[pC,iC,m0]}),s=OT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=c2(u.toString());JI(n,f,()=>f(n.currentUser)),WI(n,m=>f(m))}}const o=DT("auth");return o&&MI(n,`http://${o}`),n}function f2(){return document.getElementsByTagName("head")?.[0]??document}AI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=bi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",f2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o2("Browser");var d2="firebase",m2="12.5.0";Wr(d2,m2,"app");var lE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Jr,T0;(function(){var r;function e(b,w){function R(){}R.prototype=w.prototype,b.F=w.prototype,b.prototype=new R,b.prototype.constructor=b,b.D=function(C,x,V){for(var N=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)N[Ie-2]=arguments[Ie];return w.prototype[x].apply(C,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,w,R){R||(R=0);const C=Array(16);if(typeof w=="string")for(var x=0;x<16;++x)C[x]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(x=0;x<16;++x)C[x]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=b.g[0],R=b.g[1],x=b.g[2];let V=b.g[3],N;N=w+(V^R&(x^V))+C[0]+3614090360&4294967295,w=R+(N<<7&4294967295|N>>>25),N=V+(x^w&(R^x))+C[1]+3905402710&4294967295,V=w+(N<<12&4294967295|N>>>20),N=x+(R^V&(w^R))+C[2]+606105819&4294967295,x=V+(N<<17&4294967295|N>>>15),N=R+(w^x&(V^w))+C[3]+3250441966&4294967295,R=x+(N<<22&4294967295|N>>>10),N=w+(V^R&(x^V))+C[4]+4118548399&4294967295,w=R+(N<<7&4294967295|N>>>25),N=V+(x^w&(R^x))+C[5]+1200080426&4294967295,V=w+(N<<12&4294967295|N>>>20),N=x+(R^V&(w^R))+C[6]+2821735955&4294967295,x=V+(N<<17&4294967295|N>>>15),N=R+(w^x&(V^w))+C[7]+4249261313&4294967295,R=x+(N<<22&4294967295|N>>>10),N=w+(V^R&(x^V))+C[8]+1770035416&4294967295,w=R+(N<<7&4294967295|N>>>25),N=V+(x^w&(R^x))+C[9]+2336552879&4294967295,V=w+(N<<12&4294967295|N>>>20),N=x+(R^V&(w^R))+C[10]+4294925233&4294967295,x=V+(N<<17&4294967295|N>>>15),N=R+(w^x&(V^w))+C[11]+2304563134&4294967295,R=x+(N<<22&4294967295|N>>>10),N=w+(V^R&(x^V))+C[12]+1804603682&4294967295,w=R+(N<<7&4294967295|N>>>25),N=V+(x^w&(R^x))+C[13]+4254626195&4294967295,V=w+(N<<12&4294967295|N>>>20),N=x+(R^V&(w^R))+C[14]+2792965006&4294967295,x=V+(N<<17&4294967295|N>>>15),N=R+(w^x&(V^w))+C[15]+1236535329&4294967295,R=x+(N<<22&4294967295|N>>>10),N=w+(x^V&(R^x))+C[1]+4129170786&4294967295,w=R+(N<<5&4294967295|N>>>27),N=V+(R^x&(w^R))+C[6]+3225465664&4294967295,V=w+(N<<9&4294967295|N>>>23),N=x+(w^R&(V^w))+C[11]+643717713&4294967295,x=V+(N<<14&4294967295|N>>>18),N=R+(V^w&(x^V))+C[0]+3921069994&4294967295,R=x+(N<<20&4294967295|N>>>12),N=w+(x^V&(R^x))+C[5]+3593408605&4294967295,w=R+(N<<5&4294967295|N>>>27),N=V+(R^x&(w^R))+C[10]+38016083&4294967295,V=w+(N<<9&4294967295|N>>>23),N=x+(w^R&(V^w))+C[15]+3634488961&4294967295,x=V+(N<<14&4294967295|N>>>18),N=R+(V^w&(x^V))+C[4]+3889429448&4294967295,R=x+(N<<20&4294967295|N>>>12),N=w+(x^V&(R^x))+C[9]+568446438&4294967295,w=R+(N<<5&4294967295|N>>>27),N=V+(R^x&(w^R))+C[14]+3275163606&4294967295,V=w+(N<<9&4294967295|N>>>23),N=x+(w^R&(V^w))+C[3]+4107603335&4294967295,x=V+(N<<14&4294967295|N>>>18),N=R+(V^w&(x^V))+C[8]+1163531501&4294967295,R=x+(N<<20&4294967295|N>>>12),N=w+(x^V&(R^x))+C[13]+2850285829&4294967295,w=R+(N<<5&4294967295|N>>>27),N=V+(R^x&(w^R))+C[2]+4243563512&4294967295,V=w+(N<<9&4294967295|N>>>23),N=x+(w^R&(V^w))+C[7]+1735328473&4294967295,x=V+(N<<14&4294967295|N>>>18),N=R+(V^w&(x^V))+C[12]+2368359562&4294967295,R=x+(N<<20&4294967295|N>>>12),N=w+(R^x^V)+C[5]+4294588738&4294967295,w=R+(N<<4&4294967295|N>>>28),N=V+(w^R^x)+C[8]+2272392833&4294967295,V=w+(N<<11&4294967295|N>>>21),N=x+(V^w^R)+C[11]+1839030562&4294967295,x=V+(N<<16&4294967295|N>>>16),N=R+(x^V^w)+C[14]+4259657740&4294967295,R=x+(N<<23&4294967295|N>>>9),N=w+(R^x^V)+C[1]+2763975236&4294967295,w=R+(N<<4&4294967295|N>>>28),N=V+(w^R^x)+C[4]+1272893353&4294967295,V=w+(N<<11&4294967295|N>>>21),N=x+(V^w^R)+C[7]+4139469664&4294967295,x=V+(N<<16&4294967295|N>>>16),N=R+(x^V^w)+C[10]+3200236656&4294967295,R=x+(N<<23&4294967295|N>>>9),N=w+(R^x^V)+C[13]+681279174&4294967295,w=R+(N<<4&4294967295|N>>>28),N=V+(w^R^x)+C[0]+3936430074&4294967295,V=w+(N<<11&4294967295|N>>>21),N=x+(V^w^R)+C[3]+3572445317&4294967295,x=V+(N<<16&4294967295|N>>>16),N=R+(x^V^w)+C[6]+76029189&4294967295,R=x+(N<<23&4294967295|N>>>9),N=w+(R^x^V)+C[9]+3654602809&4294967295,w=R+(N<<4&4294967295|N>>>28),N=V+(w^R^x)+C[12]+3873151461&4294967295,V=w+(N<<11&4294967295|N>>>21),N=x+(V^w^R)+C[15]+530742520&4294967295,x=V+(N<<16&4294967295|N>>>16),N=R+(x^V^w)+C[2]+3299628645&4294967295,R=x+(N<<23&4294967295|N>>>9),N=w+(x^(R|~V))+C[0]+4096336452&4294967295,w=R+(N<<6&4294967295|N>>>26),N=V+(R^(w|~x))+C[7]+1126891415&4294967295,V=w+(N<<10&4294967295|N>>>22),N=x+(w^(V|~R))+C[14]+2878612391&4294967295,x=V+(N<<15&4294967295|N>>>17),N=R+(V^(x|~w))+C[5]+4237533241&4294967295,R=x+(N<<21&4294967295|N>>>11),N=w+(x^(R|~V))+C[12]+1700485571&4294967295,w=R+(N<<6&4294967295|N>>>26),N=V+(R^(w|~x))+C[3]+2399980690&4294967295,V=w+(N<<10&4294967295|N>>>22),N=x+(w^(V|~R))+C[10]+4293915773&4294967295,x=V+(N<<15&4294967295|N>>>17),N=R+(V^(x|~w))+C[1]+2240044497&4294967295,R=x+(N<<21&4294967295|N>>>11),N=w+(x^(R|~V))+C[8]+1873313359&4294967295,w=R+(N<<6&4294967295|N>>>26),N=V+(R^(w|~x))+C[15]+4264355552&4294967295,V=w+(N<<10&4294967295|N>>>22),N=x+(w^(V|~R))+C[6]+2734768916&4294967295,x=V+(N<<15&4294967295|N>>>17),N=R+(V^(x|~w))+C[13]+1309151649&4294967295,R=x+(N<<21&4294967295|N>>>11),N=w+(x^(R|~V))+C[4]+4149444226&4294967295,w=R+(N<<6&4294967295|N>>>26),N=V+(R^(w|~x))+C[11]+3174756917&4294967295,V=w+(N<<10&4294967295|N>>>22),N=x+(w^(V|~R))+C[2]+718787259&4294967295,x=V+(N<<15&4294967295|N>>>17),N=R+(V^(x|~w))+C[9]+3951481745&4294967295,b.g[0]=b.g[0]+w&4294967295,b.g[1]=b.g[1]+(x+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+x&4294967295,b.g[3]=b.g[3]+V&4294967295}s.prototype.v=function(b,w){w===void 0&&(w=b.length);const R=w-this.blockSize,C=this.C;let x=this.h,V=0;for(;V<w;){if(x==0)for(;V<=R;)o(this,b,V),V+=this.blockSize;if(typeof b=="string"){for(;V<w;)if(C[x++]=b.charCodeAt(V++),x==this.blockSize){o(this,C),x=0;break}}else for(;V<w;)if(C[x++]=b[V++],x==this.blockSize){o(this,C),x=0;break}}this.h=x,this.o+=w},s.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var w=1;w<b.length-8;++w)b[w]=0;w=this.o*8;for(var R=b.length-8;R<b.length;++R)b[R]=w&255,w/=256;for(this.v(b),b=Array(16),w=0,R=0;R<4;++R)for(let C=0;C<32;C+=8)b[w++]=this.g[R]>>>C&255;return b};function u(b,w){var R=m;return Object.prototype.hasOwnProperty.call(R,b)?R[b]:R[b]=w(b)}function f(b,w){this.h=w;const R=[];let C=!0;for(let x=b.length-1;x>=0;x--){const V=b[x]|0;C&&V==w||(R[x]=V,C=!1)}this.g=R}var m={};function p(b){return-128<=b&&b<128?u(b,function(w){return new f([w|0],w<0?-1:0)}):new f([b|0],b<0?-1:0)}function y(b){if(isNaN(b)||!isFinite(b))return T;if(b<0)return z(y(-b));const w=[];let R=1;for(let C=0;b>=R;C++)w[C]=b/R|0,R*=4294967296;return new f(w,0)}function E(b,w){if(b.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(b.charAt(0)=="-")return z(E(b.substring(1),w));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(w,8));let C=T;for(let V=0;V<b.length;V+=8){var x=Math.min(8,b.length-V);const N=parseInt(b.substring(V,V+x),w);x<8?(x=y(Math.pow(w,x)),C=C.j(x).add(y(N))):(C=C.j(R),C=C.add(y(N)))}return C}var T=p(0),I=p(1),M=p(16777216);r=f.prototype,r.m=function(){if(B(this))return-z(this).m();let b=0,w=1;for(let R=0;R<this.g.length;R++){const C=this.i(R);b+=(C>=0?C:4294967296+C)*w,w*=4294967296}return b},r.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(U(this))return"0";if(B(this))return"-"+z(this).toString(b);const w=y(Math.pow(b,6));var R=this;let C="";for(;;){const x=Ee(R,w).g;R=X(R,x.j(w));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(b);if(R=x,U(R))return V+C;for(;V.length<6;)V="0"+V;C=V+C}},r.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function U(b){if(b.h!=0)return!1;for(let w=0;w<b.g.length;w++)if(b.g[w]!=0)return!1;return!0}function B(b){return b.h==-1}r.l=function(b){return b=X(this,b),B(b)?-1:U(b)?0:1};function z(b){const w=b.g.length,R=[];for(let C=0;C<w;C++)R[C]=~b.g[C];return new f(R,~b.h).add(I)}r.abs=function(){return B(this)?z(this):this},r.add=function(b){const w=Math.max(this.g.length,b.g.length),R=[];let C=0;for(let x=0;x<=w;x++){let V=C+(this.i(x)&65535)+(b.i(x)&65535),N=(V>>>16)+(this.i(x)>>>16)+(b.i(x)>>>16);C=N>>>16,V&=65535,N&=65535,R[x]=N<<16|V}return new f(R,R[R.length-1]&-2147483648?-1:0)};function X(b,w){return b.add(z(w))}r.j=function(b){if(U(this)||U(b))return T;if(B(this))return B(b)?z(this).j(z(b)):z(z(this).j(b));if(B(b))return z(this.j(z(b)));if(this.l(M)<0&&b.l(M)<0)return y(this.m()*b.m());const w=this.g.length+b.g.length,R=[];for(var C=0;C<2*w;C++)R[C]=0;for(C=0;C<this.g.length;C++)for(let x=0;x<b.g.length;x++){const V=this.i(C)>>>16,N=this.i(C)&65535,Ie=b.i(x)>>>16,nt=b.i(x)&65535;R[2*C+2*x]+=N*nt,W(R,2*C+2*x),R[2*C+2*x+1]+=V*nt,W(R,2*C+2*x+1),R[2*C+2*x+1]+=N*Ie,W(R,2*C+2*x+1),R[2*C+2*x+2]+=V*Ie,W(R,2*C+2*x+2)}for(b=0;b<w;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=w;b<2*w;b++)R[b]=0;return new f(R,0)};function W(b,w){for(;(b[w]&65535)!=b[w];)b[w+1]+=b[w]>>>16,b[w]&=65535,w++}function ie(b,w){this.g=b,this.h=w}function Ee(b,w){if(U(w))throw Error("division by zero");if(U(b))return new ie(T,T);if(B(b))return w=Ee(z(b),w),new ie(z(w.g),z(w.h));if(B(w))return w=Ee(b,z(w)),new ie(z(w.g),w.h);if(b.g.length>30){if(B(b)||B(w))throw Error("slowDivide_ only works with positive integers.");for(var R=I,C=w;C.l(b)<=0;)R=ce(R),C=ce(C);var x=pe(R,1),V=pe(C,1);for(C=pe(C,2),R=pe(R,2);!U(C);){var N=V.add(C);N.l(b)<=0&&(x=x.add(R),V=N),C=pe(C,1),R=pe(R,1)}return w=X(b,x.j(w)),new ie(x,w)}for(x=T;b.l(w)>=0;){for(R=Math.max(1,Math.floor(b.m()/w.m())),C=Math.ceil(Math.log(R)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),V=y(R),N=V.j(w);B(N)||N.l(b)>0;)R-=C,V=y(R),N=V.j(w);U(V)&&(V=I),x=x.add(V),b=X(b,N)}return new ie(x,b)}r.B=function(b){return Ee(this,b).h},r.and=function(b){const w=Math.max(this.g.length,b.g.length),R=[];for(let C=0;C<w;C++)R[C]=this.i(C)&b.i(C);return new f(R,this.h&b.h)},r.or=function(b){const w=Math.max(this.g.length,b.g.length),R=[];for(let C=0;C<w;C++)R[C]=this.i(C)|b.i(C);return new f(R,this.h|b.h)},r.xor=function(b){const w=Math.max(this.g.length,b.g.length),R=[];for(let C=0;C<w;C++)R[C]=this.i(C)^b.i(C);return new f(R,this.h^b.h)};function ce(b){const w=b.g.length+1,R=[];for(let C=0;C<w;C++)R[C]=b.i(C)<<1|b.i(C-1)>>>31;return new f(R,b.h)}function pe(b,w){const R=w>>5;w%=32;const C=b.g.length-R,x=[];for(let V=0;V<C;V++)x[V]=w>0?b.i(V+R)>>>w|b.i(V+R+1)<<32-w:b.i(V+R);return new f(x,b.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,T0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Jr=f}).apply(typeof lE<"u"?lE:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var S0,kl,A0,sh,Mm,w0,b0,R0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,j,G){for(var se=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)se[Ce-2]=arguments[Ce];return g.prototype[j].apply(A,se)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function M(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function U(c,g){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const G=j.length||0;c.length=v+G;for(let se=0;se<G;se++)c[v+se]=j[se]}else c.push(j)}}class B{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function z(c){f.setTimeout(()=>{throw c},0)}function X(){var c=b;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class W{constructor(){this.h=this.g=null}add(g,v){const A=ie.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ie=new B(()=>new Ee,c=>c.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,pe=!1,b=new W,w=()=>{const c=Promise.resolve(void 0);ce=()=>{c.then(R)}};function R(){for(var c;c=X();){try{c.h.call(c.g)}catch(v){z(v)}var g=ie;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}pe=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function Ie(c,g){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(Ie,x),Ie.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ie.Z.h.call(this)},Ie.prototype.h=function(){Ie.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var nt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ae(c,g,v,A,j){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=j,this.key=++Q,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function xe(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function Ve(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function k(c){const g={};for(const v in c)g[v]=c[v];return g}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,g){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let G=0;G<$.length;G++)v=$[G],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,g,v,A,j){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const se=Ae(c,g,A,j);return se>-1?(g=c[se],v||(g.fa=!1)):(g=new ae(g,this.src,G,!!A,j),g.fa=v,c.push(g)),g};function _e(c,g){const v=g.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,g,void 0),G;(G=j>=0)&&Array.prototype.splice.call(A,j,1),G&&(me(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ae(c,g,v,A){for(let j=0;j<c.length;++j){const G=c[j];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==A)return j}return-1}var je="closure_lm_"+(Math.random()*1e6|0),ft={};function ot(c,g,v,A,j){if(Array.isArray(g)){for(let G=0;G<g.length;G++)ot(c,g[G],v,A,j);return null}return v=Co(v),c&&c[nt]?c.J(g,v,m(A)?!!A.capture:!1,j):ls(c,g,v,!1,A,j)}function ls(c,g,v,A,j,G){if(!g)throw Error("Invalid event type");const se=m(j)?!!j.capture:!!j;let Ce=us(c);if(Ce||(c[je]=Ce=new oe(c)),v=Ce.add(g,v,A,se,G),v.proxy)return v;if(A=ta(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)V||(j=se),j===void 0&&(j=!1),c.addEventListener(g.toString(),A,j);else if(c.attachEvent)c.attachEvent(ni(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ta(){function c(v){return g.call(c.src,c.listener,v)}const g=Ro;return c}function na(c,g,v,A,j){if(Array.isArray(g))for(var G=0;G<g.length;G++)na(c,g[G],v,A,j);else A=m(A)?!!A.capture:!!A,v=Co(v),c&&c[nt]?(c=c.i,G=String(g).toString(),G in c.g&&(g=c.g[G],v=Ae(g,v,A,j),v>-1&&(me(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[G],c.h--)))):c&&(c=us(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ae(g,v,A,j)),(v=c>-1?g[c]:null)&&ia(v))}function ia(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[nt])_e(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(ni(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=us(g))?(_e(v,c),v.h==0&&(v.src=null,g[je]=null)):me(c)}}}function ni(c){return c in ft?ft[c]:ft[c]="on"+c}function Ro(c,g){if(c.da)c=!0;else{g=new Ie(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&ia(c),c=v.call(A,g)}return c}function us(c){return c=c[je],c instanceof oe?c:null}var Io="__closure_events_fn_"+(Math.random()*1e9>>>0);function Co(c){return typeof c=="function"?c:(c[Io]||(c[Io]=function(g){return c.handleEvent(g)}),c[Io])}function Et(){C.call(this),this.i=new oe(this),this.M=this,this.G=null}T(Et,C),Et.prototype[nt]=!0,Et.prototype.removeEventListener=function(c,g,v,A){na(this,c,g,v,A)};function Mt(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new x(g,c);else if(g instanceof x)g.target=g.target||c;else{var j=g;g=new x(A,c),re(g,j)}j=!0;let G,se;if(v)for(se=v.length-1;se>=0;se--)G=g.g=v[se],j=cr(G,A,!0,g)&&j;if(G=g.g=c,j=cr(G,A,!0,g)&&j,j=cr(G,A,!1,g)&&j,v)for(se=0;se<v.length;se++)G=g.g=v[se],j=cr(G,A,!1,g)&&j}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)me(v[A]);delete c.g[g],c.h--}}this.G=null},Et.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},Et.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function cr(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let j=!0;for(let G=0;G<g.length;++G){const se=g[G];if(se&&!se.da&&se.capture==v){const Ce=se.listener,gt=se.ha||se.src;se.fa&&_e(c.i,se),j=Ce.call(gt,A)!==!1&&j}}return j&&!A.defaultPrevented}function rf(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function gu(c){c.g=rf(()=>{c.g=null,c.i&&(c.i=!1,gu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class tn extends C{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:gu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(c){C.call(this),this.h=c,this.g={}}T(cs,C);var No=[];function Do(c){xe(c.g,function(g,v){this.g.hasOwnProperty(v)&&ia(g)},c),c.g={}}cs.prototype.N=function(){cs.Z.N.call(this),Do(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hr=f.JSON.stringify,sf=f.JSON.parse,yu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function _u(){}function vu(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){x.call(this,"d")}T(jt,x);function Sn(){x.call(this,"c")}T(Sn,x);var pt={},Eu=null;function ra(){return Eu=Eu||new Et}pt.Ia="serverreachability";function Tu(c){x.call(this,pt.Ia,c)}T(Tu,x);function ii(c){const g=ra();Mt(g,new Tu(g))}pt.STAT_EVENT="statevent";function hs(c,g){x.call(this,pt.STAT_EVENT,c),this.stat=g}T(hs,x);function Tt(c){const g=ra();Mt(g,new hs(g,c))}pt.Ja="timingevent";function ri(c,g){x.call(this,pt.Ja,c),this.size=g}T(ri,x);function si(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function af(c,g,v,A,j,G){c.info(function(){if(c.g)if(G){var se="",Ce=G.split("&");for(let Ge=0;Ge<Ce.length;Ge++){var gt=Ce[Ge].split("=");if(gt.length>1){const lt=gt[0];gt=gt[1];const Rn=lt.split("_");se=Rn.length>=2&&Rn[1]=="type"?se+(lt+"="+gt+"&"):se+(lt+"=redacted&")}}}else se=null;else se=G;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+g+`
`+v+`
`+se})}function Su(c,g,v,A,j,G,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+g+`
`+v+`
`+G+" "+se})}function ai(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+of(c,v)+(A?" "+A:"")})}function fs(c,g){c.info(function(){return"TIMEOUT: "+g})}zn.prototype.info=function(){};function of(c,g){if(!c.g)return g;if(!g)return null;try{const G=JSON.parse(g);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return hr(G)}catch{return g}}var ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function ms(){}T(ms,_u),ms.prototype.g=function(){return new XMLHttpRequest},Oo=new ms;function Mi(c){return encodeURIComponent(String(c))}function Au(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function jn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var St={},kt={};function oi(c,g,v){c.M=1,c.A=ps(wt(g)),c.u=v,c.R=!0,sa(c,null)}function sa(c,g){c.F=Date.now(),li(c),c.B=wt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ua(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Bn,c.g=Uu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(No[0]=j.toString()),j=No);for(let G=0;G<j.length;G++){const se=ot(v,j[G],A||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ii(),af(c.i,c.v,c.B,c.l,c.S,c.u)}jn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Fn(c)==3?g.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Fn(this.g),gt=this.g.ya(),Ge=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ce!=4||gt==7||(gt==8||Ge<=0?ii(3):ii(2)),ui(this);var g=this.g.ca();this.X=g;var v=lf(this);if(this.o=g==200,Su(this.i,this.v,this.B,this.l,this.S,Ce,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var G=A;break t}}G=null}if(c=G)ai(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,c);else{this.o=!1,this.m=3,Tt(12),dn(this),An(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=bu(this,v),lt==kt){Ce==4&&(this.m=4,Tt(14),c=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==St){this.m=4,Tt(15),ai(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ai(this.i,this.l,lt,null),ci(this,lt);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)ai(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),An(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Qo(se),se.P=!0,Tt(11))}}else ai(this.i,this.l,v,null),ci(this,v);Ce==4&&dn(this),this.o&&!this.K&&(Ce==4?Vu(this.j,this):(this.o=!1,li(this)))}else Pi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),dn(this),An(this)}}}catch{}finally{}};function lf(c){if(!wu(c))return c.g.la();const g=Bt(c.g);if(g==="")return"";let v="";const A=g.length,j=Fn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),An(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,v+=c.h.i.decode(g[G],{stream:!(j&&G==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function wu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function bu(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?kt:(v=Number(g.substring(v,A)),isNaN(v)?St:(A+=1,A+v>g.length?kt:(g=g.slice(A,A+v),c.C=A+v,g)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function li(c){c.T=Date.now()+c.H,aa(c,c.H)}function aa(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=si(y(c.aa,c),g)}function ui(c){c.D&&(f.clearTimeout(c.D),c.D=null)}jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(fs(this.i,this.B),this.M!=2&&(ii(),Tt(17)),dn(this),this.m=2,An(this)):aa(this,this.T-c)};function An(c){c.j.I==0||c.K||Vu(c.j,c)}function dn(c){ui(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Do(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function ci(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||fi(v.h,c))){if(!c.L&&fi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ma(v),vr(v);else break e;Ss(v),Tt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(y(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((c.L||v.g==c)&&ma(v),!N(g))for(j=v.Ba.g.parse(g),g=0;g<j.length;g++){let Ge=j[g];const lt=Ge[0];if(!(lt<=v.K))if(v.K=lt,Ge=Ge[1],v.I==2)if(Ge[0]=="c"){v.M=Ge[1],v.ba=Ge[2];const Rn=Ge[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const vi=Ge[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Gn=Ge[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(A=1.5*Gn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Kn=c.g;if(Kn){const As=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var G=A.h;G.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Po(G,G.h),G.h=null))}if(A.G){const pa=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;pa&&(A.wa=pa,Ye(A.J,A.G,pa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var se=c;if(A.na=Lu(A,A.L?A.ba:null,A.W),se.L){ko(A.h,se);var Ce=se,gt=A.O;gt&&(Ce.H=gt),Ce.D&&(ui(Ce),li(Ce)),A.g=se}else Ou(A);v.i.length>0&&yi(v)}else Ge[0]!="stop"&&Ge[0]!="close"||_i(v,7);else v.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?_i(v,7):Go(v):Ge[0]!="noop"&&v.l&&v.l.qa(Ge),v.A=0)}}ii(4)}catch{}}var At=class{constructor(c,g){this.g=c,this.map=g}};function Mo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hi(c){return c.h?1:c.g?c.g.size:0}function fi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Po(c,g){c.g?c.g.add(g):c.h=g}function ko(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Mo.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return M(c.i)}var Ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let j,G=null;A>=0?(j=c[v].substring(0,A),G=c[v].substring(A+1)):j=c[v],g(j,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof mn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,fr(this,c.u),this.h=c.h,Uo(this,Du(c.i)),this.m=c.m):c&&(g=String(c).match(Ru))?(this.l=!1,Lt(this,g[1]||"",!0),this.o=di(g[2]||""),this.g=di(g[3]||"",!0),fr(this,g[4]),this.h=di(g[5]||"",!0),Uo(this,g[6]||"",!0),this.m=di(g[7]||"")):(this.l=!1,this.i=new mr(null,this.l))}mn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(gs(g,la,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(gs(g,la,!0),"@"),c.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(gs(v,v.charAt(0)=="/"?zo:Iu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",gs(v,Cu)),c.join("")},mn.prototype.resolve=function(c){const g=wt(this);let v=!!c.j;v?Lt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)fr(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=g.h.lastIndexOf("/");j!=-1&&(A=g.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const G=[];for(let se=0;se<j.length;){const Ce=j[se++];Ce=="."?A&&se==j.length&&G.push(""):Ce==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&se==j.length&&G.push("")):(G.push(Ce),A=!0)}A=G.join("/")}else A=j}return v?g.h=A:v=c.i.toString()!=="",v?Uo(g,Du(c.i)):v=!!c.m,v&&(g.m=c.m),g};function wt(c){return new mn(c)}function Lt(c,g,v){c.j=v?di(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function fr(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Uo(c,g,v){g instanceof mr?(c.i=g,ca(c.i,c.l)):(v||(g=gs(g,dr)),c.i=new mr(g,c.l))}function Ye(c,g,v){c.i.set(g,v)}function ps(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function di(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gs(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var la=/[#\/\?@]/g,Iu=/[#\?:]/g,zo=/[#\?]/g,dr=/[#\?@]/g,Cu=/#/g;function mr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&oa(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=mr.prototype,r.add=function(c,g){an(this),this.i=null,c=pr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Nu(c,g){an(c),g=pr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function jo(c,g){return an(c),g=pr(c,g),c.g.has(g)}r.forEach=function(c,g){an(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(g,j,A,this)},this)},this)};function Bo(c,g){an(c);let v=[];if(typeof g=="string")jo(c,g)&&(v=v.concat(c.g.get(pr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return an(this),this.i=null,c=pr(this,c),jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Bo(this,c),c.length>0?String(c[0]):g):g};function ua(c,g,v){Nu(c,g),v.length>0&&(c.i=null,c.g.set(pr(c,g),M(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const j=Mi(v);v=Bo(this,v);for(let G=0;G<v.length;G++){let se=j;v[G]!==""&&(se+="="+Mi(v[G])),c.push(se)}}return this.i=c.join("&")};function Du(c){const g=new mr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function pr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ca(c,g){g&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(Nu(this,A),ua(this,j,v))},c)),c.j=g}function qn(c,g){const v=new zn;if(f.Image){const A=new Image;A.onload=E(wn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(wn,v,"TestLoadImage: error",!1,g,A),A.onabort=E(wn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(wn,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function qo(c,g){const v=new zn,A=new AbortController,j=setTimeout(()=>{A.abort(),wn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(j),G.ok?wn(v,"TestPingServer: ok",!0,g):wn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),wn(v,"TestPingServer: error",!1,g)})}function wn(c,g,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function gr(){this.g=new yu}function mi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(mi,_u),mi.prototype.g=function(){return new ys(this.i,this.h)};function ys(c,g){Et.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(ys,Et),r=ys.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Hn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?yr(this):Hn(this),this.readyState==3&&ha(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,yr(this))},r.Na=function(c){this.g&&(this.response=c,yr(this))},r.ga=function(){this.g&&yr(this)};function yr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Hn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bn(c){let g="";return xe(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function _s(c,g,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=bn(v),typeof c=="string"?v!=null&&Mi(v):Ye(c,g,v))}function We(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(We,Et);var pi=/^https?$/i,Ho=["POST","PUT"];r=We.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=I(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){vs(this,G);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())v.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Ho,g,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of v)this.g.setRequestHeader(G,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){vs(this,G)}};function vs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Fo(c),Vi(c)}function Fo(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Vi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),We.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Es(this):this.Xa())},r.Xa=function(){Es(this)};function Es(c){if(c.h&&typeof u<"u"){if(c.v&&Fn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var A;if(A=G===0){let se=String(c.D).match(Ru)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),A=!pi.test(se?se.toLowerCase():"")}v=A}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var j=Fn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Fo(c)}}finally{Vi(c)}}}}function Vi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),sf(g)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const g={};c=(c.g&&Fn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var v=Au(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[j]||[];g[j]=G,G.push(v)}Ve(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function _r(c){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,c),this.Za=gi("retryDelaySeedMs",1e4,c),this.Ta=gi("forwardChannelMaxRetries",2,c),this.va=gi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(c&&c.concurrentRequestLimit),this.Ba=new gr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=_r.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){Tt(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Lu(this,null,this.W),yi(this)};function Go(c){if(fa(c),c.I==3){var g=c.V++,v=wt(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",g),Ye(v,"TYPE","terminate"),Ts(c,v),g=new jn(c,c.j,g),g.M=2,g.A=ps(wt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Uu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),li(g)}ku(c)}function vr(c){c.g&&(Qo(c),c.g.cancel(),c.g=null)}function fa(c){vr(c),c.v&&(f.clearTimeout(c.v),c.v=null),ma(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function yi(c){if(!Vo(c.h)&&!c.m){c.m=!0;var g=c.Ea;ce||w(),pe||(ce(),pe=!0),b.add(g,c),c.D=0}}function da(c,g){return hi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=si(y(c.Ea,c,g),Pu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new jn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=k(G),re(G,this.U)):G=this.U),this.u!==null||this.R||(j.J=G,G=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=xu(this,j,g),v=wt(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Ts(this,v),G&&(this.R?g="headers="+Mi(bn(G))+"&"+g:this.u&&_s(v,this.u,G)),Po(this.h,j),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",g),Ye(v,"SID","null"),j.U=!0,oi(j,v,null)):oi(j,v,g),this.I=2}}else this.I==3&&(c?Ko(this,c):this.i.length==0||Vo(this.h)||Ko(this))};function Ko(c,g){var v;g?v=g.l:v=c.V++;const A=wt(c.J);Ye(A,"SID",c.M),Ye(A,"RID",v),Ye(A,"AID",c.K),Ts(c,A),c.u&&c.o&&_s(A,c.u,c.o),v=new jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=xu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,v),oi(v,A,g)}function Ts(c,g){c.H&&xe(c.H,function(v,A){Ye(g,A,v)}),c.l&&xe({},function(v,A){Ye(g,A,v)})}function xu(c,g,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var j=c.i;let Ce=-1;for(;;){const gt=["count="+v];Ce==-1?v>0?(Ce=j[0].g,gt.push("ofs="+Ce)):Ce=0:gt.push("ofs="+Ce);let Ge=!0;for(let lt=0;lt<v;lt++){var G=j[lt].g;const Rn=j[lt].map;if(G-=Ce,G<0)Ce=Math.max(0,j[lt].g-100),Ge=!1;else try{G="req"+G+"_"||"";try{var se=Rn instanceof Map?Rn:Object.entries(Rn);for(const[vi,Gn]of se){let Kn=Gn;m(Gn)&&(Kn=hr(Gn)),gt.push(G+vi+"="+encodeURIComponent(Kn))}}catch(vi){throw gt.push(G+"type="+encodeURIComponent("_badmap")),vi}}catch{A&&A(Rn)}}if(Ge){se=gt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),g.G=c,se}function Ou(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;ce||w(),pe||(ce(),pe=!0),b.add(g,c),c.A=0}}function Ss(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=si(y(c.Da,c),Pu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=si(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),vr(this),Mu(this))};function Qo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Mu(c){c.g=new jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=wt(c.na);Ye(g,"RID","rpc"),Ye(g,"SID",c.M),Ye(g,"AID",c.K),Ye(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(g,"TO",c.ia),Ye(g,"TYPE","xmlhttp"),Ts(c,g),c.u&&c.o&&_s(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ps(wt(g)),v.u=null,v.R=!0,sa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,vr(this),Ss(this),Tt(19))};function ma(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Vu(c,g){var v=null;if(c.g==g){ma(c),Qo(c),c.g=null;var A=2}else if(fi(c.h,g))v=g.G,ko(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var j=c.D;A=ra(),Mt(A,new ri(A,v)),yi(c)}else Ou(c);else if(j=g.m,j==3||j==0&&g.X>0||!(A==1&&da(c,g)||A==2&&Ss(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),j){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function Pu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function _i(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),A=c.Ua;const j=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(A,"https"),ps(A),j?qn(A.toString(),v):qo(A.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(g),ku(c),fa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function ku(c){if(c.I=0,c.ja=[],c.l){const g=Lo(c.h);(g.length!=0||c.i.length!=0)&&(U(c.ja,g),U(c.ja,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.oa()}}function Lu(c,g,v){var A=v instanceof mn?wt(v):new mn(v);if(A.g!="")g&&(A.g=g+"."+A.g),fr(A,A.u);else{var j=f.location;A=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;const G=new mn(null);A&&Lt(G,A),g&&(G.g=g),j&&fr(G,j),v&&(G.h=v),A=G}return v=c.G,g=c.wa,v&&g&&Ye(A,v,g),Ye(A,"VER",c.ka),Ts(c,A),A}function Uu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new We(new mi({ab:v})):new We(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}r=zu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Er(){}Er.prototype.g=function(c,g){return new nn(c,g)};function nn(c,g){Et.call(this),this.g=new _r(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!N(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!N(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ki(this)}T(nn,Et),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Go(this.g)},nn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=hr(c),c=v);g.i.push(new At(g.Ya++,c)),g.I==3&&yi(g)},nn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,nn.Z.N.call(this)};function ju(c){jt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(ju,jt);function Bu(){Sn.call(this),this.status=1}T(Bu,Sn);function ki(c){this.g=c}T(ki,zu),ki.prototype.ra=function(){Mt(this.g,"a")},ki.prototype.qa=function(c){Mt(this.g,new ju(c))},ki.prototype.pa=function(c){Mt(this.g,new Bu)},ki.prototype.oa=function(){Mt(this.g,"b")},Er.prototype.createWebChannel=Er.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,R0=function(){return new Er},b0=function(){return ra()},w0=pt,Mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,sh=ds,xo.COMPLETE="complete",A0=xo,vu.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",Et.prototype.listen=Et.prototype.J,kl=vu,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,S0=We}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});const uE="@firebase/firestore",cE="4.9.2";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let To="12.3.0";const Ys=new sp("@firebase/firestore");function Qa(){return Ys.logLevel}function le(r,...e){if(Ys.logLevel<=Le.DEBUG){const n=e.map(gp);Ys.debug(`Firestore (${To}): ${r}`,...n)}}function ar(r,...e){if(Ys.logLevel<=Le.ERROR){const n=e.map(gp);Ys.error(`Firestore (${To}): ${r}`,...n)}}function ao(r,...e){if(Ys.logLevel<=Le.WARN){const n=e.map(gp);Ys.warn(`Firestore (${To}): ${r}`,...n)}}function gp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Se(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,I0(r,s,n)}function I0(r,e,n){let s=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ar(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||I0(e,o,s)}function Re(r,e){return r}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class C0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class g2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class y2{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new C0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class _2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class v2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new _2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function T2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class yp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=T2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ue(r,e){return r<e?-1:r>e?1:0}function Vm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return ym(o)===ym(u)?Ue(o,u):ym(o)?1:-1}return Ue(r.length,e.length)}const S2=55296,A2=57343;function ym(r){const e=r.charCodeAt(0);return e>=S2&&e<=A2}function oo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const fE="__name__";class wi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=wi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const s=wi.isNumericId(e),o=wi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?wi.extractNumericId(e).compare(wi.extractNumericId(n)):Vm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jr.fromString(e.substring(4,e.length-2))}}class it extends wi{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const w2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends wi{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return w2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fE}static keyField(){return new Qt([fE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ue(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}function N0(r,e,n){if(!n)throw new ue(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function b2(r,e,n,s){if(e===!0&&s===!0)throw new ue(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function dE(r){if(!ye.isDocumentKey(r))throw new ue(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function mE(r){if(ye.isDocumentKey(r))throw new ue(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function D0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Bh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se(12329,{type:typeof r})}function to(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bh(r);throw new ue(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function xt(r,e){const n={typeString:r};return e&&(n.value=e),n}function cu(r,e){if(!D0(r))throw new ue(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(te.INVALID_ARGUMENT,n);return!0}const pE=-62135596800,gE=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*gE);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pE)throw new ue(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cu(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:xt("string",at._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new at(0,0))}static max(){return new we(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xl=-1;function R2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new es(o,ye.empty(),e)}function I2(r){return new es(r.readTime,r.key,Xl)}class es{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new es(we.min(),ye.empty(),Xl)}static max(){return new es(we.max(),ye.empty(),Xl)}}function C2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ue(r.largestBatchId,e.largestBatchId))}const N2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function So(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==N2)throw r;le("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function x2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(r){return r.name==="IndexedDbTransactionError"}class qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qh.ce=-1;const _p=-1;function Hh(r){return r==null}function Th(r){return r===0&&1/r==-1/0}function O2(r){return typeof r=="number"&&Number.isInteger(r)&&!Th(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const x0="";function M2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=yE(e)),e=V2(r.get(n),e);return yE(e)}function V2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case x0:n+="";break;default:n+=u}}return n}function yE(r){return r+x0+""}function _E(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ws(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function O0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yc(this.root,e,this.comparator,!0)}}class Yc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vE(this.data.getIterator())}getIteratorFrom(e){return new vE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class vE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Pt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class M0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new M0("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const P2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=P2.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ns(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const V0="server_timestamp",P0="__type__",k0="__previous_value__",L0="__local_write_time__";function vp(r){return(r?.mapValue?.fields||{})[P0]?.stringValue===V0}function Fh(r){const e=r.mapValue.fields[k0];return vp(e)?Fh(e):e}function $l(r){const e=ts(r.mapValue.fields[L0].timestampValue);return new at(e.seconds,e.nanos)}class k2{constructor(e,n,s,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Sh="(default)";class Wl{constructor(e,n){this.projectId=e,this.database=n||Sh}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}const U0="__type__",L2="__max__",Xc={mapValue:{}},z0="__vector__",Ah="value";function is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vp(r)?4:z2(r)?9007199254740991:U2(r)?10:11:Se(28295,{value:r})}function xi(r,e){if(r===e)return!0;const n=is(r);if(n!==is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $l(r).isEqual($l(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ts(o.timestampValue),m=ts(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ns(o.bytesValue).isEqual(ns(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?Th(f)===Th(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return oo(r.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(_E(f)!==_E(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!xi(f[p],m[p])))return!1;return!0})(r,e);default:return Se(52216,{left:r})}}function Jl(r,e){return(r.values||[]).find((n=>xi(n,e)))!==void 0}function lo(r,e){if(r===e)return 0;const n=is(r),s=is(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),p=vt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return EE(r.timestampValue,e.timestampValue);case 4:return EE($l(r),$l(e));case 5:return Vm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ns(u),p=ns(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ue(m[y],p[y]);if(E!==0)return E}return Ue(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ue(vt(u.latitude),vt(f.latitude));return m!==0?m:Ue(vt(u.longitude),vt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return TE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[Ah]?.arrayValue,E=p[Ah]?.arrayValue,T=Ue(y?.values?.length||0,E?.values?.length||0);return T!==0?T:TE(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Xc.mapValue&&f===Xc.mapValue)return 0;if(u===Xc.mapValue)return 1;if(f===Xc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const I=Vm(p[T],E[T]);if(I!==0)return I;const M=lo(m[p[T]],y[E[T]]);if(M!==0)return M}return Ue(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function EE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const n=ts(r),s=ts(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function TE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=lo(n[o],s[o]);if(u)return u}return Ue(n.length,s.length)}function uo(r){return Pm(r)}function Pm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ts(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ns(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Pm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Pm(n.fields[f])}`;return o+"}"})(r.mapValue):Se(61005,{value:r})}function ah(r){switch(is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fh(r);return e?16+ah(e):16;case 5:return 2*r.stringValue.length;case 6:return ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ah(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ws(s.fields,((u,f)=>{o+=u.length+ah(f)})),o})(r.mapValue);default:throw Se(13486,{value:r})}}function SE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function km(r){return!!r&&"integerValue"in r}function Ep(r){return!!r&&"arrayValue"in r}function AE(r){return!!r&&"nullValue"in r}function wE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function oh(r){return!!r&&"mapValue"in r}function U2(r){return(r?.mapValue?.fields||{})[U0]?.stringValue===z0}function ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ws(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ql(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(r.arrayValue.values[n]);return e}return{...r}}function z2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===L2}class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=ql(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ws(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new kn(ql(this.value))}}function j0(r){const e=[];return Ws(r.fields,((n,s)=>{const o=new Qt([n]);if(oh(s)){const u=j0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Wn(e)}class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,we.min(),we.min(),we.min(),kn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,we.min(),we.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,we.min(),we.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wh{constructor(e,n){this.position=e,this.inclusive=n}}function bE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=lo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function RE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!xi(r.position[n],e.position[n]))return!1;return!0}class bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function j2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class B0{}class Dt extends B0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new q2(e,n,s):n==="array-contains"?new G2(e,s):n==="in"?new K2(e,s):n==="not-in"?new Q2(e,s):n==="array-contains-any"?new Y2(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new H2(e,s):new F2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&is(this.value)===is(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends B0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ei(e,n)}matches(e){return q0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q0(r){return r.op==="and"}function H0(r){return B2(r)&&q0(r)}function B2(r){for(const e of r.filters)if(e instanceof ei)return!1;return!0}function Lm(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+uo(r.value);if(H0(r))return r.filters.map((e=>Lm(e))).join(",");{const e=r.filters.map((n=>Lm(n))).join(",");return`${r.op}(${e})`}}function F0(r,e){return r instanceof Dt?(function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&xi(s.value,o.value)})(r,e):r instanceof ei?(function(s,o){return o instanceof ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&F0(f,o.filters[m])),!0):!1})(r,e):void Se(19439)}function G0(r){return r instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`})(r):r instanceof ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(G0).join(" ,")+"}"})(r):"Filter"}class q2 extends Dt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class H2 extends Dt{constructor(e,n){super(e,"in",n),this.keys=K0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class F2 extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=K0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function K0(r,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class G2 extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ep(n)&&Jl(n.arrayValue,this.value)}}class K2 extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class Q2 extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class Y2 extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Jl(this.value.arrayValue,s)))}}class X2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function IE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new X2(r,e,n,s,o,u,f)}function Tp(r){const e=Re(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Lm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>uo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>uo(s))).join(",")),e.Te=n}return e.Te}function Sp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!j2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!F0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!RE(r.startAt,e.startAt)&&RE(r.endAt,e.endAt)}function Um(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class hu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $2(r,e,n,s,o,u,f,m){return new hu(r,e,n,s,o,u,f,m)}function Ap(r){return new hu(r)}function CE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Q0(r){return r.collectionGroup!==null}function Hl(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pt(Qt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new bh(u,s))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new bh(Qt.keyField(),s))}return e.Ie}function Ii(r){const e=Re(r);return e.Ee||(e.Ee=W2(e,Hl(r))),e.Ee}function W2(r,e){if(r.limitType==="F")return IE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new bh(o.field,u)}));const n=r.endAt?new wh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new wh(r.startAt.position,r.startAt.inclusive):null;return IE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function zm(r,e){const n=r.filters.concat([e]);return new hu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function jm(r,e,n){return new hu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Gh(r,e){return Sp(Ii(r),Ii(e))&&r.limitType===e.limitType}function Y0(r){return`${Tp(Ii(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>G0(o))).join(", ")}]`),Hh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>uo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>uo(o))).join(",")),`Target(${s})`})(Ii(r))}; limitType=${r.limitType})`}function Kh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Hl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=bE(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,Hl(s),o)||s.endAt&&!(function(f,m,p){const y=bE(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,Hl(s),o))})(r,e)}function J2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function X0(r){return(e,n)=>{let s=!1;for(const o of Hl(r)){const u=Z2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Z2(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?lo(p,y):Se(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:r.dir})}}class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return O0(this.inner)}size(){return this.innerSize}}const eN=new ht(ye.comparator);function or(){return eN}const $0=new ht(ye.comparator);function Ll(...r){let e=$0;for(const n of r)e=e.insert(n.key,n);return e}function W0(r){let e=$0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Bs(){return Fl()}function J0(){return Fl()}function Fl(){return new Js((r=>r.toString()),((r,e)=>r.isEqual(e)))}const tN=new ht(ye.comparator),nN=new Pt(ye.comparator);function ze(...r){let e=nN;for(const n of r)e=e.add(n);return e}const iN=new Pt(Ue);function rN(){return iN}function wp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function Z0(r){return{integerValue:""+r}}function sN(r,e){return O2(e)?Z0(e):wp(r,e)}class Qh{constructor(){this._=void 0}}function aN(r,e,n){return r instanceof Zl?(function(o,u){const f={fields:{[P0]:{stringValue:V0},[L0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&vp(u)&&(u=Fh(u)),u&&(f.fields[k0]=u),{mapValue:f}})(n,e):r instanceof eu?tS(r,e):r instanceof tu?nS(r,e):(function(o,u){const f=eS(o,u),m=NE(f)+NE(o.Ae);return km(f)&&km(o.Ae)?Z0(m):wp(o.serializer,m)})(r,e)}function oN(r,e,n){return r instanceof eu?tS(r,e):r instanceof tu?nS(r,e):n}function eS(r,e){return r instanceof Rh?(function(s){return km(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Zl extends Qh{}class eu extends Qh{constructor(e){super(),this.elements=e}}function tS(r,e){const n=iS(e);for(const s of r.elements)n.some((o=>xi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class tu extends Qh{constructor(e){super(),this.elements=e}}function nS(r,e){let n=iS(e);for(const s of r.elements)n=n.filter((o=>!xi(o,s)));return{arrayValue:{values:n}}}class Rh extends Qh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function NE(r){return vt(r.integerValue||r.doubleValue)}function iS(r){return Ep(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class lN{constructor(e,n){this.field=e,this.transform=n}}function uN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof eu&&o instanceof eu||s instanceof tu&&o instanceof tu?oo(s.elements,o.elements,xi):s instanceof Rh&&o instanceof Rh?xi(s.Ae,o.Ae):s instanceof Zl&&o instanceof Zl})(r.transform,e.transform)}class cN{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Yh{}function rS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new aS(r.key,nr.none()):new fu(r.key,r.data,nr.none());{const n=r.data,s=kn.empty();let o=new Pt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Zs(r.key,s,new Wn(o.toArray()),nr.none())}}function hN(r,e,n){r instanceof fu?(function(o,u,f){const m=o.value.clone(),p=xE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Zs?(function(o,u,f){if(!lh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=xE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(sS(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Gl(r,e,n,s){return r instanceof fu?(function(u,f,m,p){if(!lh(u.precondition,f))return m;const y=u.value.clone(),E=OE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof Zs?(function(u,f,m,p){if(!lh(u.precondition,f))return m;const y=OE(u.fieldTransforms,p,f),E=f.data;return E.setAll(sS(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return lh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function fN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=eS(s.transform,o||null);u!=null&&(n===null&&(n=kn.empty()),n.set(s.field,u))}return n||null}function DE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&oo(s,o,((u,f)=>uN(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fu extends Yh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zs extends Yh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function sS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function xE(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,oN(f,m,n[o]))}return s}function OE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,aN(u,f,e))}return s}class aS extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dN extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&hN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=J0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=rS(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,((n,s)=>DE(n,s)))&&oo(this.baseMutations,e.baseMutations,((n,s)=>DE(n,s)))}}class bp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return tN})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new bp(e,n,s,o)}}class pN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class gN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,qe;function yN(r){switch(r){case te.OK:return Se(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se(15467,{code:r})}}function oS(r){if(r===void 0)return ar("GRPC error has no .code"),te.UNKNOWN;switch(r){case Nt.OK:return te.OK;case Nt.CANCELLED:return te.CANCELLED;case Nt.UNKNOWN:return te.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return te.INTERNAL;case Nt.UNAVAILABLE:return te.UNAVAILABLE;case Nt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Nt.NOT_FOUND:return te.NOT_FOUND;case Nt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Nt.ABORTED:return te.ABORTED;case Nt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Nt.DATA_LOSS:return te.DATA_LOSS;default:return Se(39323,{code:r})}}(qe=Nt||(Nt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function _N(){return new TextEncoder}const vN=new Jr([4294967295,4294967295],0);function ME(r){const e=_N().encode(r),n=new T0;return n.update(e),new Uint8Array(n.digest())}function VE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Jr([n,s],0),new Jr([o,u],0)]}class Rp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(s<0)throw new Ul(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Jr.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Jr.fromNumber(s)));return o.compare(vN)===1&&(o=new Jr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ME(e),[s,o]=VE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Rp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=ME(e),[s,o]=VE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Xh(we.min(),o,new ht(Ue),or(),ze())}}class du{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new du(s,n,ze(),ze(),ze())}}class uh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class lS{constructor(e,n){this.targetId=e,this.Ce=n}}class uS{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class PE{constructor(){this.ve=0,this.Fe=kE(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:u})}})),new du(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=kE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class EN{constructor(e){this.Ge=e,this.ze=new Map,this.je=or(),this.Je=$c(),this.He=$c(),this.Ye=new ht(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Um(u))if(s===0){const f=new ye(u.path);this.et(n,f,Zt.newNoDocument(f,we.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ns(s).toUint8Array()}catch(p){if(p instanceof M0)return ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Rp(f,o,u)}catch(p){return ao(p instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Um(m.target)){const p=new ye(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=ze();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Xh(e,n,this.Ye,this.je,s);return this.je=or(),this.Je=$c(),this.He=$c(),this.Ye=new ht(Ue),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new PE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new PE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $c(){return new ht(ye.comparator)}function kE(){return new ht(ye.comparator)}const TN={asc:"ASCENDING",desc:"DESCENDING"},SN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AN={and:"AND",or:"OR"};class wN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bm(r,e){return r.useProto3Json||Hh(e)?e:{value:e}}function Ih(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function bN(r,e){return Ih(r,e.toTimestamp())}function Ci(r){return Qe(!!r,49232),we.fromTimestamp((function(n){const s=ts(n);return new at(s.seconds,s.nanos)})(r))}function Ip(r,e){return qm(r,e).canonicalString()}function qm(r,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function hS(r){const e=it.fromString(r);return Qe(gS(e),10190,{key:e.toString()}),e}function Hm(r,e){return Ip(r.databaseId,e.path)}function _m(r,e){const n=hS(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(dS(n))}function fS(r,e){return Ip(r.databaseId,e)}function RN(r){const e=hS(r);return e.length===4?it.emptyPath():dS(e)}function Fm(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function dS(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function LE(r,e,n){return{name:Hm(r,e),fields:n.value.mapValue.fields}}function IN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?te.UNKNOWN:oS(y.code);return new ue(E,y.message||"")})(f);n=new uS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=_m(r,s.document.name),u=Ci(s.document.updateTime),f=s.document.createTime?Ci(s.document.createTime):we.min(),m=new kn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new uh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=_m(r,s.document),u=s.readTime?Ci(s.readTime):we.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new uh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=_m(r,s.document),u=s.removedTargetIds||[];n=new uh([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new gN(o,u),m=s.targetId;n=new lS(m,f)}}return n}function CN(r,e){let n;if(e instanceof fu)n={update:LE(r,e.key,e.value)};else if(e instanceof aS)n={delete:Hm(r,e.key)};else if(e instanceof Zs)n={update:LE(r,e.key,e.data),updateMask:LN(e.fieldMask)};else{if(!(e instanceof dN))return Se(16599,{Vt:e.type});n={verify:Hm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof tu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Rh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:bN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(r,e.precondition)),n}function NN(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ci(o.updateTime):Ci(u);return f.isEqual(we.min())&&(f=Ci(u)),new cN(f,o.transformResults||[])})(n,e)))):[]}function DN(r,e){return{documents:[fS(r,e.path)]}}function xN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=fS(r,o);const u=(function(y){if(y.length!==0)return pS(ei.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(I){return{field:Xa(I.field),direction:VN(I.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Bm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function ON(r){let e=RN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const I=mS(T);return I instanceof ei&&H0(I)?I.getFilters():[I]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((I=>(function(U){return new bh($a(U.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(I)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let I;return I=typeof T=="object"?T.value:T,Hh(I)?null:I})(n.limit));let p=null;n.startAt&&(p=(function(T){const I=!!T.before,M=T.values||[];return new wh(M,I)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const I=!T.before,M=T.values||[];return new wh(M,I)})(n.endAt)),$2(e,o,f,u,m,"F",p,y)}function MN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$a(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=$a(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$a(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=$a(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Dt.create($a(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ei.create(n.compositeFilter.filters.map((s=>mS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(r):Se(30097,{filter:r})}function VN(r){return TN[r]}function PN(r){return SN[r]}function kN(r){return AN[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function $a(r){return Qt.fromServerFormat(r.fieldPath)}function pS(r){return r instanceof Dt?(function(n){if(n.op==="=="){if(wE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(AE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(AE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:PN(n.op),value:n.value}}})(r):r instanceof ei?(function(n){const s=n.getFilters().map((o=>pS(o)));return s.length===1?s[0]:{compositeFilter:{op:kN(n.op),filters:s}}})(r):Se(54877,{filter:r})}function LN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function gS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Yr{constructor(e,n,s,o,u=we.min(),f=we.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class UN{constructor(e){this.yt=e}}function zN(r){const e=ON({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jm(e,e.limit,"L"):e}class jN{constructor(){this.Cn=new BN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(es.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(es.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class BN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(it.comparator)).toArray()}}const UE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yS=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(yS,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class co{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new co(0)}static cr(){return new co(-1)}}const zE="LruGarbageCollector",qN=1048576;function jE([r,e],[n,s]){const o=Ue(r,n);return o===0?Ue(e,s):o}class HN{constructor(e){this.Ir=e,this.buffer=new Pt(jE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();jE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(zE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?le(zE,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Vr(3e5)}))}}class GN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(qh.ce);const s=new HN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(UE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),Qa()<=Le.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function KN(r,e){return new GN(r,e)}class QN{constructor(){this.changes=new Js((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class YN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class XN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Gl(s.mutation,o,Wn.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ze()){const o=Bs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Ll();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Bs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ze())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=or();const f=Fl(),m=(function(){return Fl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Zs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Gl(E.mutation,y,E.mutation.getFieldMask(),at.now())):f.set(y.key,Wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new YN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Fl();let o=new ht(((f,m)=>f-m)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Wn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||ze()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=J0();E.forEach((I=>{if(!u.has(I)){const M=rS(n.get(I),s.get(I));M!==null&&T.set(I,M),u=u.add(I)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Q0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Bs());let m=Xl,p=u;return f.next((y=>ne.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((I=>{p=p.insert(E,I)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,ze()))).next((E=>({batchId:m,changes:W0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=Ll();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ll();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const y=(function(T,I){return new hu(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((T,I)=>{f=f.insert(T,I)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))}));let m=Ll();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Gl(E.mutation,y,Wn.empty(),at.now()),Kh(n,y)&&(m=m.insert(p,y))})),m}))}}class $N{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ci(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:zN(o.bundledQuery),readTime:Ci(o.readTime)}})(n)),ne.resolve()}}class WN{constructor(){this.overlays=new ht(ye.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Bs();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Bs(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Bs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Bs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new pN(n,s));let u=this.qr.get(n);u===void 0&&(u=ze(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class JN{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Cp{constructor(){this.Qr=new Pt(zt.$r),this.Ur=new Pt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new it([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new it([])),s=new zt(n,e),o=new zt(n,e+1);let u=ze();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class ZN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(zt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new mN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?_p:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Ue);return n.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new zt(new ye(u),0);let m=new Pt(Ue);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new zt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class eD{constructor(e){this.ri=e,this.docs=(function(){return new ht(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=or();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=or();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||C2(I2(E),s)<=0||(o.has(E.key)||Kh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Se(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new tD(this)}getSize(e){return ne.resolve(this.size)}}class tD extends QN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class nD{constructor(e){this.persistence=e,this.si=new Js((n=>Tp(n)),Sp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Cp,this.targetCount=0,this.ai=co.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new co(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class _S{constructor(e,n){this.ui={},this.overlays={},this.ci=new qh(0),this.li=!1,this.li=!0,this.hi=new JN,this.referenceDelegate=e(this),this.Pi=new nD(this),this.indexManager=new jN,this.remoteDocumentCache=(function(o){return new eD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new UN(n),this.Ii=new $N(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new ZN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new iD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class iD extends D2{constructor(e){super(),this.currentSequenceNumber=e}}class Np{constructor(e){this.persistence=e,this.Ri=new Cp,this.Vi=null}static mi(e){return new Np(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ch{constructor(e,n){this.persistence=e,this.pi=new Js((s=>M2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=KN(this,n)}static mi(e,n){return new Ch(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ah(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Dp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Dp(e,n.fromCache,s,o)}}class rD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class sD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Ob()?8:x2(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new rD;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Qa()<=Le.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Qa()<=Le.DEBUG&&le("QueryEngine","Query:",Ya(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Qa()<=Le.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(n))):ne.resolve())}ys(e,n){if(CE(n))return ne.resolve(null);let s=Ii(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=jm(n,null,"F"),s=Ii(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ze(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(e,jm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,o){return CE(n)||o.isEqual(we.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ne.resolve(null):(Qa()<=Le.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ya(n)),this.vs(e,f,n,R2(o,Xl)).next((m=>m)))}))}Ds(e,n){let s=new Pt(X0(e));return n.forEach(((o,u)=>{Kh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Qa()<=Le.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.ps.getDocumentsMatchingQuery(e,n,es.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const xp="LocalStore",aD=3e8;class oD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(Ue),this.xs=new Js((u=>Tp(u)),Sp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function lD(r,e,n,s){return new oD(r,e,n,s)}async function vS(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=ze();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function uD(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,I=T.keys();let M=ne.resolve();return I.forEach((U=>{M=M.next((()=>E.getEntry(p,U))).next((B=>{const z=y.docVersions.get(U);Qe(z!==null,48541),B.version.compareTo(z)<0&&(T.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),E.addEntry(B)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ze();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function ES(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function cD(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const I=o.get(T);if(!I)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let M=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?M=M.withResumeToken(Xt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(T,M),(function(B,z,X){return B.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=aD?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(I,M,E)&&m.push(n.Pi.updateTargetData(u,M))}));let p=or(),y=ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(hD(u,f,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(we.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function hD(r,e,n){let s=ze(),o=ze();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=or();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(xp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function fD(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=_p),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function dD(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Yr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Gm(r,e,n){const s=Re(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ao(f))throw f;le(xp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function BE(r,e,n){const s=Re(r);let o=we.min(),u=ze();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=Re(p),I=T.xs.get(E);return I!==void 0?ne.resolve(T.Ms.get(I)):T.Pi.getTargetData(y,E)})(s,f,Ii(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:ze()))).next((m=>(mD(s,J2(e),m),{documents:m,Qs:u})))))}function mD(r,e,n){let s=r.Os.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class qE{constructor(){this.activeTargetIds=rN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pD{constructor(){this.Mo=new qE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new qE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gD{Oo(e){}shutdown(){}}const HE="ConnectivityMonitor";class FE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(HE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(HE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Wc=null;function Km(){return Wc===null?Wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wc++,"0x"+Wc.toString(16)}const vm="RestConnection",yD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _D{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Km(),m=this.zo(e,n.toUriEncodedString());le(vm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=_o(y);return this.Jo(e,m,p,s,E).then((T=>(le(vm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw ao(vm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+To})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=yD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class vD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Wt="WebChannelConnection";class ED extends _D{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Km();return new Promise(((m,p)=>{const y=new S0;y.setWithCredentials(!0),y.listenOnce(A0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case sh.NO_ERROR:const T=y.getResponseJson();le(Wt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case sh.TIMEOUT:le(Wt,`RPC '${e}' ${f} timed out`),p(new ue(te.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const I=y.getStatus();if(le(Wt,`RPC '${e}' ${f} failed with status:`,I,"response text:",y.getResponseText()),I>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const U=M?.error;if(U&&U.status&&U.message){const B=(function(X){const W=X.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(W)>=0?W:te.UNKNOWN})(U.status);p(new ue(B,U.message))}else p(new ue(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ue(te.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(Wt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);le(Wt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Km(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=R0(),m=b0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le(Wt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let I=!1,M=!1;const U=new vD({Yo:z=>{M?le(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(I||(le(Wt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),le(Wt,`RPC '${e}' stream ${o} sending:`,z),T.send(z))},Zo:()=>T.close()}),B=(z,X,W)=>{z.listen(X,(ie=>{try{W(ie)}catch(Ee){setTimeout((()=>{throw Ee}),0)}}))};return B(T,kl.EventType.OPEN,(()=>{M||(le(Wt,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),B(T,kl.EventType.CLOSE,(()=>{M||(M=!0,le(Wt,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(T))})),B(T,kl.EventType.ERROR,(z=>{M||(M=!0,ao(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),U.a_(new ue(te.UNAVAILABLE,"The operation could not be completed")))})),B(T,kl.EventType.MESSAGE,(z=>{if(!M){const X=z.data[0];Qe(!!X,16349);const W=X,ie=W?.error||W[0]?.error;if(ie){le(Wt,`RPC '${e}' stream ${o} received error:`,ie);const Ee=ie.status;let ce=(function(w){const R=Nt[w];if(R!==void 0)return oS(R)})(Ee),pe=ie.message;ce===void 0&&(ce=te.INTERNAL,pe="Unknown error status: "+Ee+" with message "+ie.message),M=!0,U.a_(new ue(ce,pe)),T.close()}else le(Wt,`RPC '${e}' stream ${o} received:`,X),U.u_(X)}})),B(m,w0.STAT_EVENT,(z=>{z.stat===Mm.PROXY?le(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Mm.NOPROXY&&le(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Em(){return typeof document<"u"?document:null}function $h(r){return new wN(r,!0)}class TS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const GE="PersistentStream";class SS{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(GE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(GE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TD extends SS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=IN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?Ci(f.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Fm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Um(p)?{documents:DN(u,p)}:{query:xN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=cS(u,f.resumeToken);const y=Bm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=Ih(u,f.snapshotVersion.toTimestamp());const y=Bm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=MN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Fm(this.serializer),n.removeTarget=e,this.q_(n)}}class SD extends SS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=NN(e.writeResults,e.commitTime),s=Ci(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Fm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>CN(this.serializer,s)))};this.q_(n)}}class AD{}class wD extends AD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,qm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(te.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,qm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(te.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ar(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xs="RemoteStore";class RD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ea(this)&&(le(Xs,"Restarting streams for network reachability change."),await(async function(p){const y=Re(p);y.Ea.add(4),await mu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Wh(y)})(this))}))})),this.Ra=new bD(s,o)}}async function Wh(r){if(ea(r))for(const e of r.da)await e(!0)}async function mu(r){for(const e of r.da)await e(!1)}function AS(r,e){const n=Re(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Pp(n)?Vp(n):wo(n).O_()&&Mp(n,e))}function Op(r,e){const n=Re(r),s=wo(n);n.Ia.delete(e),s.O_()&&wS(n,e),n.Ia.size===0&&(s.O_()?s.L_():ea(n)&&n.Ra.set("Unknown"))}function Mp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(r).Y_(e)}function wS(r,e){r.Va.Ue(e),wo(r).Z_(e)}function Vp(r){r.Va=new EN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),wo(r).start(),r.Ra.ua()}function Pp(r){return ea(r)&&!wo(r).x_()&&r.Ia.size>0}function ea(r){return Re(r).Ea.size===0}function bS(r){r.Va=void 0}async function ID(r){r.Ra.set("Online")}async function CD(r){r.Ia.forEach(((e,n)=>{Mp(r,e)}))}async function ND(r,e){bS(r),Pp(r)?(r.Ra.ha(e),Vp(r)):r.Ra.set("Unknown")}async function DD(r,e,n){if(r.Ra.set("Online"),e instanceof uS&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){le(Xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Nh(r,s)}else if(e instanceof uh?r.Va.Ze(e):e instanceof lS?r.Va.st(e):r.Va.tt(e),!n.isEqual(we.min()))try{const s=await ES(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),wS(u,p);const T=new Yr(E.target,p,y,E.sequenceNumber);Mp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(Xs,"Failed to raise snapshot:",s),await Nh(r,s)}}async function Nh(r,e,n){if(!Ao(e))throw e;r.Ea.add(1),await mu(r),r.Ra.set("Offline"),n||(n=()=>ES(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(Xs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Wh(r)}))}function RS(r,e){return e().catch((n=>Nh(r,n,e)))}async function Jh(r){const e=Re(r),n=rs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_p;for(;xD(e);)try{const o=await fD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,OD(e,o)}catch(o){await Nh(e,o)}IS(e)&&CS(e)}function xD(r){return ea(r)&&r.Ta.length<10}function OD(r,e){r.Ta.push(e);const n=rs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function IS(r){return ea(r)&&!rs(r).x_()&&r.Ta.length>0}function CS(r){rs(r).start()}async function MD(r){rs(r).ra()}async function VD(r){const e=rs(r);for(const n of r.Ta)e.ea(n.mutations)}async function PD(r,e,n){const s=r.Ta.shift(),o=bp.from(s,e,n);await RS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Jh(r)}async function kD(r,e){e&&rs(r).X_&&await(async function(s,o){if((function(f){return yN(f)&&f!==te.ABORTED})(o.code)){const u=s.Ta.shift();rs(s).B_(),await RS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Jh(s)}})(r,e),IS(r)&&CS(r)}async function KE(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),le(Xs,"RemoteStore received new credentials");const s=ea(n);n.Ea.add(3),await mu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wh(n)}async function LD(r,e){const n=Re(r);e?(n.Ea.delete(2),await Wh(n)):e||(n.Ea.add(2),await mu(n),n.Ra.set("Unknown"))}function wo(r){return r.ma||(r.ma=(function(n,s,o){const u=Re(n);return u.sa(),new TD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:ID.bind(null,r),t_:CD.bind(null,r),r_:ND.bind(null,r),H_:DD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Pp(r)?Vp(r):r.Ra.set("Unknown")):(await r.ma.stop(),bS(r))}))),r.ma}function rs(r){return r.fa||(r.fa=(function(n,s,o){const u=Re(n);return u.sa(),new SD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:MD.bind(null,r),r_:kD.bind(null,r),ta:VD.bind(null,r),na:PD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Jh(r)):(await r.fa.stop(),r.Ta.length>0&&(le(Xs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class kp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new kp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lp(r,e){if(ar("AsyncQueue",`${e}: ${r}`),Ao(r))return new ue(te.UNAVAILABLE,`${e}: ${r}`);throw r}class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Ll(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new no;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class QE{constructor(){this.ga=new ht(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ho{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new ho(e,n,no.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class UD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class zD{constructor(){this.queries=YE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=YE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ue(te.ABORTED,"Firestore shutting down"))}}function YE(){return new Js((r=>Y0(r)),Gh)}async function jD(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new UD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Lp(f,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Up(n)}async function BD(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function qD(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Up(n)}function HD(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Up(r){r.Ca.forEach((e=>{e.next()}))}var Qm,XE;(XE=Qm||(Qm={})).Ma="default",XE.Cache="cache";class FD{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qm.Cache}}class NS{constructor(e){this.key=e}}class DS{constructor(e){this.key=e}}class GD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=X0(e),this.tu=new no(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new QE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const I=o.get(E),M=Kh(this.query,T)?T:null,U=!!I&&this.mutatedKeys.has(I.key),B=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let z=!1;I&&M?I.data.isEqual(M.data)?U!==B&&(s.track({type:3,doc:M}),z=!0):this.su(I,M)||(s.track({type:2,doc:M}),z=!0,(p&&this.eu(M,p)>0||y&&this.eu(M,y)<0)&&(m=!0)):!I&&M?(s.track({type:0,doc:M}),z=!0):I&&!M&&(s.track({type:1,doc:I}),z=!0,(p||y)&&(m=!0)),z&&(M?(f=f.add(M),u=B?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(M,U){const B=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:z})}};return B(M)-B(U)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new ho(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new QE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new DS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new NS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zp="SyncEngine";class KD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class QD{constructor(e){this.key=e,this.hu=!1}}class YD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Js((m=>Y0(m)),Gh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ye.comparator),this.Au=new Map,this.Ru=new Cp,this.Vu={},this.mu=new Map,this.fu=co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XD(r,e,n=!0){const s=kS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await xS(s,e,n,!0),o}async function $D(r,e){const n=kS(r);await xS(n,e,!0,!1)}async function xS(r,e,n,s){const o=await dD(r.localStore,Ii(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await WD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&AS(r.remoteStore,o),m}async function WD(r,e,n,s,o){r.pu=(T,I,M)=>(async function(B,z,X,W){let ie=z.view.ru(X);ie.Cs&&(ie=await BE(B.localStore,z.query,!1).then((({documents:b})=>z.view.ru(b,ie))));const Ee=W&&W.targetChanges.get(z.targetId),ce=W&&W.targetMismatches.get(z.targetId)!=null,pe=z.view.applyChanges(ie,B.isPrimaryClient,Ee,ce);return WE(B,z.targetId,pe.au),pe.snapshot})(r,T,I,M);const u=await BE(r.localStore,e,!0),f=new GD(e,u.Qs),m=f.ru(u.documents),p=du.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);WE(r,n,y.au);const E=new KD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function JD(r,e,n){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Gh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Op(s.remoteStore,o.targetId),Ym(s,o.targetId)})).catch(So)):(Ym(s,o.targetId),await Gm(s.localStore,o.targetId,!0))}async function ZD(r,e){const n=Re(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Op(n.remoteStore,s.targetId))}async function ex(r,e,n){const s=ox(r);try{const o=await(function(f,m){const p=Re(f),y=at.now(),E=m.reduce(((M,U)=>M.add(U.key)),ze());let T,I;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let U=or(),B=ze();return p.Ns.getEntries(M,E).next((z=>{U=z,U.forEach(((X,W)=>{W.isValidDocument()||(B=B.add(X))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,U))).next((z=>{T=z;const X=[];for(const W of m){const ie=fN(W,T.get(W.key).overlayedDocument);ie!=null&&X.push(new Zs(W.key,ie,j0(ie.value.mapValue),nr.exists(!0)))}return p.mutationQueue.addMutationBatch(M,y,X,m)})).next((z=>{I=z;const X=z.applyToLocalDocumentSet(T,B);return p.documentOverlayCache.saveOverlays(M,z.batchId,X)}))})).then((()=>({batchId:I.batchId,changes:W0(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ht(Ue)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await pu(s,o.changes),await Jh(s.remoteStore)}catch(o){const u=Lp(o,"Failed to persist write");n.reject(u)}}async function OS(r,e){const n=Re(r);try{const s=await cD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await pu(n,s,e)}catch(s){await So(s)}}function $E(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Re(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const I of T.Sa)I.va(m)&&(y=!0)})),y&&Up(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function tx(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ht(ye.comparator);f=f.insert(u,Zt.newNoDocument(u,we.min()));const m=ze().add(u),p=new Xh(we.min(),new Map,new ht(Ue),f,m);await OS(s,p),s.du=s.du.remove(u),s.Au.delete(e),jp(s)}else await Gm(s.localStore,e,!1).then((()=>Ym(s,e,n))).catch(So)}async function nx(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await uD(n.localStore,e);VS(n,s,null),MS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pu(n,o)}catch(o){await So(o)}}async function ix(r,e,n){const s=Re(r);try{const o=await(function(f,m){const p=Re(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Qe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);VS(s,e,n),MS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await pu(s,o)}catch(o){await So(o)}}function MS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function VS(r,e,n){const s=Re(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Ym(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||PS(r,s)}))}function PS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Op(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),jp(r))}function WE(r,e,n){for(const s of n)s instanceof NS?(r.Ru.addReference(s.key,e),rx(r,s)):s instanceof DS?(le(zp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||PS(r,s.key)):Se(19791,{wu:s})}function rx(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le(zp,"New document in limbo: "+n),r.Eu.add(s),jp(r))}function jp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(it.fromString(e)),s=r.fu.next();r.Au.set(s,new QD(n)),r.du=r.du.insert(n,s),AS(r.remoteStore,new Yr(Ii(Ap(n.path)),s,"TargetPurposeLimboResolution",qh.ce))}}async function pu(r,e,n){const s=Re(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Dp.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(y,(I=>ne.forEach(I.Es,(M=>E.persistence.referenceDelegate.addReference(T,I.targetId,M))).next((()=>ne.forEach(I.ds,(M=>E.persistence.referenceDelegate.removeReference(T,I.targetId,M)))))))))}catch(T){if(!Ao(T))throw T;le(xp,"Failed to update sequence numbers: "+T)}for(const T of y){const I=T.targetId;if(!T.fromCache){const M=E.Ms.get(I),U=M.snapshotVersion,B=M.withLastLimboFreeSnapshotVersion(U);E.Ms=E.Ms.insert(I,B)}}})(s.localStore,u))}async function sx(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){le(zp,"User change. New user:",e.toKey());const s=await vS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ue(te.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pu(n,s.Ls)}}function ax(r,e){const n=Re(r),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let o=ze();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function kS(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=OS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ax.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tx.bind(null,e),e.Pu.H_=qD.bind(null,e.eventManager),e.Pu.yu=HD.bind(null,e.eventManager),e}function ox(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ix.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lD(this.persistence,new sD,e.initialUser,this.serializer)}Cu(e){return new _S(Np.mi,this.serializer)}Du(e){return new pD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class lx extends Dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Ch,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new FN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new _S((s=>Ch.mi(s,n)),this.serializer)}}class Xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$E(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=sx.bind(null,this.syncEngine),await LD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zD})()}createDatastore(e){const n=$h(e.databaseInfo.databaseId),s=(function(u){return new ED(u)})(e.databaseInfo);return(function(u,f,m,p){return new wD(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new RD(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>$E(this.syncEngine,n,0)),(function(){return FE.v()?new FE:new gD})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const T=new YD(o,u,f,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);le(Xs,"RemoteStore shutting down."),s.Ea.add(5),await mu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xm.provider={build:()=>new Xm};class ux{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ss="FirestoreClient";class cx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=yp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{le(ss,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(le(ss,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Lp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Tm(r,e){r.asyncQueue.verifyOperationInProgress(),le(ss,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await vS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function JE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await hx(r);le(ss,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>KE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>KE(e.remoteStore,o))),r._onlineComponents=e}async function hx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(ss,"Using user provided OfflineComponentProvider");try{await Tm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await Tm(r,new Dh)}}else le(ss,"Using default OfflineComponentProvider"),await Tm(r,new lx(void 0));return r._offlineComponents}async function LS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(ss,"Using user provided OnlineComponentProvider"),await JE(r,r._uninitializedComponentsProvider._online)):(le(ss,"Using default OnlineComponentProvider"),await JE(r,new Xm))),r._onlineComponents}function fx(r){return LS(r).then((e=>e.syncEngine))}async function ZE(r){const e=await LS(r),n=e.eventManager;return n.onListen=XD.bind(null,e.syncEngine),n.onUnlisten=JD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$D.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZD.bind(null,e.syncEngine),n}function US(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const eT=new Map;const zS="firestore.googleapis.com",tT=!0;class nT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zS,this.ssl=tT}else this.host=e.host,this.ssl=e.ssl??tT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qN)throw new ue(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=US(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new p2;switch(s.type){case"firstParty":return new v2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=eT.get(n);s&&(le("ComponentProvider","Removing Datastore"),eT.delete(n),s.terminate())})(this),Promise.resolve()}}function dx(r,e,n,s={}){r=to(r,Zh);const o=_o(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(MT(`https://${m}`),VT("Firestore",!0)),u.host!==zS&&u.host!==m&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Fs(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Jt.MOCK_USER;else{y=Ab(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ue(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(T)}r._authCredentials=new g2(new C0(y,E))}}class bo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bo(this.firestore,e,this._query)}}class Ot{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(cu(n,Ot._jsonSchema))return new Ot(e,s||null,new ye(it.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:xt("string",Ot._jsonSchemaVersion),referencePath:xt("string")};class Zr extends bo{constructor(e,n,s){super(e,n,Ap(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new ye(e))}withConverter(e){return new Zr(this.firestore,e,this._path)}}function ef(r,e,...n){if(r=Yt(r),N0("collection","path",e),r instanceof Zh){const s=it.fromString(e,...n);return mE(s),new Zr(r,null,s)}{if(!(r instanceof Ot||r instanceof Zr))throw new ue(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return mE(s),new Zr(r.firestore,null,s)}}function jS(r,e,...n){if(r=Yt(r),arguments.length===1&&(e=yp.newId()),N0("doc","path",e),r instanceof Zh){const s=it.fromString(e,...n);return dE(s),new Ot(r,null,new ye(s))}{if(!(r instanceof Ot||r instanceof Zr))throw new ue(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return dE(s),new Ot(r.firestore,r instanceof Zr?r.converter:null,new ye(s))}}const iT="AsyncQueue";class rT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TS(this,"async_queue_retry"),this._c=()=>{const s=Em();s&&le(iT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;le(iT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ar("INTERNAL UNHANDLED ERROR: ",sT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=kp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:sT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function sT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function aT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class xh extends Zh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new rT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rT(e),this._firestoreClient=void 0,await e}}}function mx(r,e){const n=typeof r=="object"?r:UT(),s=typeof r=="string"?r:Sh,o=op(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Tb("firestore");u&&dx(o,...u)}return o}function BS(r){if(r._terminated)throw new ue(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||px(r),r._firestoreClient}function px(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new k2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,US(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new cx(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Xt.fromBase64String(e))}catch(n){throw new ue(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ln(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cu(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:xt("string",Ln._jsonSchemaVersion),bytes:xt("string")};class Bp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qp{constructor(e){this._methodName=e}}class Ni{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(cu(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:xt("string",Ni._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};class Di{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cu(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Di(e.vectorValues);throw new ue(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:xt("string",Di._jsonSchemaVersion),vectorValues:xt("object")};const gx=/^__.*__$/;class yx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}function qS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:r})}}class Hp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qS(this.Ac)&&gx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _x{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||$h(e)}Cc(e,n,s,o=!1){return new Hp({Ac:e,methodName:n,Dc:s,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HS(r){const e=r._freezeSettings(),n=$h(r._databaseId);return new _x(r._databaseId,!!e.ignoreUndefinedProperties,n)}function vx(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);KS("Data must be an object, but it was:",f,s);const m=FS(s,f);let p,y;if(u.merge)p=new Wn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const I=Tx(e,T,n);if(!f.contains(I))throw new ue(te.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Ax(E,I)||E.push(I)}p=new Wn(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new yx(new kn(m),p,y)}class Fp extends qp{_toFieldTransform(e){return new lN(e.path,new Zl)}isEqual(e){return e instanceof Fp}}function Ex(r,e,n,s=!1){return Gp(n,r.Cc(s?4:3,e))}function Gp(r,e){if(GS(r=Yt(r)))return KS("Unsupported field value:",e,r),FS(r,e);if(r instanceof qp)return(function(s,o){if(!qS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Gp(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return sN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:Ih(o.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ih(o.serializer,u)}}if(s instanceof Ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:cS(o.serializer,s._byteString)};if(s instanceof Ot){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ip(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Di)return(function(f,m){return{mapValue:{fields:{[U0]:{stringValue:z0},[Ah]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return wp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Bh(s)}`)})(r,e)}function FS(r,e){const n={};return O0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(r,((s,o)=>{const u=Gp(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function GS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof Ni||r instanceof Ln||r instanceof Ot||r instanceof qp||r instanceof Di)}function KS(r,e,n){if(!GS(n)||!D0(n)){const s=Bh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Tx(r,e,n){if((e=Yt(e))instanceof Bp)return e._internalPath;if(typeof e=="string")return QS(r,e);throw Oh("Field path arguments must be of type string or ",r,!1,void 0,n)}const Sx=new RegExp("[~\\*/\\[\\]]");function QS(r,e,n){if(e.search(Sx)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Bp(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Oh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ue(te.INVALID_ARGUMENT,m+r+p)}function Ax(r,e){return r.some((n=>n.isEqual(e)))}class YS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wx extends YS{data(){return super.data()}}function Kp(r,e){return typeof e=="string"?QS(r,e):e instanceof Bp?e._internalPath:e._delegate._internalPath}function bx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qp{}class Rx extends Qp{}function XS(r,e,...n){let s=[];e instanceof Qp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Yp)).length,m=u.filter((p=>p instanceof tf)).length;if(f>1||f>0&&m>0)throw new ue(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class tf extends Rx{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new tf(e,n,s)}_apply(e){const n=this._parse(e);return WS(e._query,n),new bo(e.firestore,e.converter,zm(e._query,n))}_parse(e){const n=HS(e.firestore);return(function(u,f,m,p,y,E,T){let I;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){lT(T,E);const U=[];for(const B of T)U.push(oT(p,u,B));I={arrayValue:{values:U}}}else I=oT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||lT(T,E),I=Ex(m,f,T,E==="in"||E==="not-in");return Dt.create(y,E,I)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $S(r,e,n){const s=e,o=Kp("where",r);return tf._create(o,s,n)}class Yp extends Qp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ei.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)WS(f,p),f=zm(f,p)})(e._query,n),new bo(e.firestore,e.converter,zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function oT(r,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new ue(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q0(e)&&n.indexOf("/")!==-1)throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ye.isDocumentKey(s))throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return SE(r,new ye(s))}if(n instanceof Ot)return SE(r,n._key);throw new ue(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(n)}.`)}function lT(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ix{convertValue(e,n="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ws(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Ah].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new Di(n)}convertGeoPoint(e){return new Ni(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Fh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=ts(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Qe(gS(s),9688,{name:e});const o=new Wl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Cx(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hs extends YS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Kp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Hs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:xt("string",Hs._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class ch extends Hs{data(e={}){return super.data(e)}}class io{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ch(this._firestore,this._userDataWriter,s.key,s,new zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:Nx(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Nx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:r})}}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:xt("string",io._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class JS extends Ix{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function ZS(r,e,n){r=to(r,Ot);const s=to(r.firestore,xh),o=Cx(r.converter,e,n);return Dx(s,[vx(HS(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,nr.none())])}function nf(r,...e){r=Yt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||aT(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(aT(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof Ot)f=to(r.firestore,xh),m=Ap(r._key.path),u={next:p=>{e[s]&&e[s](xx(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=to(r,bo);f=to(p.firestore,xh),m=p._query;const y=new JS(f);u={next:E=>{e[s]&&e[s](new io(f,y,p,E))},error:e[s+1],complete:e[s+2]},bx(r._query)}return(function(y,E,T,I){const M=new ux(I),U=new FD(E,M,T);return y.asyncQueue.enqueueAndForget((async()=>jD(await ZE(y),U))),()=>{M.Nu(),y.asyncQueue.enqueueAndForget((async()=>BD(await ZE(y),U)))}})(BS(f),m,o,u)}function Dx(r,e){return(function(s,o){const u=new qs;return s.asyncQueue.enqueueAndForget((async()=>ex(await fx(s),o,u))),u.promise})(BS(r),e)}function xx(r,e,n){const s=n.docs.get(e._key),o=new JS(r);return new Hs(r,o,e._key,s,new zl(n.hasPendingWrites,n.fromCache),e.converter)}function Ox(){return new Fp("serverTimestamp")}(function(e,n=!0){(function(o){To=o})(vo),ro(new Gs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new xh(new y2(s.getProvider("auth-internal")),new E2(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Wr(uE,cE,e),Wr(uE,cE,"esm2020")})();const Mx={apiKey:"AIzaSyBTLWDVs24WmB0IWVnOc94x2wQuuxxFYbY",authDomain:"footballscores-763f7.firebaseapp.com",projectId:"footballscores-763f7",storageBucket:"footballscores-763f7.firebasestorage.app",messagingSenderId:"946943995894",appId:"1:946943995894:web:5496a25cf8c9df88dd61d7"},eA=LT(Mx),Mh=h2(eA),fo=mx(eA),Vx=r=>r.displayName||(r.email?r.email.split("@")[0].replace(/[._]/g," "):"User"),Px=({user:r})=>{const e=Vx(r);return D.jsxs("header",{className:"navbar",role:"banner",children:[D.jsxs("div",{className:"navbar-top",children:[D.jsxs("div",{className:"navbar-brand","aria-label":"App brand",children:[D.jsx("div",{className:"navbar-logo","aria-hidden":"true",children:D.jsx("span",{role:"img","aria-label":"football",children:""})}),D.jsxs("div",{className:"navbar-text",children:[D.jsx("div",{className:"navbar-title",children:"Family Premier League Picks"}),D.jsx("div",{className:"navbar-subtitle",children:"Predict the scores, beat the family"})]})]}),D.jsxs("div",{className:"navbar-user",children:[D.jsx("div",{className:"userbox__chip",title:e,children:e}),D.jsx("button",{className:"navbar-logout",onClick:()=>eC(Mh),"aria-label":"Log out",children:"Log out"})]})]}),D.jsxs("nav",{className:"navbar-links","aria-label":"Primary navigation",children:[D.jsxs(Ml,{to:"/predictions",className:({isActive:n})=>"nav-link"+(n?" nav-link-active":""),children:[D.jsx("span",{className:"nav-icon","aria-hidden":"true",children:""}),D.jsx("span",{className:"nav-label",children:"Predictions"})]}),D.jsxs(Ml,{to:"/leaderboard",className:({isActive:n})=>"nav-link"+(n?" nav-link-active":""),children:[D.jsx("span",{className:"nav-icon","aria-hidden":"true",children:""}),D.jsx("span",{className:"nav-label",children:"Leaderboard"})]}),D.jsxs(Ml,{to:"/weekly",className:({isActive:n})=>"nav-link"+(n?" nav-link-active":""),children:[D.jsx("span",{className:"nav-icon","aria-hidden":"true",children:""}),D.jsx("span",{className:"nav-label",children:"Gameweek"})]}),D.jsxs(Ml,{to:"/stats",className:({isActive:n})=>"nav-link"+(n?" nav-link-active":""),children:[D.jsx("span",{className:"nav-icon","aria-hidden":"true",children:""}),D.jsx("span",{className:"nav-label",children:"My Stats"})]})]})]})};const hh=2025,kx="https://api.football-data.org/v4",Lx="019e3f1c685f4b479d14119395f161a2";function Vh(r){return r.toISOString().slice(0,10)}function Ux(r){const e=`${kx}/competitions/PL/matches`,n=new URL(e);for(const[s,o]of Object.entries(r))o!=null&&n.searchParams.set(s,String(o));return n.toString()}async function $m(r){const e=Ux(r),n={};n["X-Auth-Token"]=Lx;const s=await fetch(e,{headers:n}),o=await s.text();let u;try{u=JSON.parse(o)}catch{throw console.error("Non-JSON response from Football API:",o),new Error("Football API returned non-JSON response")}if(!s.ok)throw console.error("Football API HTTP error:",s.status,u),new Error(`Football API error ${s.status}: ${JSON.stringify(u&&u.error||u)}`);return u.matches||[]}async function zx(){const r=new Date,e=Vh(r),n=Vh(new Date(r.getTime()+336*60*60*1e3));console.log("[Football API] Detect next GW (range):",{dateFrom:e,dateTo:n});const o=(await $m({dateFrom:e,dateTo:n,status:"SCHEDULED"})).map(p=>p.matchday).filter(p=>typeof p=="number");if(!o.length)throw new Error("No upcoming PL matchdays found in the detection window.");const u=Math.min(...o),f=`Matchday ${u}`;console.log("[Football API] Fetch full GW:",{matchday:u,season:hh});const m=await $m({matchday:u,season:hh});if(!m.length)throw new Error("No matches returned for the detected matchday.");return m.map(nA(f,u,hh))}async function tA(r,e){const n=Vh(r),s=Vh(e);return console.log("[Football API] Requesting range:",{dateFrom:n,dateTo:s}),(await $m({dateFrom:n,dateTo:s})).map(u=>{const f=typeof u.matchday=="number"?u.matchday:void 0,m=f?`Matchday ${f}`:u.group||"Premier League";return nA(m,f,hh)(u)})}function nA(r,e,n){return s=>{const o=s.score?.fullTime||{},u=typeof o.home=="number"?o.home:null,f=typeof o.away=="number"?o.away:null;let m="NS";s.status==="FINISHED"?m="FT":s.status==="IN_PLAY"||s.status==="PAUSED"?m="LIVE":s.status==="SUSPENDED"?m="SUS":s.status==="POSTPONED"&&(m="PST");const p=s.homeTeam||{},y=s.awayTeam||{},E=p.tla||p.shortName||p.name||"Home",T=y.tla||y.shortName||y.name||"Away";return{id:s.id,kickoff:s.utcDate,statusShort:m,statusLong:s.status,round:r,matchday:e??(typeof s.matchday=="number"?s.matchday:void 0),season:n,homeTeam:p.name??"Home",awayTeam:y.name??"Away",homeShort:E,awayShort:T,homeLogo:p.crest??"/badge-fallback.png",awayLogo:y.crest??"/badge-fallback.png",homeGoals:u,awayGoals:f}}}const jx=({status:r,isLive:e})=>{let n="No prediction",s="status-pill status-pill--pending";return r==="exact"?(n=e?"On for 20 pts":"20 pts exact",s="status-pill status-pill--exact"):r==="result"?(n=e?"On for 6 pts":"6 pts correct result",s="status-pill status-pill--result"):r==="wrong"&&(n=e?"Off target":"0 pts",s="status-pill status-pill--wrong"),D.jsx("span",{className:s,children:n})};function mo(r,e,n,s){if(r==null||e==null||n==null||s==null)return{points:null,status:"pending"};if(r===n&&e===s)return{points:20,status:"exact"};const o=(u,f)=>u>f?"H":u<f?"A":"D";return o(r,e)===o(n,s)?{points:6,status:"result"}:{points:0,status:"wrong"}}const Xp="Europe/London";function Bx(r){return new Date(r).toLocaleString("en-GB",{timeZone:Xp,weekday:"long",day:"2-digit",month:"long"})}function qx(r){return new Date(r).toLocaleTimeString("en-GB",{timeZone:Xp,hour:"2-digit",minute:"2-digit"})}function Hx(r){const n=new Date(r).toLocaleString("en-GB",{timeZone:Xp,year:"numeric",month:"2-digit",day:"2-digit"}),[s,o,u]=n.split("/");return`${u}-${o}-${s}`}const Fx=({fixture:r,prediction:e,onChangePrediction:n})=>{const s=qx(r.kickoff),[o,u]=de.useState(!1),f=e?.locked??!1,m=e?.predHome??null,p=e?.predAway??null,y=r.homeGoals!=null&&r.awayGoals!=null,E=r.statusShort!=="NS"&&r.statusShort!=="FT"&&y,T=r.statusShort==="FT",I=r.statusShort==="NS",M=m!=null&&p!=null,[U,B]=de.useState(m?.toString()??""),[z,X]=de.useState(p?.toString()??"");de.useEffect(()=>{o||(B(m?.toString()??""),X(p?.toString()??""))},[m,p,o]);const W=()=>{const C=U===""?null:Math.max(0,parseInt(U,10)||0),x=z===""?null:Math.max(0,parseInt(z,10)||0);return{h:C,a:x}},ie=(()=>{const{h:C,a:x}=W();return C!==null&&x!==null})(),Ee=()=>{const{h:C,a:x}=W();n({predHome:C,predAway:x,locked:!0}),u(!1)},ce=()=>{I&&(u(!0),f&&n({predHome:m,predAway:p,locked:!1}))},{points:pe,status:b}=mo(m,p,r.homeGoals,r.awayGoals),w=y&&b==="exact"?"var(--green)":y&&b==="result"?"var(--blue)":y&&b==="wrong"?"var(--red)":"var(--card-border)",R=E?"LIVE":T?"Full time":`KO ${s}`;return D.jsxs("div",{className:"fx-card card",style:{borderColor:w},children:[D.jsxs("div",{className:"fx-header",children:[D.jsxs("div",{className:"fx-team fx-team--home",children:[D.jsx("img",{className:"fx-logo",src:r.homeLogo,alt:r.homeTeam}),D.jsx("span",{className:"fx-tla",children:r.homeShort})]}),D.jsx("div",{className:`fx-badge ${E?"fx-badge--live":T?"fx-badge--ft":"fx-badge--ko"}`,children:R}),D.jsxs("div",{className:"fx-team fx-team--away",children:[D.jsx("span",{className:"fx-tla",children:r.awayShort}),D.jsx("img",{className:"fx-logo",src:r.awayLogo,alt:r.awayTeam})]})]}),D.jsxs("div",{className:"fx-scoreline",children:[D.jsx("span",{className:"fx-score",children:y?r.homeGoals:""}),D.jsx("span",{className:"fx-colon",children:":"}),D.jsx("span",{className:"fx-score",children:y?r.awayGoals:""})]}),D.jsx("div",{className:"fx-prediction",style:{gridTemplateColumns:"1fr auto"},children:o?D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"fx-inputs",children:[D.jsx("input",{className:"input-score fx-input",type:"number",inputMode:"numeric",min:0,value:U,onChange:C=>B(C.target.value),"aria-label":"Home prediction"}),D.jsx("span",{className:"fx-sep",children:""}),D.jsx("input",{className:"input-score fx-input",type:"number",inputMode:"numeric",min:0,value:z,onChange:C=>X(C.target.value),"aria-label":"Away prediction"})]}),D.jsx("button",{className:"fx-btn",onClick:Ee,title:"Save prediction",disabled:!I||!ie,children:"Save "})]}):D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"fx-pred-summary",title:f?"Prediction locked":"Prediction",children:[D.jsx("span",{className:"fx-label",children:"Prediction"}),D.jsx("span",{className:"fx-pred",children:M?m:""}),D.jsx("span",{className:"fx-sep",children:""}),D.jsx("span",{className:"fx-pred",children:M?p:""})]}),I&&D.jsx("button",{className:"fx-btn",onClick:ce,title:"Edit prediction",children:"Edit "})]})}),(E||T)&&D.jsxs("div",{className:"fx-meta",style:{marginTop:6,justifyContent:"center"},children:[M&&D.jsx(jx,{status:b,isLive:E}),T&&typeof pe=="number"&&D.jsxs("span",{className:"fx-points",children:["This match: ",D.jsx("strong",{children:pe})," pts"]})]})]})},Gx=({user:r})=>{const[e,n]=de.useState([]),[s,o]=de.useState({}),[u,f]=de.useState(!0),[m,p]=de.useState(null);de.useEffect(()=>{(async()=>{try{f(!0),p(null);const M=await zx();M.sort((U,B)=>new Date(U.kickoff).getTime()-new Date(B.kickoff).getTime()),n(M)}catch(M){console.error(M),p(M?.message||"Failed to load fixtures from the Football API. Check your API key or plan.")}finally{f(!1)}})()},[]),de.useEffect(()=>{const I=XS(ef(fo,"predictions"),$S("userId","==",r.uid)),M=nf(I,U=>{const B={};U.forEach(z=>{const X=z.data();B[X.fixtureId]=X}),o(B)});return()=>M()},[r.uid]);const y=async(I,M)=>{const U=`${r.uid}_${I.id}`;let B="Unknown";if(r.displayName)B=r.displayName.trim();else if(r.email){const[X]=r.email.split("@");B=X.split(/[._]/).filter(Boolean).map(W=>W.charAt(0).toUpperCase()+W.slice(1).toLowerCase()).join(" ")}const z={userId:r.uid,userDisplayName:B,fixtureId:I.id,predHome:M.predHome,predAway:M.predAway,locked:M.locked??!1,homeTeam:I.homeTeam,awayTeam:I.awayTeam,kickoff:I.kickoff,round:I.round};o(X=>({...X,[I.id]:z}));try{await ZS(jS(fo,"predictions",U),z,{merge:!0})}catch(X){console.error("Failed to save prediction",X),alert("Could not save your prediction. Please try again.")}},E=e.reduce((I,M)=>{const U=s[M.id];if(!U)return I;const{points:B}=mo(U.predHome,U.predAway,M.homeGoals,M.awayGoals);return I+(B??0)},0),T=de.useMemo(()=>{const I=new Map;for(const M of e){const U=Hx(M.kickoff);I.has(U)||I.set(U,{label:Bx(M.kickoff),items:[]}),I.get(U).items.push(M)}return Array.from(I.entries()).sort(([M],[U])=>M<U?-1:M>U?1:0).map(([,M])=>(M.items.sort((U,B)=>new Date(U.kickoff).getTime()-new Date(B.kickoff).getTime()),M))},[e]);return u?D.jsx("div",{children:"Loading fixtures"}):m?D.jsxs("div",{className:"card",children:[D.jsx("h2",{style:{marginTop:0},children:"Next Gameweek"}),D.jsx("p",{style:{fontSize:13,color:"var(--text-muted)"},children:m})]}):e.length?D.jsxs("div",{children:[D.jsxs("div",{className:"card",style:{marginBottom:16,display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[D.jsxs("div",{children:[D.jsx("p",{style:{fontSize:13,color:"var(--text-muted)",marginTop:4,marginBottom:0},children:"Predict the next Premier League matches. Once games kick off, predictions lock."}),e[0]&&D.jsx("p",{style:{fontSize:11,color:"var(--text-muted)",marginTop:4},children:e[0].round})]}),D.jsxs("div",{style:{textAlign:"right"},children:[D.jsx("div",{style:{fontSize:11,color:"var(--text-muted)"},children:"This gameweek"}),D.jsxs("div",{style:{fontWeight:700,fontSize:20},children:[E," pts"]})]})]}),T.map(({label:I,items:M})=>D.jsxs("section",{style:{marginBottom:16},children:[D.jsx("h3",{style:{margin:"0 0 8px 4px",fontSize:14,color:"var(--text-muted)"},children:I}),D.jsx("div",{className:"fixtures-list",children:M.map(U=>D.jsx(Fx,{fixture:U,prediction:s[U.id]||null,onChangePrediction:B=>y(U,B)},U.id))})]},I))]}):D.jsxs("div",{className:"card",children:[D.jsx("p",{style:{fontSize:13,color:"var(--text-muted)"},children:"No upcoming Premier League fixtures were returned by the API. This might be because:"}),D.jsxs("ul",{style:{fontSize:13,color:"var(--text-muted)",marginTop:8},children:[D.jsx("li",{children:"The free plan doesnt include this league or season"}),D.jsx("li",{children:"Youve hit the daily request limit"}),D.jsx("li",{children:"The API key is misconfigured"})]})]})},iA=de.createContext(void 0),Kx=({children:r})=>{const[e,n]=de.useState({}),[s,o]=de.useState(!0),[u,f]=de.useState(null),[m,p]=de.useState(null);de.useEffect(()=>{let E=!1,T=null;const I={current:!0},M=new Date("2025-08-01T00:00:00Z"),U=new Date("2026-06-01T00:00:00Z"),B=async()=>{try{I.current&&o(!0);const z=await tA(M,U);if(E)return;const X={};z.forEach(W=>{X[W.id]=W}),n(X),f(null),p(Date.now())}catch(z){console.error("[LiveFixtures] Failed to load fixtures",z),E||f(z?.message||"Failed to load live scores from the Football API.")}finally{E||(o(!1),I.current=!1)}};return B(),T=window.setInterval(B,6e4),()=>{E=!0,T!=null&&window.clearInterval(T)}},[]);const y={fixturesById:e,loadingFixtures:s,fixturesError:u,lastUpdated:m};return D.jsx(iA.Provider,{value:y,children:r})},rA=()=>{const r=de.useContext(iA);if(!r)throw new Error("useLiveFixtures must be used within LiveFixturesProvider");return r},Qx=()=>{const[r,e]=de.useState([]),[n,s]=de.useState([]),[o,u]=de.useState(!0),[f,m]=de.useState(null),{fixturesById:p,loadingFixtures:y,fixturesError:E}=rA();de.useEffect(()=>{const M=ef(fo,"predictions"),U=nf(M,B=>{const z=[];B.forEach(X=>{const W=X.data();z.push({userId:W.userId,userDisplayName:W.userDisplayName??"Unknown",fixtureId:W.fixtureId,predHome:W.predHome??null,predAway:W.predAway??null,kickoff:W.kickoff})}),e(z),u(!1)},B=>{console.error("Error loading predictions",B),m("Failed to load predictions."),u(!1)});return()=>U()},[]),de.useEffect(()=>{if(!r.length){s([]);return}const M={};for(const B of r){const z=p[B.fixtureId];let X=null,W="pending";if(z){const Ee=mo(B.predHome,B.predAway,z.homeGoals,z.awayGoals);X=Ee.points,W=Ee.status}M[B.userId]||(M[B.userId]={userId:B.userId,userDisplayName:B.userDisplayName||"Unknown",totalPoints:0,exactCount:0,resultCount:0,wrongCount:0});const ie=M[B.userId];X!=null&&(ie.totalPoints+=X),W==="exact"?ie.exactCount+=1:W==="result"?ie.resultCount+=1:W==="wrong"&&(ie.wrongCount+=1)}const U=Object.values(M).sort((B,z)=>z.totalPoints-B.totalPoints);s(U)},[r,p]);const T=o||y,I=f||E;return T?D.jsx("div",{children:"Loading leaderboard"}):D.jsxs("div",{children:[D.jsxs("div",{className:"card",style:{marginBottom:16,display:"flex",flexDirection:"column",gap:6},children:[D.jsx("h2",{style:{margin:0},children:"Leaderboard"}),D.jsx("p",{style:{fontSize:13,color:"var(--text-muted)",margin:0},children:"Live points across all your Premier League predictions. Updates automatically while games are being played."}),I&&D.jsx("p",{style:{fontSize:12,color:"var(--red)",marginTop:4},children:I})]}),D.jsx("div",{className:"card",children:n.length===0?D.jsx("p",{style:{fontSize:13,color:"var(--text-muted)"},children:"No predictions yet. Once people start predicting, they'll appear here."}):D.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13},children:[D.jsx("thead",{children:D.jsxs("tr",{style:{textAlign:"left",color:"var(--text-muted)",fontSize:11,textTransform:"uppercase",letterSpacing:.5},children:[D.jsx("th",{style:{paddingBottom:8},children:"Rank"}),D.jsx("th",{style:{paddingBottom:8},children:"Player"}),D.jsx("th",{style:{paddingBottom:8,textAlign:"right"},children:"Pts"}),D.jsx("th",{style:{paddingBottom:8,textAlign:"right"},children:"Exact"}),D.jsx("th",{style:{paddingBottom:8,textAlign:"right"},children:"Result"}),D.jsx("th",{style:{paddingBottom:8,textAlign:"right"},children:"Wrong"})]})}),D.jsx("tbody",{children:n.map((M,U)=>D.jsxs("tr",{style:{borderTop:"1px solid rgba(148,163,184,0.15)"},children:[D.jsx("td",{style:{padding:"6px 0"},children:U+1}),D.jsx("td",{style:{padding:"6px 0"},children:M.userDisplayName}),D.jsx("td",{style:{padding:"6px 0",textAlign:"right"},children:D.jsx("strong",{children:M.totalPoints})}),D.jsx("td",{style:{padding:"6px 0",textAlign:"right"},children:M.exactCount}),D.jsx("td",{style:{padding:"6px 0",textAlign:"right"},children:M.resultCount}),D.jsx("td",{style:{padding:"6px 0",textAlign:"right"},children:M.wrongCount})]},M.userId))})]})})]})};function Yx(r){if(!r)return"Unknown";let e=r.trim();if(e.includes("@")){const[s]=e.split("@");e=s}const n=e.split(/[._\s]+/).filter(Boolean).map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase());return n.length?n.join(" "):"Unknown"}const Ga=100,Jc=60,Ka=76,Xx=()=>{const[r,e]=de.useState([]),[n,s]=de.useState(null),[o,u]=de.useState([]),[f,m]=de.useState(null),[p,y]=de.useState(!1),[E,T]=de.useState(!0),[I,M]=de.useState(null),{fixturesById:U,loadingFixtures:B,fixturesError:z}=rA();de.useEffect(()=>{const b=ef(fo,"predictions"),w=nf(b,R=>{const C=[];R.forEach(x=>{const V=x.data();C.push({userId:V.userId,userDisplayName:V.userDisplayName??"Unknown",fixtureId:V.fixtureId,predHome:V.predHome??null,predAway:V.predAway??null,kickoff:V.kickoff,round:V.round??"Unknown"})}),e(C),T(!1)},R=>{console.error("Error loading predictions",R),M("Failed to load predictions."),T(!1)});return()=>w()},[]),de.useEffect(()=>{if(!r.length){s(null);return}const b={};for(const C of r){const x=new Date(C.kickoff).getTime();isNaN(x)||(!b[C.round]||x>b[C.round].latestKickoff)&&(b[C.round]={round:C.round,latestKickoff:x})}const w=Object.values(b);if(!w.length){s(null);return}w.sort((C,x)=>C.latestKickoff-x.latestKickoff);const R=w[w.length-1];s(R.round)},[r]),de.useEffect(()=>{if(!n){m(null),y(!1);return}const b=Object.values(U).filter(C=>C.round===n);if(!b.length){m(null),y(!1);return}const w=Math.min(...b.map(C=>new Date(C.kickoff).getTime()));m(new Date(w));const R=b.some(C=>C.statusShort!=="NS");y(R)},[n,U]),de.useEffect(()=>{if(!n){u([]);return}const b=r.filter(C=>C.round===n);if(!b.length){u([]);return}const w={};for(const C of b){const x=U[C.fixtureId];let V=null;x&&(V=mo(C.predHome,C.predAway,x.homeGoals,x.awayGoals).points),w[C.userId]||(w[C.userId]={userId:C.userId,userDisplayName:Yx(C.userDisplayName),totalPoints:0}),V!=null&&(w[C.userId].totalPoints+=V)}const R=Object.values(w).sort((C,x)=>x.totalPoints-C.totalPoints);u(R)},[n,r,U]);const X=de.useMemo(()=>n?Object.values(U).filter(b=>b.round===n).sort((b,w)=>new Date(b.kickoff).getTime()-new Date(w.kickoff).getTime()):[],[U,n]),W=de.useMemo(()=>{const b={};if(!n)return b;for(const w of r)w.round===n&&(b[`${w.userId}_${w.fixtureId}`]=w);return b},[r,n]),ie=o.length>0?o[0].totalPoints:0,Ee=E||B,ce=I||z;if(Ee)return D.jsx("div",{children:"Loading weekly gameweek view"});if(!n)return D.jsxs("div",{className:"card",children:[D.jsx("h2",{style:{marginTop:0},children:"This Gameweek"}),D.jsx("p",{style:{fontSize:13,color:"var(--text-muted)"},children:"No gameweek predictions found yet. Once everyone starts predicting, this view will show the live weekly race."})]});const pe=f&&f.toLocaleString("en-GB",{timeZone:"Europe/London",weekday:"short",day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"});return D.jsxs("div",{children:[D.jsxs("div",{className:"card",style:{marginBottom:16,display:"flex",flexDirection:"column",gap:6},children:[D.jsx("h2",{style:{margin:0},children:"This Gameweek"}),D.jsxs("p",{style:{fontSize:13,color:"var(--text-muted)",margin:0},children:["Live points for ",D.jsx("strong",{children:n}),". Weekly prize goes to whoever tops this table."]}),pe&&D.jsxs("p",{style:{fontSize:11,color:"var(--text-muted)",margin:0},children:["First kick-off: ",pe]}),ie>0&&o.length>0&&D.jsxs("p",{style:{fontSize:12,color:"var(--text-muted)",marginTop:6},children:["Current leader:"," ",D.jsx("strong",{children:o[0].userDisplayName})," (",o[0].totalPoints," pts)"]}),ce&&D.jsx("p",{style:{fontSize:12,color:"var(--red)",marginTop:4},children:ce})]}),p?D.jsx("div",{className:"card",style:{padding:0},children:D.jsx("div",{style:{overflowX:"auto"},children:D.jsxs("table",{style:{width:"100%",minWidth:500,borderCollapse:"collapse",fontSize:13},children:[D.jsx("thead",{children:D.jsxs("tr",{style:{textAlign:"left",color:"var(--text-muted)",fontSize:11,textTransform:"uppercase",letterSpacing:.5},children:[D.jsx("th",{style:{padding:"10px 12px",position:"sticky",left:0,background:"var(--card-bg)",width:Ga,minWidth:Ga,zIndex:3},children:"Player"}),D.jsx("th",{style:{padding:"10px 8px",textAlign:"right",position:"sticky",left:Ga,background:"var(--card-bg)",width:Jc,minWidth:Jc,zIndex:3},children:"Pts"}),X.map(b=>{const w=b.homeGoals!=null&&b.awayGoals!=null;return D.jsx("th",{style:{padding:"8px 4px",textAlign:"center",borderLeft:"1px solid rgba(148,163,184,0.18)",width:Ka,minWidth:Ka},children:D.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:6},children:[D.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[b.homeLogo&&D.jsx("img",{src:b.homeLogo,alt:b.homeTeam,style:{width:24,height:24}}),D.jsx("span",{style:{fontSize:11,opacity:.8},children:"vs"}),b.awayLogo&&D.jsx("img",{src:b.awayLogo,alt:b.awayTeam,style:{width:24,height:24}})]}),D.jsx("div",{style:{fontSize:13,fontWeight:700,color:w?"var(--text)":"var(--text-muted)"},children:w?`${b.homeGoals}${b.awayGoals}`:""})]})},b.id)})]})}),D.jsx("tbody",{children:o.map(b=>{const w=ie>0&&b.totalPoints===ie;return D.jsxs("tr",{style:{borderTop:"1px solid rgba(148,163,184,0.18)",background:w?"linear-gradient(to right, rgba(34,197,94,0.12), transparent)":"transparent"},children:[D.jsx("td",{style:{padding:"8px 12px",position:"sticky",left:0,background:"var(--card-bg)",width:Ga,minWidth:Ga,zIndex:2},children:D.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontWeight:600},children:[w&&D.jsx("span",{style:{fontSize:16},children:""}),D.jsx("span",{children:b.userDisplayName})]})}),D.jsx("td",{style:{padding:"8px 8px",textAlign:"right",position:"sticky",left:Ga,background:"var(--card-bg)",fontWeight:700,width:Jc,minWidth:Jc,zIndex:2},children:b.totalPoints}),X.map(R=>{const C=`${b.userId}_${R.id}`,x=W[C];if(!x)return D.jsx("td",{style:{padding:"6px 4px",textAlign:"center",fontSize:12,color:"var(--text-muted)",borderLeft:"1px solid rgba(148,163,184,0.18)",width:Ka,minWidth:Ka},children:""},R.id);const{points:V,status:N}=mo(x.predHome,x.predAway,R.homeGoals,R.awayGoals);let Ie="transparent",nt="";N==="exact"?(Ie="rgba(34,197,94,0.22)",nt=""):N==="result"?Ie="rgba(59,130,246,0.18)":N==="wrong"&&(Ie="rgba(148,163,184,0.08)");const Q=R.homeGoals!=null&&R.awayGoals!=null;return D.jsxs("td",{style:{padding:"6px 4px",textAlign:"center",borderLeft:"1px solid rgba(148,163,184,0.18)",width:Ka,minWidth:Ka},children:[D.jsxs("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:4,padding:N==="pending"?"0":"4px 10px",borderRadius:999,background:Ie,fontSize:13},children:[nt&&D.jsx("span",{style:{fontSize:12,marginRight:2},children:nt}),D.jsxs("span",{children:[x.predHome??"","",x.predAway??""]})]}),Q&&D.jsxs("div",{style:{fontSize:11,color:"var(--text-muted)",marginTop:2},children:[R.homeGoals,"",R.awayGoals," ",V!=null&&V!==0&&D.jsxs("strong",{children:["(",V," pt",V===1?"":"s",")"]})]})]},R.id)})]},b.userId)})})]})})}):D.jsxs("div",{className:"card",children:[D.jsxs("p",{style:{fontSize:13,color:"var(--text-muted)",marginBottom:4},children:["Predictions are hidden until the first match of"," ",D.jsx("strong",{children:n})," is live. No copying lineups this week "]}),pe&&D.jsx("p",{style:{fontSize:12,color:"var(--text-muted)",marginTop:4},children:"They'll unlock once the early kick-off starts."})]})]})},$x=({user:r})=>{const[e,n]=de.useState([]),[s,o]=de.useState({}),[u,f]=de.useState([]),[m,p]=de.useState(0),[y,E]=de.useState(0),[T,I]=de.useState(0),[M,U]=de.useState(0),[B,z]=de.useState(!0),[X,W]=de.useState(null),[ie,Ee]=de.useState(null);return de.useEffect(()=>{const ce=XS(ef(fo,"predictions"),$S("userId","==",r.uid)),pe=nf(ce,b=>{const w=[];b.forEach(R=>{const C=R.data();w.push({userId:C.userId,userDisplayName:C.userDisplayName??"Unknown",fixtureId:C.fixtureId,predHome:C.predHome??null,predAway:C.predAway??null,kickoff:C.kickoff,round:C.round??"Unknown"})}),n(w),z(!1)},b=>{console.error("Error loading user predictions",b),W("Failed to load your predictions."),z(!1)});return()=>pe()},[r.uid]),de.useEffect(()=>{if(!e.length){o({});return}let ce=!1;return(async()=>{try{const b=e.map(Ie=>new Date(Ie.kickoff).getTime()).filter(Ie=>!isNaN(Ie));if(!b.length)return;const w=Math.min(...b),R=Math.max(...b),C=new Date(w-1440*60*1e3),x=new Date(R+1440*60*1e3),V=await tA(C,x);if(ce)return;const N={};V.forEach(Ie=>{N[Ie.id]=Ie}),o(N),W(null)}catch(b){console.error("Failed to load fixtures for stats page",b),ce||W(b?.message||"Failed to load live scores from the Football API.")}})(),()=>{ce=!0}},[e]),de.useEffect(()=>{if(!e.length){f([]),p(0),E(0),I(0),U(0);return}const ce={};e.forEach(V=>{ce[V.round]||(ce[V.round]=[]),ce[V.round].push(V)});const pe=[];let b=0,w=0,R=0,C=0;for(const[V,N]of Object.entries(ce)){const Ie=[];let nt=0,Q=0,ae=0,me=0,xe=0,Ve=null,k=!0;for(const $ of N){const re=s[$.fixtureId];if(!re){k=!1,xe+=1;continue}const oe=mo($.predHome,$.predAway,re.homeGoals,re.awayGoals),{points:_e,status:Ae}=oe;re.statusShort==="FT"||re.homeGoals!=null&&re.awayGoals!=null||(k=!1),_e!=null&&(nt+=_e,b+=_e),Ae==="exact"?(Q+=1,w+=1):Ae==="result"?(ae+=1,R+=1):Ae==="wrong"?(me+=1,C+=1):xe+=1;const ft=new Date(re.kickoff);(!Ve||ft<Ve)&&(Ve=ft),Ie.push({fixture:re,prediction:$,points:_e,status:oe.status})}Ve||(Ve=new Date(N[0].kickoff)),Ie.sort(($,re)=>new Date($.fixture.kickoff).getTime()-new Date(re.fixture.kickoff).getTime()),pe.push({round:V,totalPoints:nt,exactCount:Q,resultCount:ae,wrongCount:me,pendingCount:xe,fixtures:Ie,isComplete:k&&Ie.length>0,start:Ve})}const x=pe.filter(V=>V.isComplete).sort((V,N)=>N.start.getTime()-V.start.getTime());f(x),p(b),E(w),I(R),U(C),!ie&&x.length>0&&Ee(x[0].round)},[e,s,ie]),B?D.jsx("div",{children:"Loading your stats"}):D.jsxs("div",{children:[D.jsxs("div",{className:"card",style:{marginBottom:16,display:"flex",flexDirection:"column",gap:8},children:[D.jsx("h2",{style:{margin:0},children:"My Stats"}),D.jsx("p",{style:{fontSize:13,color:"var(--text-muted)",margin:0},children:"A breakdown of every completed gameweek you've played so far. Tap a week to see your scores and points."}),D.jsxs("div",{style:{display:"flex",gap:12,marginTop:8,flexWrap:"wrap",fontSize:12},children:[D.jsxs("div",{children:[D.jsx("span",{style:{color:"var(--text-muted)"},children:"Total points: "}),D.jsx("strong",{children:m})]}),D.jsxs("div",{children:[D.jsx("span",{style:{color:"var(--text-muted)"},children:"Exact scores: "}),D.jsx("strong",{children:y})]}),D.jsxs("div",{children:[D.jsx("span",{style:{color:"var(--text-muted)"},children:"Correct result: "}),D.jsx("strong",{children:T})]}),D.jsxs("div",{children:[D.jsx("span",{style:{color:"var(--text-muted)"},children:"Wrong: "}),D.jsx("strong",{children:M})]})]}),X&&D.jsx("p",{style:{fontSize:12,color:"var(--red)",marginTop:4},children:X})]}),u.length===0?D.jsx("div",{className:"card",children:D.jsx("p",{style:{fontSize:13,color:"var(--text-muted)"},children:"No completed gameweeks yet. Once a full matchday you've predicted is finished, it will appear here with a full breakdown."})}):u.map(ce=>{const pe=ie===ce.round,b=ce.start.toLocaleDateString("en-GB",{weekday:"short",day:"2-digit",month:"short"});return D.jsxs("div",{className:"card",style:{marginBottom:10,paddingBottom:pe?10:8},children:[D.jsxs("button",{type:"button",onClick:()=>Ee(w=>w===ce.round?null:ce.round),style:{all:"unset",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"4px 0"},children:[D.jsxs("div",{children:[D.jsx("div",{style:{fontSize:13,fontWeight:600},children:ce.round}),D.jsxs("div",{style:{fontSize:11,color:"var(--text-muted)",marginTop:2},children:[b,"  ",ce.fixtures.length," matches "," ",ce.exactCount," exact, ",ce.resultCount," result,"," ",ce.wrongCount," wrong"]})]}),D.jsxs("div",{style:{textAlign:"right"},children:[D.jsx("div",{style:{fontSize:11,color:"var(--text-muted)"},children:"Total"}),D.jsxs("div",{style:{fontSize:16,fontWeight:700},children:[ce.totalPoints," pts"]}),D.jsx("div",{style:{fontSize:16,marginTop:2,transform:pe?"rotate(90deg)":"rotate(0deg)",transition:"transform 120ms ease-out"},children:""})]})]}),pe&&D.jsx("div",{style:{marginTop:10,borderTop:"1px solid rgba(148,163,184,0.2)",paddingTop:8},children:ce.fixtures.map(w=>{const R=w.fixture,C=w.prediction,x=R.homeGoals!=null&&R.awayGoals!=null;let V="#4b5563",N="Pending";w.status==="exact"?(V="var(--green)",N="Exact"):w.status==="result"?(V="var(--blue)",N="Correct result"):w.status==="wrong"&&(V="var(--red)",N="Wrong");const Ie=new Date(R.kickoff).toLocaleString("en-GB",{weekday:"short",day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"});return D.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"6px 0",borderBottom:"1px solid rgba(148,163,184,0.12)"},children:[D.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,flex:1},children:[D.jsx("div",{style:{width:32,height:32,borderRadius:999,overflow:"hidden"},children:D.jsx("img",{src:R.homeLogo,alt:R.homeTeam,style:{width:"100%",height:"100%",objectFit:"contain"}})}),D.jsx("div",{style:{width:32,height:32,borderRadius:999,overflow:"hidden"},children:D.jsx("img",{src:R.awayLogo,alt:R.awayTeam,style:{width:"100%",height:"100%",objectFit:"contain"}})}),D.jsxs("div",{children:[D.jsxs("div",{style:{fontSize:13,fontWeight:500},children:[R.homeTeam," vs ",R.awayTeam]}),D.jsx("div",{style:{fontSize:11,color:"var(--text-muted)"},children:Ie})]})]}),D.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,minWidth:180,justifyContent:"flex-end"},children:[D.jsxs("div",{style:{textAlign:"right"},children:[D.jsx("div",{style:{fontSize:11,color:"var(--text-muted)"},children:"Your prediction"}),D.jsxs("div",{style:{fontSize:15,fontWeight:600},children:[C.predHome??"","",C.predAway??""]}),x&&D.jsxs("div",{style:{fontSize:11,color:"var(--text-muted)",marginTop:2},children:["Final: ",R.homeGoals,"",R.awayGoals]})]}),D.jsxs("div",{style:{textAlign:"right"},children:[D.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"2px 8px",borderRadius:999,background:V,fontSize:11,fontWeight:600,marginBottom:4},children:N}),w.points!=null&&D.jsxs("div",{style:{fontSize:13,fontWeight:600},children:[w.points," pt",w.points===1?"":"s"]})]})]})]},R.id)})})]},ce.round)})]})},Wx=()=>{const[r,e]=de.useState(!1),[n,s]=de.useState(""),[o,u]=de.useState(""),[f,m]=de.useState(""),[p,y]=de.useState(""),[E,T]=de.useState(null),[I,M]=de.useState(!1),U=async B=>{B.preventDefault(),T(null),M(!0);try{if(r){if(!n.trim()||!o.trim()){T("Please enter your first and last name."),M(!1);return}const z=await QI(Mh,f,p),X=`${n.trim()} ${o.trim()}`.trim();await $I(z.user,{displayName:X}),await ZS(jS(fo,"users",z.user.uid),{firstName:n.trim(),lastName:o.trim(),displayName:X,email:f.toLowerCase(),createdAt:Ox()})}else await YI(Mh,f,p)}catch(z){console.error(z),T(z.message||"Something went wrong")}finally{M(!1)}};return D.jsxs("div",{className:"login-page",children:[D.jsx("div",{className:"login-overlay"}),D.jsxs("div",{className:"login-container",children:[D.jsx("h1",{className:"login-title",children:" Football Predictor"}),D.jsx("p",{className:"login-subtitle",children:r?"Create an account to join your family league.":"Sign in to make your predictions."}),D.jsxs("form",{onSubmit:U,className:"login-form",children:[r&&D.jsxs("div",{className:"name-fields",children:[D.jsx("input",{type:"text",placeholder:"First name",value:n,onChange:B=>s(B.target.value),required:!0}),D.jsx("input",{type:"text",placeholder:"Last name",value:o,onChange:B=>u(B.target.value),required:!0})]}),D.jsx("input",{type:"email",placeholder:"Email",value:f,onChange:B=>m(B.target.value),required:!0}),D.jsx("input",{type:"password",placeholder:"Password",value:p,onChange:B=>y(B.target.value),required:!0}),E&&D.jsx("div",{className:"login-error",children:E}),D.jsx("button",{type:"submit",disabled:I,children:I?"Please wait...":r?"Create Account":"Sign In"})]}),D.jsxs("p",{className:"toggle-text",children:[r?"Already have an account?":"New here?"," ",D.jsx("span",{onClick:()=>e(!r),children:r?"Sign In":"Create One"})]}),D.jsxs("p",{className:"login-footer",children:[" ",new Date().getFullYear()," Football Predictor"]})]})]})},Jx=()=>{const[r,e]=de.useState(null),[n,s]=de.useState(!0);return de.useEffect(()=>{const o=ZI(Mh,u=>{e(u),s(!1)});return()=>o()},[]),n?D.jsx("div",{style:{padding:16},children:"Loading"}):D.jsx(rb,{children:r?D.jsx(Kx,{children:D.jsxs("div",{className:"app-shell",children:[D.jsx(Px,{user:r}),D.jsxs(Dv,{children:[D.jsx(zs,{path:"/predictions",element:D.jsx(Gx,{user:r})}),D.jsx(zs,{path:"/leaderboard",element:D.jsx(Qx,{})}),D.jsx(zs,{path:"/weekly",element:D.jsx(Xx,{})}),D.jsx(zs,{path:"/stats",element:D.jsx($x,{user:r})}),D.jsx(zs,{path:"*",element:D.jsx(Vw,{to:"/predictions",replace:!0})})]})]})}):D.jsx(Dv,{children:D.jsx(zs,{path:"*",element:D.jsx(Wx,{})})})})},Zx="modulepreload",eO=function(r){return"/football-predictions-app/"+r},uT={},tO=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let y=function(E){return Promise.all(E.map(T=>Promise.resolve(T).then(I=>({status:"fulfilled",value:I}),I=>({status:"rejected",reason:I}))))};var f=y;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=m?.nonce||m?.getAttribute("nonce");o=y(n.map(E=>{if(E=eO(E),E in uT)return;uT[E]=!0;const T=E.endsWith(".css"),I=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${I}`))return;const M=document.createElement("link");if(M.rel=T?"stylesheet":Zx,T||(M.as="script"),M.crossOrigin="",M.href=E,p&&M.setAttribute("nonce",p),document.head.appendChild(M),T)return new Promise((U,B)=>{M.addEventListener("load",U),M.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${E}`)))})}))}function u(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return o.then(m=>{for(const p of m||[])p.status==="rejected"&&u(p.reason);return e().catch(u)})};function nO(r={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:s,onRegistered:o,onRegisteredSW:u,onRegisterError:f}=r;let m,p;const y=async(T=!0)=>{await p};async function E(){if("serviceWorker"in navigator){if(m=await tO(async()=>{const{Workbox:T}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:T}},[]).then(({Workbox:T})=>new T("/football-predictions-app/sw.js",{scope:"/football-predictions-app/",type:"classic"})).catch(T=>{f?.(T)}),!m)return;m.addEventListener("activated",T=>{(T.isUpdate||T.isExternal)&&window.location.reload()}),m.addEventListener("installed",T=>{T.isUpdate||s?.()}),m.register({immediate:e}).then(T=>{u?u("/football-predictions-app/sw.js",T):o?.(T)}).catch(T=>{f?.(T)})}}return p=E(),y}nO({onNeedRefresh(){},onOfflineReady(){}});G1.createRoot(document.getElementById("root")).render(D.jsx(de.StrictMode,{children:D.jsx(Jx,{})}));
